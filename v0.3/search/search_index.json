{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"LEADR Documentation","text":"<p>Cross-platform leaderboards backend for game developers. Add feature-rich leaderboards, engagement tools and more to any game. Open-source core, any game engine, cross-platform support, and built for developers who want leaderboards that do more than just store scores.</p> <p>Launching early 2026!</p> <p>LEADR is being built right now, with LEADR's open-source core and cloud-hosted service under very active development. See for yourself.</p> <p>Want to be the first to know when LEADR launches? Join the waitlist.</p> <p>To get early access to the closed beta, drop us an email.</p>"},{"location":"#get-started","title":"Get Started","text":"<p>Quick Start Create a LEADR account and set up your first leaderboard in minutes. No credit card required.</p> <p>Add LEADR To Your Game Ready to build with LEADR? Use one of our SDKs in your game engine.</p> <p>Cloud Service Let us handle hosting, scaling, and maintenance. Free tier available.</p> <p>Self-Host Deploy LEADR on your own infrastructure. Complete control, zero cost, Apache 2.0 licensed.</p>"},{"location":"#learn-more","title":"Learn More","text":"<ul> <li>Features - See what LEADR can do</li> <li>CLI - Use LEADR via our command-line tool</li> <li>About - Why LEADR exists</li> </ul>"},{"location":"#development","title":"Development","text":"<ul> <li>Roadmap - Planned development and new features for LEADR's open-source core</li> <li>Software Patterns - Core design concepts explained</li> <li>Client Authentication - How we securely connect game clients to the LEADR API</li> <li>API Reference - Complete API documentation</li> </ul>"},{"location":"#community","title":"Community","text":"<p>Join the conversation and get help:</p> <ul> <li>Discord - Real-time community chat</li> <li>Reddit - Discussions and announcements</li> <li>GitHub - Open-source repository</li> <li>Email: hello@leadr.gg</li> </ul>"},{"location":"about/","title":"About LEADR","text":"<p>LEADR started from a simple observation: indie game developers were stuck between terrible options. Platform lock-in with Steam or console-specific solutions. Bloated enterprise backends that want to run your entire game and cost a fortune. Or burning precious development time building leaderboards from scratch. But more than that, the existing solutions were boring. They store scores and call it done. As a backend and product developer with game development as a hobby, I kept thinking: we could do so much more. The amplifying potential of leaderboards as social infrastructure is enormous, so much more than just data storage. They're the difference between \"I beat the game\" and \"I need to beat Sarah's speedrun.\" Between a game you finish and a game you keep coming back to.</p> <p>That's why LEADR exists. We follow the Unix philosophy: do one thing, and do it brilliantly. We're not trying to be your entire backend. We focus exclusively on leaderboards, achievements, and the social features that turn single-player experiences into community events. For more details check out our blog post on the topic, Why We Built a Game Leaderboard Service.</p> <p>We're a small, bootstrapped outfit based in Europe, built by people who love playing, making, and supporting games. No venture capital, no pressure to pivot to blockchain, no quarterly targets forcing us to bloat the feature set. We're building something sustainable for the long term, growing organically with the indie community. The core platform is open-source under Apache 2.0:, so you can see exactly how it works, even self-host it if you want, and trust that we're not going anywhere because the code is yours regardless.</p> <p>LEADR brings professional backend expertise to solve real game developer problems. This isn't about replicating the bloated all-in-one solutions that already exist. It's about building engagement infrastructure that actually makes games stickier and more social. Web-viewable leaderboards your players can share on Discord. Seasonal tournaments that create \"just one more run\" moments. Embeddable widgets for your game's website. Streamer integration that turns speedruns into community events. The features that matter, built for developers who want to focus on making great games instead of wrestling with backend configuration. Cross-platform from day one - Unity, Godot, Unreal, GameMaker, or anything that speaks HTTP. We play nice with your existing stack. We're not here to own your game; we're here to make it even more awesome.</p> <p>We're still early in this journey, and we want to build LEADR alongside the indie community, not just for it. If you've got thoughts on what leaderboard infrastructure should look like, frustrations with existing tools, or just want to chat about game development - we'd love to hear from you.</p> <p>Join us for a chat on Discord, find us on Reddit, or drop us an email at hello@leadr.gg. Your input shapes what we build. Let's make game services less boring together.</p>"},{"location":"features/","title":"Features","text":"<p>LEADR provides everything you need to turn your game into a competitive, social experience. From flexible leaderboard configuration to anti-cheat protection, these features are designed to help you build engaged player communities without wrestling with backend complexity.</p>"},{"location":"features/#leaderboards","title":"Leaderboards","text":"<p>Create leaderboards that fit your game perfectly. Configure custom units (seconds for speedruns, points for scores, meters for distance challenges), choose ascending or descending sorting, and decide how to handle multiple scores from the same player. Keep only their best score, track their latest attempt, or store their entire history. Organize boards with tags, add icons for visual identification, and give each board a memorable short code for easy sharing.</p> <p>Make your first leaderboard</p>"},{"location":"features/#game-engine-sdks","title":"Game Engine SDKs","text":"<p>Native SDKs for Godot, Unity, Unreal, and more game engines make integration straightforward. Drop the SDK into your project, add your API key, and you're ready to submit scores and query leaderboards. Each SDK is built specifically for its platform, providing idiomatic APIs that feel natural to developers already working in that engine.</p> <p>Get started with SDKs</p>"},{"location":"features/#anti-cheat","title":"Anti-Cheat","text":"<p>Protect your leaderboards with industry-leading client authentication and built-in detection mechanisms. LEADR's client authentication system ensures scores come from legitimate game clients, while anomaly detection flags suspicious submissions automatically. Keep competition fair without building complex anti-cheat systems yourself.</p> <p>Learn about LEADR's anti-cheat system</p> <p>Learn about client authentication</p>"},{"location":"features/#web-views","title":"Web Views","text":"<p>Every leaderboard in the hosted LEADR cloud service gets a beautiful, shareable web page. Players can compare their ranks, developers can embed leaderboards on game websites, and streamers can display live competition standings. No additional configuration needed - web views are automatically generated for every board you create.</p>"},{"location":"features/#time-limited-leaderboards","title":"Time-Limited Leaderboards","text":"<p>Run recurring competitions with seasonal boards that reset automatically from templates - perfect for weekly challenges or seasonal rankings. Create one-off tournaments for special events, streaming competitions, or limited-time modes. Set start and end times, and LEADR handles the rest, including archiving completed boards for historical reference.</p> <p>Learn more in the API Reference</p> <p>Looking for something not listed here? Check out our roadmap to see what's coming next, or join the conversation in our Discord to share your ideas.</p>"},{"location":"quick_start/","title":"Quick Start","text":"<p>Get a LEADR account and create your first leaderboard in under 5 minutes. By the end of this guide, you'll have a working leaderboard ready for your game.</p>"},{"location":"quick_start/#download-the-cli","title":"Download the CLI","text":"<p>Install the LEADR command-line tool:</p> <pre><code>curl -sSL https://raw.githubusercontent.com/LEADR-official/leadr-cli-releases/main/install.sh | bash\n</code></pre> <p>For manual installation, download binaries from the Releases page.</p> <p>Verify the installation:</p> <pre><code>leadr --version\n</code></pre>"},{"location":"quick_start/#create-an-account","title":"Create an Account","text":"<p>Register for a free LEADR account:</p> <pre><code>leadr register\n</code></pre> <p>This interactive command prompts you for your email, display name, and studio or team name. Your API key is automatically saved to your local configuration.</p> <p>Keep Your API Key Secret</p> <p>Your API key is for your personally to access LEADR admin features for your account.</p> <p>NEVER put any API key directly in your code - use the CLI, environment variables, or other secure methods.</p> <p>We'll never ask you for it, and you shouldn't give it to strangers on the internet.</p> <p>Keep it secret. Keep it (your game) safe.</p> <p>See CLI Getting Started for more details on account setup and verification.</p>"},{"location":"quick_start/#create-a-leaderboard","title":"Create a Leaderboard","text":"<p>First, create a game:</p> <pre><code>leadr game create --name \"My Game\"\n</code></pre> <p>Note the game UUID from the output, then create a leaderboard:</p> <pre><code>leadr board create --game-id &lt;game-uuid&gt; --name \"High Scores\" --slug highscores\n</code></pre> <p>You can reference this leaderboard in your game's code using the returned UUID or <code>short_code</code>.</p> <p>See CLI Getting Started for more leaderboard options like sort direction, score units, and score keep strategies.</p>"},{"location":"quick_start/#add-leadr-to-your-game","title":"Add LEADR to Your Game","text":"<p>Native SDKs for Godot, Unity, and more game engines are in development. These will provide APIs that feel natural in your development environment.</p> <p>Check the SDKs page for the latest availability, or join the waitlist for early access.</p> <p>Need to integrate now? The HTTP API is available for direct integration from any platform.</p>"},{"location":"quick_start/#next-steps","title":"Next Steps","text":"<ul> <li>CLI Getting Started - Detailed CLI walkthrough with all options</li> <li>Features - Explore what LEADR can do</li> <li>SDKs - Game engine integrations</li> <li>Discord - Get help from the community</li> </ul>"},{"location":"roadmap/","title":"Roadmap","text":"<p>LEADR is actively evolving based on feedback from the indie game development community and adding great new features as fast as we can. Here's what we're working on next.</p>"},{"location":"roadmap/#coming-soon","title":"Coming Soon","text":""},{"location":"roadmap/#data-export","title":"Data Export","text":"<p>If you're needs change, or you just want to do some offline analysis, you can export your full LEADR data at any time.</p>"},{"location":"roadmap/#ghosts-replays","title":"Ghosts &amp; Replays","text":"<p>Store and share gameplay recordings directly through LEADR. Players can download ghosts to race against top performers, study high-level strategies, or share their own achievements. Perfect for speedrunning communities, competitive multiplayer, or any game where \"show, don't tell\" matters. Store replay metadata alongside scores and retrieve them when needed.</p>"},{"location":"roadmap/#invite-only-leaderboards","title":"Invite-Only Leaderboards","text":"<p>Create private boards for closed beta testing, streamer subscriber competitions, or exclusive community events. Control exactly who can submit scores while keeping the competitive experience intact. Perfect for pre-launch testing or building VIP experiences for your most dedicated players.</p>"},{"location":"roadmap/#score-analytics","title":"Score Analytics","text":"<p>Understand how players interact with your game through score distribution analytics. See where players struggle, identify difficulty spikes, and make data-driven decisions about balancing and progression. Analytics help you tune difficulty curves, adjust scoring systems, and build better player experiences based on real gameplay data.</p>"},{"location":"roadmap/#platform-sync","title":"Platform Sync","text":"<p>Import and synchronize with existing Steam Leaderboards and Unity Gaming Services. Migrate your established leaderboards without losing history, or run LEADR alongside platform-specific boards for expanded functionality. Unify your player data across multiple platforms while maintaining compatibility with existing integrations.</p>"},{"location":"roadmap/#user-generated-content-galleries","title":"User-Generated Content Galleries","text":"<p>Let players share and discover community creations. Upload custom levels, character designs, mods, or any user-generated content alongside leaderboard scores. Build browsable galleries with ratings, comments, and featured content. Turn your game into a creative community, not just a competitive one.</p>"},{"location":"roadmap/#board-bounties","title":"Board Bounties","text":"<p>Trigger automated prizes and rewards when players achieve specific milestones. Top the global leaderboard, beat a developer ghost time, or reach a target score - and automatically award Steam keys, Discord roles, in-game items, or custom webhooks. Perfect for community events, launch promotions, and keeping competition exciting.</p> <p>Have ideas for what should come next? Join the discussion on Discord or Reddit - your feedback shapes what we build.</p>"},{"location":"api/","title":"LEADR API Documentation","text":"<p>Welcome to the LEADR API documentation.</p>"},{"location":"api/#documentation-sections","title":"Documentation Sections","text":""},{"location":"api/#python-api-reference","title":"Python API Reference","text":"<p>Complete reference for all Python modules, classes, and functions in the LEADR codebase. Auto-generated from docstrings using griffe2md and organized by module.</p>"},{"location":"api/#architecture-patterns","title":"Architecture Patterns","text":"<p>Comprehensive guide to the Domain-Driven Design patterns and best practices used throughout the LEADR codebase.</p>"},{"location":"api/#http-api-reference","title":"HTTP API Reference","text":"<p>Complete REST API documentation for all HTTP endpoints. Auto-generated from the FastAPI application's OpenAPI specification and organized by resource.</p>"},{"location":"api/#quick-links","title":"Quick Links","text":"<ul> <li>GitHub Repository</li> <li>Getting Started Guide</li> <li>Contributing Guidelines</li> </ul>"},{"location":"api/#about-leadr","title":"About LEADR","text":"<p>LEADR is a cross-platform leaderboard backend for indie game developers. It's an open-source FastAPI-based REST API that provides leaderboard functionality with features like:</p> <ul> <li>Multi-tenant account management</li> <li>Flexible leaderboard configurations</li> <li>Score tracking with metadata</li> <li>API key authentication</li> <li>Beautiful web views</li> <li>Anti-cheat protection (planned)</li> <li>Season support (planned)</li> </ul>"},{"location":"api/#development","title":"Development","text":"<p>For information about contributing to LEADR, setting up your development environment, and understanding the codebase architecture, please refer to:</p> <ul> <li>Project README for quick start</li> <li><code>CLAUDE.md</code> for AI assistant guidance</li> <li><code>patterns.md</code> for architectural patterns</li> <li>Python API Reference (this documentation) for code details</li> </ul> <p>Last updated: Auto-generated on release</p>"},{"location":"api/client-api/","title":"Client API Quick Reference","text":"<p>A practical guide for integrating directly with the LEADR REST API. For in-depth concepts see:</p> <ul> <li>Client Authentication Guide.</li> <li>API Reference.</li> </ul>"},{"location":"api/client-api/#base-url","title":"Base URL","text":"<pre><code>https://api.leadrcloud.com\n</code></pre> <p>Or,</p> <pre><code>https://your-leadr-instance.com\n</code></pre>"},{"location":"api/client-api/#authentication","title":"Authentication","text":""},{"location":"api/client-api/#0-generate-a-device-fingerprint","title":"0. Generate a Device Fingerprint","text":"<p>The <code>client_fingerprint</code> identifies a device across sessions and helps LEADR fight cheaters. It is never used for tracking players. It should be:</p> <ul> <li>Stable: Same value on each game launch</li> <li>Unique-ish: Different per device (collisions are acceptable)</li> <li>SHA256 format: 64 lowercase hex characters</li> <li>NOT contain personal information: To protect player privacy, don't use emails, IP addresses, social security numbers, or anything else that could be considered \"personally identifiable information\"</li> </ul> <p>Recommended approach: Hash a combination of hardware/software identifiers available on your platform.</p> <pre><code>fingerprint = SHA256(platform + device_id + any_stable_identifier)\n</code></pre> <p>Platform examples:</p> Platform Suggested inputs Unity <code>SystemInfo.deviceUniqueIdentifier</code>, or combine <code>graphicsDeviceName</code> + <code>processorType</code> + <code>systemMemorySize</code> Godot <code>OS.get_unique_id()</code>, or combine <code>OS.get_processor_name()</code> + <code>OS.get_video_adapter_driver_info()</code> Windows Combine CPU name, GPU name, total RAM, OS version, screen resolution macOS Combine <code>hw.model</code>, CPU brand, GPU name, screen resolution Linux Combine <code>/proc/cpuinfo</code> model, GPU from <code>lspci</code>, total RAM, screen resolution iOS <code>identifierForVendor</code> (or hardware model + screen scale + total memory) Android Combine <code>Build.MODEL</code> + <code>Build.MANUFACTURER</code> + screen density + total RAM Web Combine <code>navigator.hardwareConcurrency</code> + <code>screen.width</code> + <code>screen.height</code> + timezone + WebGL renderer <p>Example (pseudocode):</p> <pre><code>raw = \"pc\" + cpu_model + gpu_name + str(ram_gb) + screen_resolution\nfingerprint = sha256(raw).hex()  # \"a1b2c3d4...\"\n</code></pre> <p>Tips:</p> <ul> <li>Store the fingerprint locally after first calculation for consistency</li> <li>If hardware changes, a new device record is created - no big deal</li> <li>Web fingerprints are less stable; consider a localStorage UUID as fallback</li> </ul>"},{"location":"api/client-api/#1-start-a-session","title":"1. Start a Session","text":"<p>Authenticate your game client to get access tokens.</p> <pre><code>POST /v1/client/sessions\nContent-Type: application/json\n\n{\n  \"game_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"client_fingerprint\": \"a1b2c3d4e5f6...\",\n  \"platform\": \"pc\",\n  \"metadata\": {\"os\": \"Windows 11\", \"version\": \"1.0.0\"}\n}\n</code></pre> Field Required Description <code>game_id</code> Yes Your game's UUID from the admin dashboard <code>client_fingerprint</code> Yes SHA256 device fingerprint (64 hex characters) <code>platform</code> No Platform identifier (e.g., \"pc\", \"ios\", \"android\") <code>metadata</code> No Additional device info <p>Response:</p> <pre><code>{\n  \"id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\",\n  \"game_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"expires_in\": 900,\n  \"status\": \"active\"\n}\n</code></pre>"},{"location":"api/client-api/#2-refresh-tokens","title":"2. Refresh Tokens","text":"<p>Access tokens expire after 15 minutes. Use the refresh token to get new tokens.</p> <pre><code>POST /v1/client/sessions/refresh\nContent-Type: application/json\n\n{\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\"\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"expires_in\": 900\n}\n</code></pre> <p>Both tokens are rotated on each refresh. Store them atomically.</p>"},{"location":"api/client-api/#3-get-a-nonce-for-mutations","title":"3. Get a Nonce (for mutations)","text":"<p>Mutating requests (POST, PATCH, DELETE) require a single-use nonce for replay protection.</p> <pre><code>GET /v1/client/nonce\nAuthorization: Bearer &lt;access_token&gt;\n</code></pre> <p>Response:</p> <pre><code>{\n  \"nonce_value\": \"a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d\",\n  \"expires_at\": \"2025-01-15T12:30:00Z\"\n}\n</code></pre> <p>Nonces expire after 60 seconds and can only be used once.</p>"},{"location":"api/client-api/#token-lifetimes","title":"Token Lifetimes","text":"Token Lifetime Access Token 15 minutes Refresh Token 30 days Nonce 60 seconds"},{"location":"api/client-api/#boards","title":"Boards","text":""},{"location":"api/client-api/#list-boards","title":"List Boards","text":"<p>Retrieve available leaderboards for your game.</p> <pre><code>GET /v1/client/boards\nAuthorization: Bearer &lt;access_token&gt;\n</code></pre> <p>Query Parameters:</p> Parameter Description <code>game_slug</code> Filter by game slug <code>slug</code> Filter by board slug (requires <code>game_slug</code>) <code>code</code> Filter by short code <code>limit</code> Items per page (1-100, default: 20) <code>cursor</code> Pagination cursor <code>sort</code> Sort order (e.g., <code>name:asc,created_at:desc</code>) <p>Response:</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"board-uuid\",\n      \"name\": \"High Scores\",\n      \"slug\": \"high-scores\",\n      \"short_code\": \"WEEKLY-01\",\n      \"sort_direction\": \"DESCENDING\",\n      \"keep_strategy\": \"BEST_ONLY\",\n      \"is_active\": true,\n      \"unit\": \"points\"\n    }\n  ],\n  \"pagination\": {\n    \"count\": 1,\n    \"has_next\": false,\n    \"has_prev\": false,\n    \"next_cursor\": null,\n    \"prev_cursor\": null\n  }\n}\n</code></pre>"},{"location":"api/client-api/#scores","title":"Scores","text":""},{"location":"api/client-api/#submit-a-score","title":"Submit a Score","text":"<pre><code>POST /v1/client/scores\nAuthorization: Bearer &lt;access_token&gt;\nleadr-client-nonce: &lt;nonce_value&gt;\nContent-Type: application/json\n\n{\n  \"board_id\": \"board-uuid\",\n  \"player_name\": \"SpeedRunner42\",\n  \"value\": 12500,\n  \"value_display\": \"12,500 pts\",\n  \"metadata\": {\"level\": 5, \"character\": \"ninja\"}\n}\n</code></pre> Field Required Description <code>board_id</code> Yes UUID of the target leaderboard <code>player_name</code> Yes Display name for the player <code>value</code> Yes Numeric score value (used for sorting) <code>value_display</code> No Formatted display string (e.g., \"1:23.45\") <code>metadata</code> No Custom JSON data (max 1KB) <p>Response (201 Created):</p> <pre><code>{\n  \"id\": \"score-uuid\",\n  \"account_id\": \"account-uuid\",\n  \"game_id\": \"game-uuid\",\n  \"board_id\": \"board-uuid\",\n  \"player_name\": \"SpeedRunner42\",\n  \"value\": 12500,\n  \"value_display\": \"12,500 pts\",\n  \"metadata\": {\"level\": 5, \"character\": \"ninja\"},\n  \"created_at\": \"2025-01-15T12:00:00Z\",\n  \"updated_at\": \"2025-01-15T12:00:00Z\"\n}\n</code></pre>"},{"location":"api/client-api/#list-scores","title":"List Scores","text":"<pre><code>GET /v1/client/scores\nAuthorization: Bearer &lt;access_token&gt;\n</code></pre> <p>Query Parameters:</p> Parameter Description <code>board_id</code> Filter by board UUID <code>limit</code> Items per page (1-100, default: 20) <code>cursor</code> Pagination cursor <code>sort</code> Sort order (e.g., <code>value:desc,created_at:asc</code>) <p>Valid sort fields: <code>id</code>, <code>value</code>, <code>player_name</code>, <code>created_at</code>, <code>updated_at</code></p>"},{"location":"api/client-api/#pagination","title":"Pagination","text":"<p>All list endpoints use cursor-based pagination.</p> <pre><code>{\n  \"data\": [...],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\",\n    \"prev_cursor\": null\n  }\n}\n</code></pre> <p>To fetch the next page, pass the cursor:</p> <pre><code>GET /v1/client/scores?board_id=xxx&amp;cursor=eyJwdiI6WzEwMDAsMTIzXX0=\n</code></pre>"},{"location":"api/client-api/#error-reference","title":"Error Reference","text":"Status Meaning Common Causes 401 Unauthorized Token missing, expired, or invalid 404 Not Found Invalid game_id, board_id, or resource 412 Precondition Failed Nonce missing, expired, or already used 422 Validation Error Invalid request body or parameters 500 Server Error Bugs and outages. Let us know: https://discord.gg/RMUukcAxSZ <p>Example error response:</p> <pre><code>{\n  \"detail\": \"Nonce expired\"\n}\n</code></pre>"},{"location":"api/client-api/#quick-example-submit-a-score","title":"Quick Example: Submit a Score","text":"<pre><code># 1. Start session\ncurl -X POST https://api.leadr.gg/v1/client/sessions \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"game_id\": \"YOUR_GAME_ID\", \"client_fingerprint\": \"sha256hash...\"}'\n\n# 2. Get nonce (use access_token from step 1)\ncurl https://api.leadr.gg/v1/client/nonce \\\n  -H \"Authorization: Bearer ACCESS_TOKEN\"\n\n# 3. Submit score (use nonce from step 2)\ncurl -X POST https://api.leadr.gg/v1/client/scores \\\n  -H \"Authorization: Bearer ACCESS_TOKEN\" \\\n  -H \"leadr-client-nonce: NONCE_VALUE\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"board_id\": \"BOARD_ID\", \"player_name\": \"Player1\", \"value\": 1000}'\n</code></pre>"},{"location":"api/client-api/#further-reading","title":"Further Reading","text":"<ul> <li>Client Authentication Guide - Deep dive into auth concepts, token rotation, and security</li> <li>Pagination Guide - Detailed pagination patterns</li> </ul>"},{"location":"api/client_auth/","title":"LEADR Client Authentication Guide","text":""},{"location":"api/client_auth/#overview","title":"Overview","text":"<p>LEADR provides secure authentication for game clients without requiring players to create accounts or remember passwords. If you use a LEADR SDK, then your game clients automatically authenticate anonymously using generated device IDs, so you don't need to worry about nonces and handshakes.</p> <p>In case your interested, this guide explains how the authentication system works and how you could integrate it directly into your game without an SDKs help.</p> <p>TL;DR</p> <pre><code>99% of users do not need to understand this process. This information is provided for transparency and to aid in SDK development.\n</code></pre>"},{"location":"api/client_auth/#quick-reference","title":"Quick Reference","text":""},{"location":"api/client_auth/#required-headers","title":"Required Headers","text":"<p>All authenticated requests:</p> <pre><code>authorization: bearer &lt;access_token&gt;\n</code></pre> <p>Token refresh:</p> <pre><code>authorization: bearer &lt;refresh_token&gt;\n</code></pre> <p>Mutating operations only (POST, PATCH, DELETE):</p> <pre><code>authorization: bearer &lt;access_token&gt;\nleadr-client-nonce: &lt;nonce_value&gt;\n</code></pre>"},{"location":"api/client_auth/#token-lifetimes","title":"Token Lifetimes","text":"<ul> <li>Access Token: 15 minutes</li> <li>Refresh Token: 30 days</li> <li>Nonce: 60 seconds (single-use)</li> </ul>"},{"location":"api/client_auth/#endpoints","title":"Endpoints","text":"Endpoint Method Purpose Auth Required <code>/v1/client/sessions</code> POST Start new session No <code>/v1/client/sessions/refresh</code> POST Refresh tokens Yes (refresh_token) <code>/v1/client/nonce</code> GET Get nonce Yes (access_token)"},{"location":"api/client_auth/#key-terms","title":"Key Terms","text":"<p>Before diving into the flows, here are the important concepts:</p> <p>Device: A unique installation of your game. Each device gets a unique identifier that persists across game sessions.</p> <p>Session: An authenticated connection between a device and LEADR. Sessions have access tokens that prove the device's identity.</p> <p>Access Token: A short-lived credential (15 minutes) that the client includes with API requests. Think of it like a temporary badge that expires quickly.</p> <p>Refresh Token: A long-lived credential (30 days) used to get new access tokens without starting a new session. Like a key card that lets you get new temporary badges.</p> <p>JWT (JSON Web Token): The format used for access and refresh tokens. It's a tamper-proof package containing the device's identity and expiration time.</p> <p>Nonce: A single-use number issued by the server for making changes (like submitting scores). It prevents attackers from replaying captured requests.</p> <p>Replay Attack: When an attacker captures a valid request and sends it again to perform unauthorized actions. Nonces prevent this.</p>"},{"location":"api/client_auth/#security-goals","title":"Security Goals","text":"<p>LEADR's authentication system protects against three main threats:</p> <ol> <li> <p>Token Theft: If someone steals an access token, it only works for 15 minutes. The refresh token allows legitimate users to continue their session.</p> </li> <li> <p>Replay Attacks: Even with a valid token, attackers can't replay captured requests because each mutating operation requires a fresh, single-use nonce.</p> </li> <li> <p>Device Impersonation: Tokens are tied to specific devices. A token from Device A won't work when pretending to be Device B.</p> </li> </ol>"},{"location":"api/client_auth/#phase-0-starting-a-session","title":"Phase 0: Starting a Session","text":"<p>This is the initial authentication step when the client starts.</p>"},{"location":"api/client_auth/#the-flow","title":"The Flow","text":"<pre><code>Client                                    LEADR Server\n  |                                           |\n  |  POST /v1/client/sessions                |\n  |  { game_id, device_id }                  |\n  | ----------------------------------------&gt; |\n  |                                           |\n  |                  Creates device record    |\n  |                  Creates session          |\n  |                  Generates tokens         |\n  |                                           |\n  |  { access_token, refresh_token,          |\n  |    expires_in, device_id }               |\n  | &lt;---------------------------------------- |\n  |                                           |\n  | Store tokens securely                     |\n  |                                           |\n</code></pre>"},{"location":"api/client_auth/#why-this-design","title":"Why This Design?","text":"<p>Anonymous Authentication: Players can start playing immediately without creating accounts. The device ID is all you need.</p> <p>No Secrets Required: The client doesn't store API keys or passwords. The server issues tokens after verifying the game ID.</p> <p>Per-Game Isolation: Each game has separate devices. A device in Game A can't access data from Game B.</p>"},{"location":"api/client_auth/#inputs","title":"Inputs","text":"<p>The client generates or retrieves a device ID:</p> <ul> <li>First launch: Create a new UUID and save it permanently</li> <li>Subsequent launches: Load the existing device ID</li> </ul>"},{"location":"api/client_auth/#client-action","title":"Client Action","text":"<p>Send session start request:</p> <pre><code>POST /v1/client/sessions\ncontent-type: application/json\n\n{\n  \"game_id\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"device_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\"\n}\n</code></pre>"},{"location":"api/client_auth/#server-response","title":"Server Response","text":"<p>Server creates session and returns tokens:</p> <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs...\",\n  \"expires_in\": 900,\n  \"device_id\": \"7c9e6679-7425-40de-944b-e07fc1f90ae7\"\n}\n</code></pre> <p>The <code>expires_in</code> field shows access token lifetime in seconds (see Quick Reference: Token Lifetimes).</p>"},{"location":"api/client_auth/#client-storage","title":"Client Storage","text":"<p>Store the tokens securely:</p> <ul> <li>Use platform-specific secure storage (Keychain, PlayerPrefs, etc.)</li> <li>Never log tokens or send them to analytics</li> </ul>"},{"location":"api/client_auth/#subsequent-requests","title":"Subsequent Requests","text":"<p>Include access_token in API requests:</p> <pre><code>GET /v1/boards/abc123\nauthorization: bearer eyJhbGciOiJIUzI1NiIs...\n</code></pre>"},{"location":"api/client_auth/#common-errors","title":"Common Errors","text":"Status Error Meaning Solution 404 \"Game not found\" The game_id doesn't exist in LEADR Double-check your game_id from the admin dashboard 422 Validation error Missing or invalid device_id format Ensure device_id is a valid UUID string"},{"location":"api/client_auth/#phase-1-token-refresh","title":"Phase 1: Token Refresh","text":"<p>Access tokens expire after 15 minutes (see Quick Reference: Token Lifetimes). Instead of asking the client to re-authenticate, use the refresh token to get a new access token.</p>"},{"location":"api/client_auth/#the-flow_1","title":"The Flow","text":"<pre><code>Client                                    LEADR Server\n  |                                           |\n  | API request with expired token            |\n  | ----------------------------------------&gt; |\n  |                                           |\n  |  401 Unauthorized                         |\n  | &lt;---------------------------------------- |\n  |                                           |\n  | POST /v1/client/sessions/refresh          |\n  | authorization: bearer &lt;refresh_token&gt;     |\n  | ----------------------------------------&gt; |\n  |                                           |\n  |                  Validates refresh token  |\n  |                  Generates new tokens     |\n  |                  Rotates refresh token    |\n  |                                           |\n  |  { access_token, refresh_token,          |\n  |    expires_in }                           |\n  | &lt;---------------------------------------- |\n  |                                           |\n  | Update stored tokens                      |\n  | Retry original request                    |\n  |                                           |\n</code></pre>"},{"location":"api/client_auth/#why-token-rotation","title":"Why Token Rotation?","text":"<p>When you refresh, both tokens change. On refresh the server issues a new access_token and a new refresh_token; you must atomically replace both tokens in storage (old refresh token is invalidated). This is a security feature:</p> <ul> <li>If an attacker steals your refresh token and uses it, you'll get an error next time you try to refresh</li> <li>You'll know something's wrong and can start a new session</li> <li>The attacker's stolen token becomes useless after one use</li> </ul> <p>Think of it like getting a new key card every time you use it - if someone copies your card, their copy stops working as soon as you use yours.</p>"},{"location":"api/client_auth/#inputs_1","title":"Inputs","text":"<p>An API request fails with 401 Unauthorized:</p> <ul> <li>This means the access token expired</li> <li>The response body might say \"Token expired\"</li> </ul>"},{"location":"api/client_auth/#client-action_1","title":"Client Action","text":"<p>Request new tokens using refresh token:</p> <pre><code>POST /v1/client/sessions/refresh\nauthorization: bearer eyJhbGciOiJIUzI1NiIs...\n</code></pre> <p>Use the refresh_token in the authorization header (not the access_token).</p>"},{"location":"api/client_auth/#server-response_1","title":"Server Response","text":"<p>Server validates refresh token and issues new ones:</p> <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIs... (NEW)\",\n  \"refresh_token\": \"eyJhbGciOiJIUzI1NiIs... (NEW, DIFFERENT)\",\n  \"expires_in\": 900\n}\n</code></pre> <p>The <code>expires_in</code> field is in seconds (see Quick Reference: Token Lifetimes).</p>"},{"location":"api/client_auth/#client-storage_1","title":"Client Storage","text":"<p>Store BOTH new tokens atomically:</p> <ul> <li>The refresh token changed too! This is called \"token rotation\"</li> <li>The old refresh token won't work anymore</li> <li>Use atomic write to storage (all-or-nothing)</li> </ul>"},{"location":"api/client_auth/#retry-logic","title":"Retry Logic","text":"<p>Retry the original request with the new access_token.</p>"},{"location":"api/client_auth/#best-practices","title":"Best Practices","text":"<p>Proactive Refresh: Don't wait for 401 errors. Refresh when <code>expires_in</code> approaches zero:</p> <ul> <li>Check expiration before each request</li> <li>Refresh if token expires in &lt; 2 minutes</li> <li>This avoids failed requests</li> </ul> <p>Handle Refresh Failures: If refresh fails (expired refresh token), start a new session:</p> <ul> <li>Refresh tokens last 30 days (see Quick Reference: Token Lifetimes)</li> <li>If the player hasn't played in 30+ days, they need a new session</li> <li>This is automatic and seamless to players</li> </ul> <p>Thread Safety: Ensure only one refresh happens at a time:</p> <ul> <li>Multiple simultaneous requests might all try to refresh</li> <li>Lock the refresh operation to prevent race conditions</li> <li>Queue other requests until refresh completes</li> </ul>"},{"location":"api/client_auth/#common-errors_1","title":"Common Errors","text":"Status Error Meaning Solution 401 \"Invalid or expired token\" Refresh token expired or already used Start a new session with POST /client/sessions 401 \"Token has been rotated\" Someone else used this refresh token Possible token theft - start new session and investigate"},{"location":"api/client_auth/#phase-2-replay-protection-with-nonces","title":"Phase 2: Replay Protection with Nonces","text":"<p>For operations that change data (submitting scores, updating profiles), LEADR requires a nonce - a single-use ticket that proves the request is fresh.</p>"},{"location":"api/client_auth/#the-flow_2","title":"The Flow","text":"<pre><code>Client                                    LEADR Server\n  |                                           |\n  | 1. GET /v1/client/nonce                   |\n  |    authorization: bearer &lt;access_token&gt;   |\n  | ----------------------------------------&gt; |\n  |                                           |\n  |                  Issues fresh nonce       |\n  |                  Stores in database       |\n  |                                           |\n  |  { nonce_value, expires_at }             |\n  | &lt;---------------------------------------- |\n  |                                           |\n  | 2. POST /v1/scores                        |\n  |    authorization: bearer &lt;access_token&gt;   |\n  |    leadr-client-nonce: &lt;nonce_value&gt;      |\n  |    { score: 1000 }                        |\n  | ----------------------------------------&gt; |\n  |                                           |\n  |                  Validates nonce          |\n  |                  Marks nonce as used      |\n  |                  Processes request        |\n  |                                           |\n  |  { success: true }                        |\n  | &lt;---------------------------------------- |\n  |                                           |\n</code></pre>"},{"location":"api/client_auth/#why-nonces-matter","title":"Why Nonces Matter","text":"<p>Imagine an attacker captures a score submission request. Without nonces, they could replay it repeatedly to inflate a score. With nonces:</p> <ol> <li>Each request needs a fresh nonce</li> <li>Nonces are single-use</li> <li>Replaying the captured request fails (nonce already used)</li> <li>The attacker can't get new nonces without the access token</li> </ol> <p>Think of nonces like scratch-off lottery tickets - each one can only be scratched once.</p>"},{"location":"api/client_auth/#client-action-1-request-nonce","title":"Client Action 1: Request Nonce","text":"<p>Request a nonce before making a change:</p> <pre><code>GET /v1/client/nonce\nauthorization: bearer eyJhbGciOiJIUzI1NiIs...\n</code></pre> <p>Use the access_token in the authorization header.</p>"},{"location":"api/client_auth/#server-response_2","title":"Server Response","text":"<p>Server issues a fresh nonce:</p> <pre><code>{\n  \"nonce_value\": \"a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d\",\n  \"expires_at\": \"2025-11-12T15:30:00Z\"\n}\n</code></pre> <p>The nonce expires in 60 seconds (see Quick Reference: Token Lifetimes). Each nonce can only be used once. Each device gets its own nonces.</p>"},{"location":"api/client_auth/#client-action-2-use-nonce","title":"Client Action 2: Use Nonce","text":"<p>Include the nonce in the mutation request:</p> <pre><code>POST /v1/scores\nauthorization: bearer eyJhbGciOiJIUzI1NiIs...\nleadr-client-nonce: a1b2c3d4-e5f6-4a5b-8c9d-0e1f2a3b4c5d\ncontent-type: application/json\n\n{\n  \"board_id\": \"weekly-rankings\",\n  \"score\": 1000,\n  \"player_name\": \"Player1\"\n}\n</code></pre>"},{"location":"api/client_auth/#server-actions","title":"Server Actions","text":"<p>Server validates and consumes the nonce:</p> <ul> <li>Checks nonce exists and belongs to the device</li> <li>Checks nonce hasn't been used yet</li> <li>Checks nonce hasn't expired</li> <li>Marks nonce as used (can't be used again)</li> <li>Processes the request</li> </ul>"},{"location":"api/client_auth/#nonce-lifecycle","title":"Nonce Lifecycle","text":"<pre><code>[Create] ----60 seconds----&gt; [Expire]\n   |\n   |-- Use within 60s --&gt; [Used] (permanent)\n</code></pre> <ul> <li>Created: Server issues nonce, stores as PENDING</li> <li>Used: Client uses nonce, server marks as USED</li> <li>Expired: Nonce not used within 60 seconds, becomes invalid</li> <li>Used and expired nonces are kept for security auditing</li> </ul>"},{"location":"api/client_auth/#when-to-get-a-nonce","title":"When to Get a Nonce","text":"<p>Get a fresh nonce for each mutating operation:</p> <ul> <li>Submitting a score: Get nonce</li> <li>Updating player profile: Get nonce</li> <li>Deleting data: Get nonce</li> <li>Fetching leaderboards: No nonce needed (read-only)</li> <li>Getting player stats: No nonce needed (read-only)</li> </ul>"},{"location":"api/client_auth/#nonce-management-best-practices","title":"Nonce Management Best Practices","text":"<p>Don't Cache Nonces: Always get a fresh nonce right before using it:</p> <p>BAD:</p> <ul> <li>Get 10 nonces at once</li> <li>Use them throughout the game session</li> <li>Some will expire, some will fail</li> </ul> <p>GOOD:</p> <ul> <li>Player triggers score submission</li> <li>Get nonce</li> <li>Submit score with nonce immediately</li> </ul> <p>Handle Concurrent Operations: If submitting multiple scores simultaneously:</p> <ul> <li>Get separate nonces for each submission</li> <li>Don't reuse a nonce across requests</li> <li>Each operation needs its own nonce</li> </ul> <p>Retry Logic: If nonce validation fails:</p> <ul> <li>Get a new nonce (don't retry with the same one)</li> <li>The old nonce is either expired, used, or invalid</li> <li>Fresh nonce = fresh start</li> </ul>"},{"location":"api/client_auth/#common-errors_2","title":"Common Errors","text":"Status Error Meaning Solution 412 \"Nonce required\" No leadr-client-nonce header Add nonce header to request 412 \"Invalid nonce\" Nonce doesn't exist or wrong format Get a fresh nonce 412 \"Nonce expired\" Nonce older than 60 seconds Get a fresh nonce 412 \"Nonce already used\" Replaying a request Get a fresh nonce, check for duplicate submissions 412 \"Nonce does not belong to this device\" Using another device's nonce Each device must use its own nonces"},{"location":"api/client_auth/#complete-flow-example","title":"Complete Flow Example","text":"<p>Here's a typical game session from start to finish:</p>"},{"location":"api/client_auth/#timeline-30-minute-play-session","title":"Timeline: 30-Minute Play Session","text":"<pre><code>00:00  |  Game Start\n       |   &gt; POST /client/sessions - Get access + refresh tokens\n       |\n00:05  |  Fetch Leaderboard\n       |   &gt; GET /boards/weekly (with access_token) - Success\n       |\n00:10  |  Submit Score\n       |   &gt; GET /client/nonce (with access_token) - Get nonce\n       |   &gt; POST /scores (with access_token + nonce) - Success\n       |\n00:15  |  Fetch Leaderboard Again\n       |   &gt; GET /boards/weekly (with access_token) - Success\n       |\n00:16  |  Access Token Expires\n       |\n00:17  |  Fetch Leaderboard\n       |   &gt; GET /boards/weekly (with expired access_token) - 401 Error\n       |   &gt; POST /sessions/refresh (with refresh_token) - New tokens\n       |   &gt; GET /boards/weekly (with NEW access_token) - Success\n       |\n00:25  |  Submit Another Score\n       |   &gt; GET /client/nonce (with access_token) - Get nonce\n       |   &gt; POST /scores (with access_token + nonce) - Success\n       |\n00:30  |  Game Exit\n       |   &gt; Tokens saved for next session\n</code></pre>"},{"location":"api/client_auth/#what-happens-over-time","title":"What Happens Over Time","text":"<p>Days 1-29:</p> <ul> <li>Player starts game, uses saved refresh token</li> <li>Access token refreshed as needed every 15 minutes</li> <li>Smooth experience, no re-authentication</li> </ul> <p>Day 31 (after 30 days of not playing):</p> <ul> <li>Refresh token expired</li> <li>Game starts new session automatically</li> <li>Player doesn't notice anything</li> <li>New tokens last another 30 days</li> </ul>"},{"location":"api/client_auth/#error-reference","title":"Error Reference","text":""},{"location":"api/client_auth/#http-status-codes","title":"HTTP Status Codes","text":"<p>401 Unauthorized: Authentication problem</p> <ul> <li>Token missing, expired, or invalid</li> <li>Solution: Refresh token or start new session</li> </ul> <p>404 Not Found: Resource doesn't exist</p> <ul> <li>Game ID, board ID, or device not found</li> <li>Solution: Check IDs are correct</li> </ul> <p>412 Precondition Failed: Nonce problem</p> <ul> <li>Nonce missing, expired, used, or invalid</li> <li>Solution: Get fresh nonce and retry</li> </ul> <p>422 Unprocessable Entity: Validation error</p> <ul> <li>Request body format is wrong</li> <li>Solution: Check API docs for correct format</li> </ul>"},{"location":"api/client_auth/#common-error-messages","title":"Common Error Messages","text":"Error Message What It Means How to Fix \"Token expired\" Access token past 15-minute limit Refresh using refresh_token \"Invalid or expired token\" Refresh token is old or invalid Start new session \"Game not found\" game_id doesn't exist Verify game_id from dashboard \"Nonce required\" Mutation request missing nonce header Get nonce, add to header \"Nonce expired\" Nonce older than 60 seconds Get fresh nonce \"Nonce already used\" Trying to replay a request Get fresh nonce, check for duplicate submissions"},{"location":"api/client_auth/#troubleshooting-guide","title":"Troubleshooting Guide","text":""},{"location":"api/client_auth/#all-my-requests-return-401","title":"\"All my requests return 401\"","text":"<p>Cause: Access token expired and refresh token is also expired/invalid</p> <p>Solution:</p> <ol> <li>Check if refresh token is stored</li> <li>Try refreshing first</li> <li>If refresh fails, start new session</li> <li>Verify game hasn't been deleted or suspended</li> </ol>"},{"location":"api/client_auth/#nonce-validation-keeps-failing","title":"\"Nonce validation keeps failing\"","text":"<p>Cause: Likely getting nonces too early or reusing them</p> <p>Solution:</p> <ol> <li>Get nonce immediately before use</li> <li>Ensure no code is caching/reusing nonces</li> <li>Check system clock is accurate (affects expiration)</li> <li>Verify using leadr-client-nonce header (not authorization)</li> </ol>"},{"location":"api/client_auth/#refresh-token-rotation-is-confusing-my-code","title":"\"Refresh token rotation is confusing my code\"","text":"<p>Cause: Not updating both tokens after refresh</p> <p>Solution:</p> <ol> <li>When refresh succeeds, store BOTH new tokens</li> <li>Discard old refresh token completely</li> <li>Use atomic write to storage (all-or-nothing)</li> <li>Test with rapid refresh scenarios</li> </ol>"},{"location":"api/client_auth/#getting-412-errors-on-read-requests","title":"\"Getting 412 errors on read requests\"","text":"<p>Cause: Accidentally adding nonce header to read-only requests</p> <p>Solution:</p> <ol> <li>Only add nonce header to mutations (POST, PATCH, DELETE)</li> <li>Read operations (GET) never need nonces</li> <li>Check your HTTP client configuration</li> </ol>"},{"location":"api/client_auth/#support","title":"Support","text":"<p>If you encounter issues not covered in this guide:</p> <ol> <li>Check the main API documentation for endpoint details</li> <li>Review your authentication implementation against this guide</li> <li>Contact LEADR support with:</li> <li>Your account ID &amp; game ID</li> <li>Device details (Steam + Windows 11, itch.io + Linux, Android, etc.)</li> <li>Which LEADR SDK your game is using</li> <li>Timestamps of failed requests (approximate is better than nothing)</li> <li>Any HTTP status codes and error messages (never send actual tokens!)</li> </ol>"},{"location":"api/pagination/","title":"Cursor-Based Pagination Pattern","text":"<p>This guide shows how to add cursor-based pagination to any domain in LEADR following the Score domain reference implementation.</p>"},{"location":"api/pagination/#overview","title":"Overview","text":"<p>The pagination system provides:</p> <ul> <li>Cursor-based navigation: Efficient bidirectional pagination without offset/limit issues</li> <li>Compound sorting: Multiple sort fields with mixed ASC/DESC directions</li> <li>State validation: Cursors verify that sort/filter parameters haven't changed</li> <li>Type safety: Full type hints and Pydantic validation throughout</li> </ul>"},{"location":"api/pagination/#architecture","title":"Architecture","text":"<p>Pagination is implemented across all layers:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 HTTP Layer (FastAPI Routes)                        \u2502\n\u2502 - Parse PaginationParams from query string         \u2502\n\u2502 - Build cursors from PaginatedResult               \u2502\n\u2502 - Return PaginatedResponse[T]                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Service Layer                                       \u2502\n\u2502 - Pass pagination params to repository             \u2502\n\u2502 - Return PaginatedResult from repository           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Repository Layer                                    \u2502\n\u2502 - Validate sort fields                             \u2502\n\u2502 - Decode and validate cursors                      \u2502\n\u2502 - Build cursor WHERE clauses                       \u2502\n\u2502 - Execute paginated query                          \u2502\n\u2502 - Extract cursor positions from results            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"api/pagination/#step-by-step-implementation","title":"Step-by-Step Implementation","text":""},{"location":"api/pagination/#1-define-sortable-fields-repository","title":"1. Define Sortable Fields (Repository)","text":"<p>Add a set of valid sortable fields to your repository:</p> <pre><code># src/leadr/{domain}/services/repositories.py\nclass BoardRepository(BaseRepository[Board, BoardORM]):\n    # Define which fields can be sorted\n    SORTABLE_FIELDS = {\n        \"id\",\n        \"name\",\n        \"short_code\",\n        \"created_at\",\n        \"updated_at\",\n    }\n</code></pre> <p>Guidelines:</p> <ul> <li>Include fields that users will commonly sort by</li> <li>Avoid fields that are rarely used for sorting</li> <li>Always include <code>id</code>, <code>created_at</code>, and <code>updated_at</code></li> <li>Avoid large text fields or JSON columns</li> </ul>"},{"location":"api/pagination/#2-update-repository-filter-method","title":"2. Update Repository <code>filter()</code> Method","text":"<p>Add pagination support to your repository's filter method:</p> <pre><code>async def filter(\n    self,\n    account_id: UUID4 | PrefixedID | None = None,\n    # ... other filters\n    pagination: PaginationParams | None = None,\n    **kwargs: Any,\n) -&gt; list[Board] | PaginatedResult[Board]:\n    \"\"\"Filter boards with optional pagination.\"\"\"\n    # Existing filter logic\n    if account_id is None:\n        raise ValueError(\"account_id is required\")\n\n    query = select(BoardORM).where(\n        BoardORM.account_id == self._extract_uuid(account_id),\n        BoardORM.deleted_at.is_(None),\n    )\n\n    # Build filters dict for cursor validation\n    filters_dict = {}\n    if some_filter is not None:\n        query = query.where(BoardORM.some_field == some_filter)\n        filters_dict[\"some_filter\"] = str(some_filter)\n\n    # If no pagination, return list (backward compatibility)\n    if pagination is None:\n        result = await self.session.execute(query)\n        orms = result.scalars().all()\n        return [self._to_domain(orm) for orm in orms]\n\n    # Validate sort fields\n    for sort_field in pagination.sort_spec:\n        if sort_field.name not in self.SORTABLE_FIELDS:\n            raise ValueError(\n                f\"Unknown sort field: {sort_field.name}. \"\n                f\"Valid fields: {', '.join(sorted(self.SORTABLE_FIELDS))}\"\n            )\n\n    # Handle cursor if present\n    cursor = None\n    if pagination.has_cursor():\n        cursor = pagination.decode_cursor()\n        cursor.validate_state(pagination.sort_spec, filters_dict)\n\n    # Execute paginated query using BaseRepository helper\n    return await self._execute_paginated_query(\n        query=query,\n        sort_fields=pagination.sort_spec,\n        cursor=cursor,\n        limit=pagination.limit,\n    )\n</code></pre> <p>Key Points:</p> <ul> <li>Keep backward compatibility by returning <code>list</code> when no pagination</li> <li>Build <code>filters_dict</code> with string representations of active filters</li> <li>Validate sort fields before executing query</li> <li>Use <code>_execute_paginated_query()</code> helper from <code>BaseRepository</code></li> </ul>"},{"location":"api/pagination/#3-update-service-method","title":"3. Update Service Method","text":"<p>Update your service to accept and pass pagination parameters:</p> <pre><code># src/leadr/{domain}/services/{entity}_service.py\nfrom leadr.common.api.pagination import PaginationParams\nfrom leadr.common.domain.pagination_result import PaginatedResult\n\nclass BoardService(BaseService[Board, BoardRepository]):\n    async def list_boards(\n        self,\n        account_id: AccountID,\n        # ... other filters\n        pagination: PaginationParams | None = None,\n    ) -&gt; list[Board] | PaginatedResult[Board]:\n        \"\"\"List boards with optional pagination.\"\"\"\n        return await self.repository.filter(\n            account_id=account_id,\n            # ... other filters\n            pagination=pagination,\n        )\n</code></pre>"},{"location":"api/pagination/#4-update-api-route","title":"4. Update API Route","text":"<p>Update the route to accept pagination and return paginated response:</p> <pre><code># src/leadr/{domain}/api/routes.py\nfrom fastapi import Depends\nfrom leadr.common.api.pagination import PaginatedResponse, PaginationMeta, PaginationParams\nfrom leadr.common.domain.cursor import Cursor, CursorValidationError\nfrom leadr.common.domain.pagination import PaginationDirection\n\n@router.get(\"/boards\", response_model=PaginatedResponse[BoardResponse])\nasync def list_boards(\n    account_id: QueryAccountIDDep,\n    service: BoardServiceDep,\n    pagination: PaginationParams = Depends(),\n    # ... other query params\n) -&gt; PaginatedResponse[BoardResponse]:\n    \"\"\"\n    List boards with pagination.\n\n    Pagination:\n    - Default: 20 items per page, sorted by created_at:desc,id:asc\n    - Custom sort: ?sort=name:asc,created_at:desc\n    - Valid sort fields: id, name, short_code, created_at, updated_at\n    - Navigation: Use next_cursor/prev_cursor from response\n\n    Example:\n        GET /v1/boards?account_id=acc_123&amp;limit=50&amp;sort=name:asc\n    \"\"\"\n    try:\n        result = await service.list_boards(\n            account_id=account_id,\n            # ... other filters\n            pagination=pagination,\n        )\n    except (CursorValidationError, ValueError) as e:\n        raise HTTPException(status_code=400, detail=str(e)) from None\n\n    # Build filter dict for cursors (same as repository)\n    filters_dict = {}\n    if some_filter is not None:\n        filters_dict[\"some_filter\"] = str(some_filter)\n\n    # Build cursors from result positions\n    next_cursor_str = None\n    prev_cursor_str = None\n\n    if result.next_position is not None:\n        next_cursor = Cursor(\n            position=result.next_position,\n            sort_fields=pagination.sort_spec,\n            filters=filters_dict,\n            direction=PaginationDirection.FORWARD,\n        )\n        next_cursor_str = next_cursor.encode()\n\n    if result.prev_position is not None:\n        prev_cursor = Cursor(\n            position=result.prev_position,\n            sort_fields=pagination.sort_spec,\n            filters=filters_dict,\n            direction=PaginationDirection.BACKWARD,\n        )\n        prev_cursor_str = prev_cursor.encode()\n\n    # Convert domain entities to response models\n    response_items = [BoardResponse.from_domain(board) for board in result.items]\n\n    # Build paginated response\n    return PaginatedResponse(\n        data=response_items,\n        pagination=PaginationMeta(\n            next_cursor=next_cursor_str,\n            prev_cursor=prev_cursor_str,\n            has_next=result.has_next,\n            has_prev=result.has_prev,\n            count=result.count,\n        ),\n    )\n</code></pre> <p>Key Points:</p> <ul> <li>Always use <code>pagination: PaginationParams = Depends()</code> for dependency injection</li> <li>Catch <code>CursorValidationError</code> and <code>ValueError</code> to return 400 errors</li> <li>Build <code>filters_dict</code> with the same logic as repository</li> <li>Convert <code>PaginatedResult</code> to <code>PaginatedResponse</code> with cursors</li> </ul>"},{"location":"api/pagination/#testing-pattern","title":"Testing Pattern","text":"<p>Create comprehensive tests for pagination:</p> <pre><code># tests/leadr/{domain}/api/test_{entity}_pagination.py\nimport pytest\nfrom httpx import AsyncClient\n\n@pytest.mark.asyncio\nclass TestBoardPagination:\n    async def test_default_pagination(\n        self,\n        authenticated_client: AsyncClient,\n        test_account: dict[str, str]\n    ) -&gt; None:\n        \"\"\"Test default pagination parameters.\"\"\"\n        response = await authenticated_client.get(\n            f\"/v1/boards?account_id={test_account['id']}\"\n        )\n        assert response.status_code == 200\n        data = response.json()\n\n        # Verify response structure\n        assert \"data\" in data\n        assert \"pagination\" in data\n        assert isinstance(data[\"data\"], list)\n\n    async def test_forward_navigation(\n        self,\n        authenticated_client: AsyncClient,\n        test_account: dict[str, str]\n    ) -&gt; None:\n        \"\"\"Test forward pagination with cursors.\"\"\"\n        # Create test data\n        for i in range(25):\n            # Create entities...\n            pass\n\n        # Get first page\n        response = await authenticated_client.get(\n            f\"/v1/boards?account_id={test_account['id']}&amp;limit=10\"\n        )\n        page1 = response.json()\n\n        # Navigate to second page\n        next_cursor = page1[\"pagination\"][\"next_cursor\"]\n        response = await authenticated_client.get(\n            f\"/v1/boards?account_id={test_account['id']}&amp;limit=10&amp;cursor={next_cursor}\"\n        )\n        page2 = response.json()\n\n        # Verify no overlap\n        page1_ids = {item[\"id\"] for item in page1[\"data\"]}\n        page2_ids = {item[\"id\"] for item in page2[\"data\"]}\n        assert len(page1_ids &amp; page2_ids) == 0\n</code></pre>"},{"location":"api/pagination/#common-patterns","title":"Common Patterns","text":""},{"location":"api/pagination/#custom-default-sort","title":"Custom Default Sort","text":"<p>Override the default sort in <code>PaginationParams</code>:</p> <pre><code># In your route\npagination = PaginationParams(\n    cursor=request.query_params.get(\"cursor\"),\n    limit=int(request.query_params.get(\"limit\", 20)),\n    sort=request.query_params.get(\"sort\", \"name:asc\"),  # Custom default\n)\n</code></pre>"},{"location":"api/pagination/#multiple-filters","title":"Multiple Filters","text":"<p>Build filters dictionary consistently:</p> <pre><code>filters_dict = {}\nif board_id is not None:\n    filters_dict[\"board_id\"] = str(board_id)\nif game_id is not None:\n    filters_dict[\"game_id\"] = str(game_id)\nif status is not None:\n    filters_dict[\"status\"] = status.value\n</code></pre>"},{"location":"api/pagination/#enum-filters","title":"Enum Filters","text":"<p>Handle enums in filter dictionary:</p> <pre><code>if status is not None:\n    query = query.where(BoardORM.status == status.value)\n    filters_dict[\"status\"] = status.value  # Store enum value, not enum\n</code></pre>"},{"location":"api/pagination/#performance-considerations","title":"Performance Considerations","text":""},{"location":"api/pagination/#database-indexes","title":"Database Indexes","text":"<p>Create compound indexes for common sort patterns:</p> <pre><code>-- For sorting by name + id\nCREATE INDEX idx_boards_name_id ON boards(name, id);\n\n-- For sorting by created_at + id\nCREATE INDEX idx_boards_created_at_id ON boards(created_at DESC, id);\n</code></pre>"},{"location":"api/pagination/#query-optimization","title":"Query Optimization","text":"<ul> <li>Always include <code>id</code> in sort for index efficiency</li> <li>Limit sortable fields to indexed columns</li> <li>Use <code>EXPLAIN ANALYZE</code> to verify index usage</li> </ul>"},{"location":"api/pagination/#cursor-size","title":"Cursor Size","text":"<p>Cursors are base64-encoded JSON. Keep them small:</p> <ul> <li>Use short filter keys (e.g., \"b_id\" not \"board_identifier\")</li> <li>Avoid storing large values in filters</li> <li>Typical cursor size: 100-200 bytes</li> </ul>"},{"location":"api/pagination/#error-messages","title":"Error Messages","text":"<p>Use consistent error messages:</p> <pre><code># Invalid sort field\nraise ValueError(\n    f\"Unknown sort field: {field_name}. \"\n    f\"Valid fields: {', '.join(sorted(SORTABLE_FIELDS))}\"\n)\n\n# Cursor state mismatch\nraise CursorValidationError(\n    \"Query parameters don't match cursor state. Start a new pagination sequence.\"\n)\n\n# Invalid cursor format\nraise CursorValidationError(f\"Invalid pagination cursor: {error}\")\n</code></pre>"},{"location":"api/pagination/#api-documentation","title":"API Documentation","text":"<p>Document pagination in route docstrings:</p> <pre><code>\"\"\"\nList boards for an account with pagination.\n\nPagination:\n- Default: 20 items per page, sorted by created_at:desc,id:asc\n- Custom sort: Use ?sort=field1:dir1,field2:dir2\n- Valid sort fields: id, name, short_code, created_at, updated_at\n- Navigation: Use next_cursor/prev_cursor from response\n\nQuery Parameters:\n- account_id (required): Account ID to filter by\n- cursor (optional): Pagination cursor from previous response\n- limit (optional): Items per page (1-100, default 20)\n- sort (optional): Sort specification (e.g., \"name:asc,created_at:desc\")\n\nExample:\n    GET /v1/boards?account_id=acc_123&amp;limit=50&amp;sort=name:asc\n\"\"\"\n</code></pre>"},{"location":"api/pagination/#checklist-for-adding-pagination","title":"Checklist for Adding Pagination","text":"<ul> <li>[ ] Add <code>SORTABLE_FIELDS</code> set to repository</li> <li>[ ] Update repository <code>filter()</code> signature to accept <code>pagination: PaginationParams | None</code></li> <li>[ ] Validate sort fields in repository</li> <li>[ ] Build filters dictionary in repository</li> <li>[ ] Use <code>_execute_paginated_query()</code> from BaseRepository</li> <li>[ ] Update service signature to accept <code>pagination: PaginationParams | None</code></li> <li>[ ] Pass pagination to repository in service</li> <li>[ ] Update route to inject <code>pagination: PaginationParams = Depends()</code></li> <li>[ ] Add try/except for <code>CursorValidationError</code> and <code>ValueError</code></li> <li>[ ] Build cursors from <code>PaginatedResult</code></li> <li>[ ] Return <code>PaginatedResponse[EntityResponse]</code></li> <li>[ ] Update route docstring with pagination info</li> <li>[ ] Write comprehensive pagination tests</li> </ul>"},{"location":"api/pagination/#reference-implementation","title":"Reference Implementation","text":"<p>See the Score domain for a complete reference implementation:</p> <ul> <li>Repository: <code>src/leadr/scores/services/repositories.py</code></li> <li>Service: <code>src/leadr/scores/services/score_service.py</code></li> <li>Routes: <code>src/leadr/scores/api/score_routes.py</code></li> <li>Tests: <code>tests/leadr/scores/api/test_score_pagination.py</code></li> </ul>"},{"location":"api/patterns/","title":"Architectural Patterns","text":"<p>This document describes the architectural patterns and conventions used throughout the LEADR codebase.</p>"},{"location":"api/patterns/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Domain-Driven Design Structure</li> <li>Repository Pattern</li> <li>Service Layer Pattern</li> <li>Error Handling</li> <li>API Schema Conversion</li> <li>Route Organization</li> <li>Soft Delete Pattern</li> </ol>"},{"location":"api/patterns/#domain-driven-design-structure","title":"Domain-Driven Design Structure","text":"<p>The codebase follows Domain-Driven Design (DDD) principles with clear separation of concerns:</p> <pre><code>src/leadr/{domain}/\n\u251c\u2500\u2500 domain/          # Domain entities and business rules\n\u2502   \u251c\u2500\u2500 {entity}.py\n\u251c\u2500\u2500 adapters/        # Infrastructure adapters (ORM, external services)\n\u2502   \u251c\u2500\u2500 orm.py\n\u251c\u2500\u2500 services/        # Application services and repositories\n\u2502   \u251c\u2500\u2500 {entity}_service.py\n\u2502   \u251c\u2500\u2500 {entity}_repository.py\n\u251c\u2500\u2500 api/            # API layer (routes, schemas)\n\u2502   \u251c\u2500\u2500 routes.py\n\u2502   \u251c\u2500\u2500 schemas.py\n</code></pre>"},{"location":"api/patterns/#layer-responsibilities","title":"Layer Responsibilities","text":"<ul> <li>Domain: Core business entities and rules. No dependencies on infrastructure.</li> <li>Adapters: Infrastructure concerns like database ORM models.</li> <li>Services: Application logic, orchestrates domain entities and repositories.</li> <li>API: HTTP concerns, request/response handling, delegates to services.</li> </ul>"},{"location":"api/patterns/#repository-pattern","title":"Repository Pattern","text":"<p>Repositories provide a collection-like interface for accessing domain entities. All repositories extend <code>BaseRepository</code>.</p>"},{"location":"api/patterns/#baserepository","title":"BaseRepository","text":"<p>Located in <code>src/leadr/common/base_repository.py</code>, provides standard CRUD operations:</p> <pre><code>from leadr.common.base_repository import BaseRepository\nfrom leadr.accounts.domain.account import Account\nfrom leadr.accounts.adapters.orm import AccountORM\n\nclass AccountRepository(BaseRepository[Account, AccountORM]):\n    def __init__(self, session: AsyncSession):\n        super().__init__(Account, AccountORM, session)\n</code></pre>"},{"location":"api/patterns/#standard-methods","title":"Standard Methods","text":"<ul> <li><code>get_by_id(entity_id: EntityID) -&gt; T | None</code></li> <li><code>create(entity: T) -&gt; T</code></li> <li><code>update(entity: T) -&gt; T</code></li> <li><code>delete(entity_id: EntityID) -&gt; None</code></li> <li><code>list_all() -&gt; list[T]</code></li> </ul>"},{"location":"api/patterns/#repository-mixins","title":"Repository Mixins","text":"<p>For common query patterns, use repository mixins instead of duplicating code:</p> <pre><code>from leadr.common.base_repository import BaseRepository, GetByFieldMixin\n\nclass AccountRepository(GetByFieldMixin[Account, AccountORM], BaseRepository[Account, AccountORM]):\n    async def get_by_slug(self, slug: str) -&gt; Account | None:\n        return await self._get_by_field(AccountORM.slug, slug)\n</code></pre> <p>Available mixins: - <code>GetByFieldMixin</code>: Provides <code>_get_by_field(field, value)</code> helper - <code>ListByAccountMixin</code>: Provides <code>_list_by_account(account_id)</code> helper - <code>CountByStatusMixin</code>: Provides <code>_count_where(conditions)</code> helper</p>"},{"location":"api/patterns/#custom-repository-methods","title":"Custom Repository Methods","text":"<p>Add domain-specific query methods to repositories:</p> <pre><code>class AccountRepository(BaseRepository[Account, AccountORM]):\n    async def get_by_slug(self, slug: str) -&gt; Account | None:\n        \"\"\"Get account by slug.\"\"\"\n        return await self._get_by_field(AccountORM.slug, slug)\n\n    async def list_suspended(self) -&gt; list[Account]:\n        \"\"\"List all suspended accounts.\"\"\"\n        stmt = select(self.orm_class).where(\n            self.orm_class.status == \"suspended\",\n            self.orm_class.deleted_at.is_(None)\n        )\n        result = await self.session.execute(stmt)\n        return [self._to_domain(orm) for orm in result.scalars().all()]\n</code></pre>"},{"location":"api/patterns/#service-layer-pattern","title":"Service Layer Pattern","text":"<p>Services contain application logic and orchestrate domain entities and repositories. All services extend <code>BaseService</code>.</p>"},{"location":"api/patterns/#baseservice","title":"BaseService","text":"<p>Located in <code>src/leadr/common/services.py</code>, provides repository injection:</p> <pre><code>from leadr.common.services import BaseService\nfrom leadr.accounts.services.repositories import AccountRepository\n\nclass AccountService(BaseService[AccountRepository]):\n    def __init__(self, session: AsyncSession):\n        super().__init__(AccountRepository, session)\n</code></pre> <p>The service automatically creates the repository instance accessible via <code>self.repository</code>.</p>"},{"location":"api/patterns/#service-responsibilities","title":"Service Responsibilities","text":"<ol> <li>Business Logic: Implement domain-specific operations</li> <li>Orchestration: Coordinate multiple repositories or entities</li> <li>Validation: Validate business rules before persistence</li> <li>Error Handling: Raise appropriate domain exceptions</li> </ol>"},{"location":"api/patterns/#service-method-examples","title":"Service Method Examples","text":"<pre><code>class AccountService(BaseService[AccountRepository]):\n    async def create_account(\n        self,\n        account_id: EntityID,\n        name: str,\n        slug: str,\n        created_at: datetime,\n        updated_at: datetime,\n    ) -&gt; Account:\n        \"\"\"Create a new account.\"\"\"\n        # Check for duplicate slug\n        existing = await self.repository.get_by_slug(slug)\n        if existing:\n            raise ValueError(f\"Account with slug '{slug}' already exists\")\n\n        # Create entity\n        account = Account(\n            id=account_id,\n            name=name,\n            slug=slug,\n            status=AccountStatus.ACTIVE,\n            created_at=created_at,\n            updated_at=updated_at,\n        )\n\n        return await self.repository.create(account)\n\n    async def suspend_account(self, account_id: EntityID) -&gt; Account:\n        \"\"\"Suspend an account.\"\"\"\n        account = await self.repository.get_by_id(account_id)\n        if not account:\n            raise EntityNotFoundError(f\"Account {account_id} not found\")\n\n        account.suspend()\n        return await self.repository.update(account)\n</code></pre>"},{"location":"api/patterns/#service-layer-rules","title":"Service Layer Rules","text":"<ul> <li>Services MUST NOT be accessed directly by routes in other domains</li> <li>Services MUST use repositories for all data access</li> <li>Services MUST raise <code>EntityNotFoundError</code> when entities are not found</li> <li>Services MUST validate business rules before persisting changes</li> </ul>"},{"location":"api/patterns/#error-handling","title":"Error Handling","text":""},{"location":"api/patterns/#domain-exceptions","title":"Domain Exceptions","text":"<p>Use <code>EntityNotFoundError</code> for missing entities:</p> <pre><code>from leadr.common.domain.exceptions import EntityNotFoundError\n\nasync def get_account(self, account_id: EntityID) -&gt; Account:\n    account = await self.repository.get_by_id(account_id)\n    if not account:\n        raise EntityNotFoundError(f\"Account {account_id} not found\")\n    return account\n</code></pre>"},{"location":"api/patterns/#api-error-handling","title":"API Error Handling","text":"<p>Routes catch domain exceptions and convert to HTTP exceptions:</p> <pre><code>from fastapi import HTTPException, status\nfrom leadr.common.domain.exceptions import EntityNotFoundError\n\ntry:\n    account = await service.get_account(entity_id)\nexcept EntityNotFoundError as e:\n    raise HTTPException(\n        status_code=status.HTTP_404_NOT_FOUND,\n        detail=\"Account not found\"\n    ) from e\n</code></pre>"},{"location":"api/patterns/#foreign-key-violations","title":"Foreign Key Violations","text":"<p>Catch <code>IntegrityError</code> for foreign key constraint violations:</p> <pre><code>from sqlalchemy.exc import IntegrityError\n\ntry:\n    api_key, plain_key = await service.create_api_key(\n        account_id=account_id,\n        name=request.name,\n        expires_at=request.expires_at,\n    )\nexcept IntegrityError:\n    raise HTTPException(\n        status_code=status.HTTP_404_NOT_FOUND,\n        detail=\"Account not found\",\n    ) from None\n</code></pre>"},{"location":"api/patterns/#api-schema-conversion","title":"API Schema Conversion","text":""},{"location":"api/patterns/#response-schema-pattern","title":"Response Schema Pattern","text":"<p>API response schemas use <code>from_domain()</code> class methods for conversion:</p> <pre><code>from pydantic import BaseModel\nfrom leadr.accounts.domain.account import Account\n\nclass AccountResponse(BaseModel):\n    id: UUID\n    name: str\n    slug: str\n    status: str\n    created_at: datetime\n    updated_at: datetime\n\n    @classmethod\n    def from_domain(cls, account: Account) -&gt; \"AccountResponse\":\n        \"\"\"Convert domain entity to response schema.\"\"\"\n        return cls(\n            id=account.id.value,\n            name=account.name,\n            slug=account.slug,\n            status=account.status.value,\n            created_at=account.created_at,\n            updated_at=account.updated_at,\n        )\n</code></pre>"},{"location":"api/patterns/#usage-in-routes","title":"Usage in Routes","text":"<pre><code>@router.get(\"/accounts/{account_id}\", response_model=AccountResponse)\nasync def get_account(account_id: str, db: DatabaseSession) -&gt; AccountResponse:\n    service = AccountService(db)\n    account = await service.get_account(EntityID.from_string(account_id))\n    return AccountResponse.from_domain(account)\n</code></pre>"},{"location":"api/patterns/#multiple-entity-responses","title":"Multiple Entity Responses","text":"<p>For responses that include related data from multiple entities:</p> <pre><code>class CreateAPIKeyResponse(BaseModel):\n    id: UUID\n    account_id: UUID\n    name: str\n    key_prefix: str\n    status: str\n    created_at: datetime\n    expires_at: datetime | None\n    plain_key: str  # Only included on creation\n\n    @classmethod\n    def from_domain(cls, api_key: APIKey, plain_key: str) -&gt; \"CreateAPIKeyResponse\":\n        \"\"\"Convert domain entity to creation response with plain key.\"\"\"\n        return cls(\n            id=api_key.id.value,\n            account_id=api_key.account_id.value,\n            name=api_key.name,\n            key_prefix=api_key.key_prefix,\n            status=api_key.status.value,\n            created_at=api_key.created_at,\n            expires_at=api_key.expires_at,\n            plain_key=plain_key,\n        )\n</code></pre>"},{"location":"api/patterns/#route-organization","title":"Route Organization","text":""},{"location":"api/patterns/#domain-based-routing","title":"Domain-Based Routing","text":"<p>Routes are organized by domain in <code>src/leadr/{domain}/api/routes.py</code>:</p> <pre><code># src/leadr/accounts/api/routes.py\nfrom fastapi import APIRouter\n\nrouter = APIRouter()  # No prefix here\n\n@router.post(\"/accounts\", ...)\n@router.get(\"/accounts/{account_id}\", ...)\n</code></pre> <pre><code># src/api/main.py\nfrom leadr.accounts.api.routes import router as accounts_router\nfrom leadr.auth.api.routes import router as auth_router\n\napp.include_router(accounts_router, prefix=settings.API_PREFIX, tags=[\"Accounts\"])\napp.include_router(auth_router, prefix=settings.API_PREFIX)  # auth router has its own prefix\n</code></pre>"},{"location":"api/patterns/#route-implementation-pattern","title":"Route Implementation Pattern","text":"<pre><code>@router.post(\"/accounts\", status_code=status.HTTP_201_CREATED, response_model=AccountResponse)\nasync def create_account(request: AccountCreateRequest, db: DatabaseSession) -&gt; AccountResponse:\n    \"\"\"Create a new account.\"\"\"\n    # 1. Create service\n    service = AccountService(db)\n\n    # 2. Get current timestamp\n    now = datetime.now(UTC)\n\n    # 3. Call service method\n    account = await service.create_account(\n        account_id=EntityID.generate(),\n        name=request.name,\n        slug=request.slug,\n        created_at=now,\n        updated_at=now,\n    )\n\n    # 4. Convert to response schema\n    return AccountResponse.from_domain(account)\n</code></pre>"},{"location":"api/patterns/#route-rules","title":"Route Rules","text":"<ul> <li>Routes MUST only call service methods, never repositories directly</li> <li>Routes MUST convert domain entities to response schemas using <code>from_domain()</code></li> <li>Routes MUST handle service exceptions and convert to HTTP exceptions</li> <li>Routes MUST validate request data using Pydantic schemas</li> </ul>"},{"location":"api/patterns/#soft-delete-pattern","title":"Soft Delete Pattern","text":"<p>Soft deletes mark entities as deleted without removing them from the database.</p>"},{"location":"api/patterns/#domain-implementation","title":"Domain Implementation","text":"<p>Entities have <code>deleted_at</code> field and <code>soft_delete()</code> method:</p> <pre><code>from datetime import UTC, datetime\n\nclass Account(Entity):\n    deleted_at: datetime | None = None\n\n    def soft_delete(self) -&gt; None:\n        \"\"\"Mark this account as deleted.\"\"\"\n        self.deleted_at = datetime.now(UTC)\n        self.updated_at = datetime.now(UTC)\n</code></pre>"},{"location":"api/patterns/#service-implementation","title":"Service Implementation","text":"<p>Services provide <code>delete_{entity}</code> methods:</p> <pre><code>async def delete_account(self, account_id: EntityID) -&gt; None:\n    \"\"\"Soft delete an account.\"\"\"\n    account = await self.repository.get_by_id(account_id)\n    if not account:\n        raise EntityNotFoundError(f\"Account {account_id} not found\")\n\n    account.soft_delete()\n    await self.repository.update(account)\n</code></pre>"},{"location":"api/patterns/#route-implementation","title":"Route Implementation","text":"<p>Routes handle soft delete via PATCH with <code>deleted: true</code>:</p> <pre><code>@router.patch(\"/accounts/{account_id}\", response_model=AccountResponse)\nasync def update_account(\n    account_id: str, request: AccountUpdateRequest, db: DatabaseSession\n) -&gt; AccountResponse:\n    service = AccountService(db)\n    entity_id = EntityID.from_string(account_id)\n\n    # Handle soft delete first\n    if request.deleted is True:\n        account = await service.get_account(entity_id)\n        if not account:\n            raise HTTPException(\n                status_code=status.HTTP_404_NOT_FOUND,\n                detail=\"Account not found\"\n            )\n        await service.delete_account(entity_id)\n        # Return entity with 200 status (not 404)\n        return AccountResponse.from_domain(account)\n\n    # Handle other updates...\n</code></pre>"},{"location":"api/patterns/#soft-delete-rules","title":"Soft Delete Rules","text":"<ul> <li>Soft deletes MUST return HTTP 200 with the entity, not HTTP 404</li> <li>Soft deletes MUST be idempotent (calling twice has same effect)</li> <li>Repositories MUST exclude soft-deleted entities from all queries by default</li> <li>Repositories MAY provide methods to include deleted entities if needed</li> </ul>"},{"location":"api/patterns/#testing-patterns","title":"Testing Patterns","text":""},{"location":"api/patterns/#service-testing","title":"Service Testing","text":"<p>Test services with real database transactions:</p> <pre><code>@pytest.mark.asyncio\nclass TestAccountService:\n    async def test_create_account(self, db_session: AsyncSession):\n        service = AccountService(db_session)\n        now = datetime.now(UTC)\n\n        account = await service.create_account(\n            account_id=EntityID.generate(),\n            name=\"Test Corp\",\n            slug=\"test-corp\",\n            created_at=now,\n            updated_at=now,\n        )\n\n        assert account.name == \"Test Corp\"\n        assert account.status == AccountStatus.ACTIVE\n</code></pre>"},{"location":"api/patterns/#api-testing","title":"API Testing","text":"<p>Test routes through the HTTP client:</p> <pre><code>@pytest.mark.asyncio\nasync def test_create_account_api(client: AsyncClient):\n    response = await client.post(\n        \"/accounts\",\n        json={\"name\": \"Test Corp\", \"slug\": \"test-corp\"},\n    )\n\n    assert response.status_code == 201\n    data = response.json()\n    assert data[\"name\"] == \"Test Corp\"\n    assert data[\"status\"] == \"active\"\n</code></pre>"},{"location":"api/patterns/#test-organization","title":"Test Organization","text":"<ul> <li>Unit tests for domain entities in <code>tests/leadr/{domain}/domain/</code></li> <li>Integration tests for services in <code>tests/leadr/{domain}/services/</code></li> <li>API tests in <code>tests/api/{domain}/</code></li> <li>Shared fixtures in <code>tests/conftest.py</code></li> </ul>"},{"location":"api/self_host/","title":"Self-Hosting LEADR","text":"<p>This guide covers deploying your own LEADR instance using Docker Compose.</p>"},{"location":"api/self_host/#prerequisites","title":"Prerequisites","text":"<ul> <li>A ready cloud-hosting environment or your own server</li> <li>Docker and Docker Compose (v2.20+)</li> <li>A domain name with DNS control</li> <li>A PostgreSQL 16+ database (cloud-hosted or self-managed)</li> </ul> <p>For PostgreSQL, you can use any provider that gives you a standard connection string:</p> <ul> <li>Cloud: Supabase, Neon, AWS RDS, Google Cloud SQL, DigitalOcean</li> <li>Self-hosted: Your own PostgreSQL instance</li> </ul>"},{"location":"api/self_host/#quick-start","title":"Quick Start","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/LEADR-official/leadr-oss.git\ncd leadr-oss\n</code></pre> <ol> <li>Create your environment file:</li> </ol> <pre><code>cp .env.example .env\n</code></pre> <ol> <li> <p>Configure your <code>.env</code> file (see Environment Variables)</p> </li> <li> <p>Start the stack:</p> </li> </ol> <pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml --env-file .env up -d\n</code></pre>"},{"location":"api/self_host/#environment-variables","title":"Environment Variables","text":""},{"location":"api/self_host/#required","title":"Required","text":"Variable Description <code>ENV</code> Environment name (e.g., <code>PROD</code>) <code>DB_HOST</code> PostgreSQL host (e.g., <code>db.example.com</code>) <code>DB_PASSWORD</code> Database password <code>DB_NAME</code> Database name (default: <code>leadr</code>) <code>DB_USER</code> Database user (default: <code>leadr</code>) <code>DOMAIN</code> Your domain for routing (e.g., <code>example.com</code>) <code>SUPERADMIN_API_KEY</code> Admin API key - must start with <code>ldr_</code> <code>JWT_SECRET</code> Secret for JWT signing - generate a strong random string <code>API_KEY_SECRET</code> Secret for API key hashing - generate a strong random string"},{"location":"api/self_host/#optional-variables","title":"Optional Variables","text":"<p>These have sensible defaults but can be customized:</p> Variable Default Description <code>LEADR_IMAGE_TAG</code> <code>latest</code> Docker image version (e.g., <code>v0.1.0</code>) <code>DB_PORT</code> <code>5432</code> PostgreSQL port <code>DB_POOL_SIZE</code> <code>20</code> Database connection pool size <code>ACCESS_TOKEN_EXPIRY_HOURS</code> <code>24</code> Device access token lifetime <code>REFRESH_TOKEN_EXPIRY_DAYS</code> <code>30</code> Device refresh token lifetime <code>ANTICHEAT_ENABLED</code> <code>false</code> Enable anti-cheat checks <p>See <code>src/leadr/config.py</code> for the complete list of configuration options.</p>"},{"location":"api/self_host/#architecture","title":"Architecture","text":"<p>The self-hosted stack consists of:</p> <pre><code>                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502           Caddy                 \u2502\n                    \u2502    (Reverse Proxy + HTTPS)      \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502                                   \u2502\n              \u25bc                                   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       admin-api         \u2502         \u2502       client-api        \u2502\n\u2502  api.admin.example.com  \u2502         \u2502    api.example.com      \u2502\n\u2502                         \u2502         \u2502                         \u2502\n\u2502  - Account management   \u2502         \u2502  - Score submissions    \u2502\n\u2502  - Game configuration   \u2502         \u2502  - Leaderboard queries  \u2502\n\u2502  - User management      \u2502         \u2502  - Device registration  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502                                   \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                                \u25bc\n                    \u250c\u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500\u2510\n                    \u2502      PostgreSQL (not included)  \u2502\n                    \u2514\u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500 \u2500\u2518\n</code></pre> <ul> <li>admin-api: Administrative endpoints for managing accounts, games, and users</li> <li>client-api: Public endpoints for game clients (score submission, leaderboards)</li> <li>Caddy: Automatic HTTPS with Let's Encrypt, routes traffic to appropriate API</li> </ul>"},{"location":"api/self_host/#dns-setup","title":"DNS Setup","text":"<p>Create two A records pointing to your server's IP address:</p> Record Type Value <code>api.example.com</code> A <code>&lt;your-server-ip&gt;</code> <code>api.admin.example.com</code> A <code>&lt;your-server-ip&gt;</code> <p>Caddy will automatically obtain and renew TLS certificates from Let's Encrypt.</p>"},{"location":"api/self_host/#running-the-stack","title":"Running the Stack","text":""},{"location":"api/self_host/#start","title":"Start","text":"<pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml --env-file .env up -d\n</code></pre>"},{"location":"api/self_host/#view-logs","title":"View Logs","text":"<pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml logs -f\n</code></pre>"},{"location":"api/self_host/#stop","title":"Stop","text":"<pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml down\n</code></pre>"},{"location":"api/self_host/#verify-health","title":"Verify Health","text":"<pre><code>curl https://api.example.com/v1/health\ncurl https://api.admin.example.com/v1/health\n</code></pre> <p>Both should return a <code>200 OK</code> response.</p>"},{"location":"api/self_host/#first-steps-after-deploy","title":"First Steps After Deploy","text":""},{"location":"api/self_host/#install-the-leadr-cli","title":"Install the LEADR CLI","text":"<p>Download and install the CLI from the releases page:</p> <pre><code>curl -sSL https://github.com/LEADR-official/leadr-cli-releases/raw/main/install.sh | bash\n</code></pre> <p>Or download binaries directly from github.com/LEADR-official/leadr-cli-releases.</p>"},{"location":"api/self_host/#configure-admin-authentication","title":"Configure Admin Authentication","text":"<ol> <li> <p>Verify the superadmin bootstrap: On first startup, LEADR creates a superadmin account using your <code>SUPERADMIN_*</code> environment variables.</p> </li> <li> <p>Configure the CLI with your superadmin API key:</p> </li> </ol> <pre><code>leadr --host api.admin.example.com auth admin configure\n</code></pre> <p>Enter your <code>SUPERADMIN_API_KEY</code> when prompted.</p>"},{"location":"api/self_host/#create-your-first-game","title":"Create Your First Game","text":"<pre><code># Get your account ID (created during bootstrap)\nleadr --host api.admin.example.com account get &lt;account-id&gt;\n\n# Create a game\nleadr --host api.admin.example.com game create \\\n  --account-id &lt;account-id&gt; \\\n  --name \"My Game\"\n</code></pre> <p>Run <code>leadr --help</code> to see all available commands.</p>"},{"location":"api/self_host/#optional-features","title":"Optional Features","text":""},{"location":"api/self_host/#geoip-auto-labeling","title":"GeoIP Auto-Labeling","text":"<p>LEADR can automatically extract geolocation (country, city, timezone) from player IP addresses using MaxMind GeoLite2 databases. This requires a free MaxMind account.</p> <p>See the \"GeoIP Auto-Labeling\" section in <code>CLAUDE.md</code> for configuration details.</p>"},{"location":"api/self_host/#email-notifications","title":"Email Notifications","text":"<p>Email functionality (verification codes, notifications) requires Mailgun credentials:</p> <ul> <li><code>MAILGUN_API_KEY</code></li> <li><code>MAILGUN_DOMAIN</code></li> </ul>"},{"location":"api/self_host/#updating","title":"Updating","text":"<p>To update to a newer version:</p> <pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml pull\ndocker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml up -d\n</code></pre> <p>Database migrations run automatically on startup when <code>RUN_MIGRATIONS=true</code> (default for selfhost).</p>"},{"location":"api/self_host/#troubleshooting","title":"Troubleshooting","text":""},{"location":"api/self_host/#container-wont-start","title":"Container won't start","text":"<p>Check logs for errors:</p> <pre><code>docker compose -f docker/docker-compose.base.yml -f docker/docker-compose.selfhost.yml logs admin-api\n</code></pre> <p>Common issues:</p> <ul> <li>Database connection failed: Verify <code>DB_HOST</code>, <code>DB_USER</code>, <code>DB_PASSWORD</code></li> <li>Missing required env vars: Ensure all required variables are set</li> </ul>"},{"location":"api/self_host/#caddy-certificate-errors","title":"Caddy certificate errors","text":"<ul> <li>Ensure DNS records are correctly configured and propagated</li> <li>Verify ports 80 and 443 are accessible from the internet</li> <li>Check Caddy logs: <code>docker compose ... logs caddy</code></li> </ul>"},{"location":"api/self_host/#api-returns-401403","title":"API returns 401/403","text":"<ul> <li>Verify your API key starts with <code>ldr_</code></li> <li>Ensure the <code>leadr-api-key</code> header is correctly spelled (lowercase)</li> </ul>"},{"location":"api/template_naming/","title":"Board Template Naming","text":"<p>Board templates can automatically generate board names using placeholders and sequential series.</p>"},{"location":"api/template_naming/#placeholders","title":"Placeholders","text":"<p>Use placeholders in the <code>name_template</code> field to generate dynamic board names:</p> Placeholder Output Example <code>{year}</code> Four-digit year <code>2025</code> <code>{month}</code> Full month name <code>January</code> <code>{month_short}</code> Abbreviated month <code>Jan</code> <code>{week}</code> ISO week number <code>42</code> <code>{quarter}</code> Quarter of year <code>Q1</code> <code>{date}</code> ISO date format <code>2025-01-15</code> <code>{series}</code> Sequential number <code>1</code>, <code>2</code>, <code>3</code>..."},{"location":"api/template_naming/#sequential-series","title":"Sequential Series","text":"<p>The <code>series</code> field enables sequential numbering for boards created from the same template:</p> <ul> <li>Scoped per template: Each template maintains its own series sequence</li> <li>Calculated dynamically: Series values are generated from existing board count + 1</li> <li>Reuses numbers: If boards are deleted, their numbers become available again</li> </ul> <p>To use series:</p> <ol> <li>Set the <code>series</code> field to any identifier (e.g., <code>\"weekly\"</code>, <code>\"seasonal\"</code>)</li> <li>Include <code>{series}</code> in your <code>name_template</code></li> </ol>"},{"location":"api/template_naming/#examples","title":"Examples","text":"<pre><code>{\n  \"name\": \"Weekly Challenge\",\n  \"name_template\": \"Week {week} Challenge - {year}\",\n  \"series\": null\n}\n</code></pre> <p>Generates: \"Week 42 Challenge - 2025\"</p> <pre><code>{\n  \"name\": \"Monthly Tournament\",\n  \"name_template\": \"{month} Tournament #{series}\",\n  \"series\": \"monthly\"\n}\n</code></pre> <p>Generates: \"January Tournament #1\", \"January Tournament #2\"...</p> <pre><code>{\n  \"name\": \"Seasonal Board\",\n  \"name_template\": \"{year} {quarter} Season\",\n  \"series\": null\n}\n</code></pre> <p>Generates: \"2025 Q1 Season\"</p>"},{"location":"api/template_naming/#validation","title":"Validation","text":"<p>Templates with invalid placeholders are rejected at creation time. Only the placeholders listed above are supported.</p>"},{"location":"api/http-api/","title":"LEADR Open-Source Edition - Admin &amp; Client API v0.3.3","text":"<p>Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.</p> <p>LEADR Open-Source Edition is the free cross-platform leaderboard backend for game devs</p>"},{"location":"api/http-api/#api-sections","title":"API Sections","text":"<ul> <li>Accounts</li> <li>Users</li> <li>API Keys</li> <li>Games</li> <li>Boards</li> <li>Board Templates</li> <li>Scores</li> <li>Score Flags</li> <li>Score Submission Metadata</li> <li>Devices</li> <li>Device Sessions</li> <li>Registration</li> <li>Authentication</li> <li>Public</li> <li>Schemas</li> </ul>"},{"location":"api/http-api/accounts/","title":"Accounts","text":""},{"location":"api/http-api/accounts/#create-account","title":"Create Account","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/accounts', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"name\": \"string\",\n  \"slug\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/accounts',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/accounts</code></p> <p>Create a new account.</p> <p>Only superadmins can create accounts.</p> <p>Args:     request: Account creation details including name and slug.     service: Injected account service dependency.     auth: Authentication context with user info.</p> <p>Returns:     AccountResponse with the created account including auto-generated ID and timestamps.</p> <p>Raises:     403: User does not have permission to create accounts.</p> <p>Body parameter</p> <pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/accounts/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body AccountCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/accounts/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response AccountResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/accounts/#list-accounts","title":"List Accounts","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/accounts', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/accounts',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/accounts</code></p> <p>List accounts with pagination and optional filtering.</p> <p>Superadmins see all accounts (paginated). Regular users see only their own account.</p> <p>Filtering: - Use ?slug={slug} to find a specific account by its slug</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, slug, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/accounts?slug=acme-corp     GET /v1/accounts?limit=50&amp;sort=name:asc</p> <p>Args:     service: Injected account service dependency.     auth: Authentication context with user info.     pagination: Pagination parameters (cursor, limit, sort).     slug: Optional slug filter to find a specific account.</p> <p>Returns:     PaginatedResponse with accounts and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     404: Account not found when filtering by slug.</p>"},{"location":"api/http-api/accounts/#parameters_1","title":"Parameters","text":"Name In Type Required Description slug query any false Filter by account slug account_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/accounts/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_AccountResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/accounts/#get-account","title":"Get Account","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/accounts/{account_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/accounts/{account_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/accounts/{account_id}</code></p> <p>Get an account by ID.</p> <p>Args:     account_id: Unique identifier for the account.     service: Injected account service dependency.     auth: Authentication context with user info.</p> <p>Returns:     AccountResponse with full account details.</p> <p>Raises:     403: User does not have access to this account.     404: Account not found.</p>"},{"location":"api/http-api/accounts/#parameters_2","title":"Parameters","text":"Name In Type Required Description account_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/accounts/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response AccountResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/accounts/#update-account","title":"Update Account","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/accounts/{account_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/accounts/{account_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/accounts/{account_id}</code></p> <p>Update an account.</p> <p>Supports updating name, slug, status, or soft-deleting the account. Status changes (active/suspended) are handled through dedicated service methods.</p> <p>Args:     account_id: Unique identifier for the account.     request: Account update details (all fields optional).     service: Injected account service dependency.     auth: Authentication context with user info.</p> <p>Returns:     AccountResponse with the updated account details.</p> <p>Raises:     403: User does not have access to this account.     404: Account not found.</p> <p>Body parameter</p> <pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/accounts/#parameters_3","title":"Parameters","text":"Name In Type Required Description account_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body AccountUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/accounts/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response AccountResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/api-keys/","title":"API Keys","text":""},{"location":"api/http-api/api-keys/#create-api-key","title":"Create Api Key","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/api-keys', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/api-keys',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/api-keys</code></p> <p>Create a new API key for an account.</p> <p>The plain API key is returned only once in this response. Store it securely as it cannot be retrieved later.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Returns:     CreateAPIKeyResponse with the plain key included.</p> <p>Raises:     403: User does not have access to the specified account.     404: Account not found.</p> <p>Body parameter</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body CreateAPIKeyRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"key\": \"string\",\n  \"prefix\": \"string\",\n  \"status\": \"active\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response CreateAPIKeyResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/api-keys/#list-api-keys","title":"List Api Keys","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/api-keys', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/api-keys',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/api-keys</code></p> <p>List API keys for an account with optional filters and pagination.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns API keys from all accounts.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/api-keys?account_id=acc_123&amp;status=active&amp;limit=50&amp;sort=name:asc</p> <p>Args:     auth: Authentication context with user info.     service: Injected API key service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     key_status: Optional status to filter results (active or revoked).</p> <p>Returns:     PaginatedResponse with API keys and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/api-keys/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none status query any false Filter by status cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_APIKeyResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/api-keys/#get-api-key","title":"Get Api Key","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/api-keys/{key_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/api-keys/{key_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/api-keys/{key_id}</code></p> <p>Get a single API key by ID.</p> <p>Args:     key_id: The UUID of the API key to retrieve.     service: Injected API key service dependency.     auth: Authentication context with user info.</p> <p>Returns:     APIKeyResponse with key details (excludes the plain key).</p> <p>Raises:     403: User does not have access to this API key's account.     404: API key not found.</p>"},{"location":"api/http-api/api-keys/#parameters_2","title":"Parameters","text":"Name In Type Required Description key_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"prefix\": \"string\",\n  \"status\": \"active\",\n  \"last_used_at\": \"2019-08-24T14:15:22Z\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response APIKeyResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/api-keys/#update-api-key","title":"Update Api Key","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/api-keys/{key_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"status\": \"active\",\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/api-keys/{key_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/api-keys/{key_id}</code></p> <p>Update an API key.</p> <p>Currently supports: - Updating status (e.g., to revoke a key) - Soft delete via deleted flag</p> <p>Args:     key_id: The UUID of the API key to update.     request: Update request with optional status and deleted fields.     service: Injected API key service dependency.     auth: Authentication context with user info.</p> <p>Returns:     APIKeyResponse with updated key details.</p> <p>Raises:     403: User does not have access to this API key's account.     404: API key not found.</p> <p>Body parameter</p> <pre><code>{\n  \"status\": \"active\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#parameters_3","title":"Parameters","text":"Name In Type Required Description key_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body UpdateAPIKeyRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"prefix\": \"string\",\n  \"status\": \"active\",\n  \"last_used_at\": \"2019-08-24T14:15:22Z\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/api-keys/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response APIKeyResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/authentication/","title":"Authentication","text":""},{"location":"api/http-api/authentication/#refresh-session","title":"Refresh Session","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/client/sessions/refresh', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"refresh_token\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/client/sessions/refresh',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/client/sessions/refresh</code></p> <p>Refresh an expired access token using a valid refresh token.</p> <p>This endpoint implements token rotation for security: - Returns new access and refresh tokens - Increments the token version - Invalidates the old refresh token (prevents replay attacks)</p> <p>No authentication is required (the refresh token itself is the credential).</p> <p>Args:     request: Refresh token request     service: DeviceService dependency</p> <p>Returns:     RefreshTokenResponse with new tokens</p> <p>Raises:     401: Invalid or expired refresh token     422: Invalid request (missing refresh_token)</p> <p>Body parameter</p> <pre><code>{\n  \"refresh_token\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/authentication/#parameters","title":"Parameters","text":"Name In Type Required Description body body RefreshTokenRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"access_token\": \"string\",\n  \"refresh_token\": \"string\",\n  \"expires_in\": 0\n}\n</code></pre>"},{"location":"api/http-api/authentication/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response RefreshTokenResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/authentication/#generate-nonce","title":"Generate Nonce","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/client/nonce', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/client/nonce',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/client/nonce</code></p> <p>Generate a fresh nonce for replay protection.</p> <p>Nonces are single-use tokens with short TTL (60 seconds) that clients must obtain before making mutating requests (POST, PATCH, DELETE). This prevents replay attacks by ensuring each request is fresh and authorized.</p> <p>Requires device authentication via access token.</p> <p>Args:     auth: Authenticated client auth context (device guaranteed non-None)     service: NonceService dependency</p> <p>Returns:     NonceResponse with nonce_value and expires_at</p> <p>Raises:     401: Invalid or missing device token</p> <p>Example:     1. Client calls GET /client/nonce with Authorization header     2. Server returns nonce_value and expires_at     3. Client includes nonce in leadr-client-nonce header for mutations     4. Server validates and consumes nonce (single-use)</p>"},{"location":"api/http-api/authentication/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"nonce_value\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/authentication/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response NonceResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/authentication/#start-session","title":"Start Session","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/client/sessions', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"platform\": \"string\",\n  \"metadata\": {}\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/client/sessions',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/client/sessions</code></p> <p>Start a new device session for a game client.</p> <p>This endpoint authenticates game clients and provides JWT access tokens. It is idempotent - calling multiple times for the same device updates last_seen_at and generates a new access token.</p> <p>No authentication is required to call this endpoint (it IS the authentication).</p> <p>Args:     request: Session start request with game_id and device_id     service: DeviceService dependency</p> <p>Returns:     StartSessionResponse with device info and access token</p> <p>Raises:     404: Game not found     422: Invalid request (missing required fields, invalid UUID format)</p> <p>Body parameter</p> <pre><code>{\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"platform\": \"string\",\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"api/http-api/authentication/#parameters_2","title":"Parameters","text":"Name In Type Required Description body body StartSessionRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"account_id\": \"string\",\n  \"platform\": \"string\",\n  \"status\": \"active\",\n  \"metadata\": {},\n  \"access_token\": \"string\",\n  \"refresh_token\": \"string\",\n  \"expires_in\": 0,\n  \"first_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"last_seen_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/authentication/#responses_2","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response StartSessionResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/board-templates/","title":"Board Templates","text":""},{"location":"api/http-api/board-templates/#create-board-template","title":"Create Board Template","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/board-templates', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"repeat_interval\": \"string\",\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"config\": {}\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/board-templates',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/board-templates</code></p> <p>Create a new board template.</p> <p>Creates a template for automatically generating boards at regular intervals. The game must belong to the specified account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Args:     request: Template creation details including repeat_interval and configuration.     service: Injected board template service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardTemplateResponse with the created template including auto-generated ID.</p> <p>Raises:     403: User does not have access to the specified account.     404: Game or account not found.     400: Game doesn't belong to the specified account.</p> <p>Body parameter</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"repeat_interval\": \"string\",\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"config\": {}\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body BoardTemplateCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response BoardTemplateResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/board-templates/#list-board-templates","title":"List Board Templates","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/board-templates', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/board-templates',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/board-templates</code></p> <p>List board templates for an account with pagination, optionally filtered by game.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns templates from all accounts.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/board-templates?account_id=acc_123&amp;game_id=gam_456&amp;limit=50&amp;sort=name:asc</p> <p>Args:     auth: Authentication context with user info.     service: Injected board template service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     game_id: Optional game ID to filter templates by.</p> <p>Returns:     PaginatedResponse with board templates and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/board-templates/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none game_id query any false Filter by game ID cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_BoardTemplateResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/board-templates/#get-board-template","title":"Get Board Template","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/board-templates/{template_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/board-templates/{template_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/board-templates/{template_id}</code></p> <p>Get a board template by ID.</p> <p>Args:     template_id: Unique identifier for the template.     service: Injected board template service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardTemplateResponse with full template details.</p> <p>Raises:     403: User does not have access to this template's account.     404: Template not found.</p>"},{"location":"api/http-api/board-templates/#parameters_2","title":"Parameters","text":"Name In Type Required Description template_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response BoardTemplateResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/board-templates/#update-board-template","title":"Update Board Template","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/board-templates/{template_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/board-templates/{template_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/board-templates/{template_id}</code></p> <p>Update a board template.</p> <p>Supports updating any template field or soft-deleting the template.</p> <p>Args:     template_id: Unique identifier for the template.     request: Template update details (all fields optional).     service: Injected board template service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardTemplateResponse with the updated template details.</p> <p>Raises:     403: User does not have access to this template's account.     404: Template not found.</p> <p>Body parameter</p> <pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#parameters_3","title":"Parameters","text":"Name In Type Required Description template_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body BoardTemplateUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/board-templates/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response BoardTemplateResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/boards/","title":"Boards","text":""},{"location":"api/http-api/boards/#create-board","title":"Create Board","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/boards', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/boards',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/boards</code></p> <p>Create a new board.</p> <p>Creates a new leaderboard associated with an existing game and account. The game must belong to the specified account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Args:     request: Board creation details including account_id, game_id, name, and settings.     service: Injected board service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardResponse with the created board including auto-generated ID and timestamps.</p> <p>Raises:     403: User does not have access to the specified account.     404: Game or account not found.     400: Game doesn't belong to the specified account.</p> <p>Body parameter</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/boards/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body BoardCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url_short\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/boards/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response BoardResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/boards/#list-boards-admin","title":"List Boards Admin","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/boards', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/boards',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/boards</code></p> <p>List boards (Admin API).</p> <p>For regular users: - If account_id not provided, defaults to their API key's account - If account_id provided and they are superadmin, can access any account - If account_id provided and NOT superadmin, must match their account (validated in AuthContext)</p> <p>Filtering: - Use ?game_id={id} or ?game_slug={slug} to filter boards by game - Use ?game_slug={game_slug}&amp;slug={slug} to find a specific board within a game - Use ?code={code} to filter boards by short code - Use ?is_active=true/false to filter by active status - Use ?is_published=true/false to filter by published status - Use ?starts_before=&amp;starts_after= for start date range - Use ?ends_before=&amp;ends_after= for end date range - Note: board slug filter requires game_slug parameter <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, slug, short_code, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/boards?account_id=acc_123&amp;limit=50&amp;sort=name:asc     GET /v1/boards?game_slug=my-game&amp;is_active=true     GET /v1/boards?game_slug=my-game&amp;slug=weekly-challenge     GET /v1/boards?starts_after=2025-01-01T00:00:00Z&amp;ends_before=2025-12-31T23:59:59Z</p> <p>Args:     auth: Admin authentication context with user info.     service: Injected board service dependency.     game_service: Injected game service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account ID to filter boards by.     game_id: Optional game ID to filter boards by.     code: Optional short code to filter boards by.     game_slug: Optional game slug to filter boards by game (resolves to game_id).     slug: Optional board slug to filter by specific board (requires game_slug).     is_active: Optional filter for active status.     is_published: Optional filter for published status.     starts_before: Optional filter for boards starting before this time.     starts_after: Optional filter for boards starting after this time.     ends_before: Optional filter for boards ending before this time.     ends_after: Optional filter for boards ending after this time.</p> <p>Returns:     PaginatedResponse with boards and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, cursor state mismatch, or slug without game_slug.     404: Game or board not found when using slug filters.</p>"},{"location":"api/http-api/boards/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none game_id query any false Filter by game ID code query any false Filter by short code game_slug query any false Filter by game slug slug query any false Filter by board slug (requires game_slug) is_active query any false Filter by active status is_published query any false Filter by published status starts_before query any false Filter boards starting before this time (ISO 8601) starts_after query any false Filter boards starting after this time (ISO 8601) ends_before query any false Filter boards ending before this time (ISO 8601) ends_after query any false Filter boards ending after this time (ISO 8601) cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/boards/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_BoardResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/boards/#get-board","title":"Get Board","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/boards/{board_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/boards/{board_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/boards/{board_id}</code></p> <p>Get a board by ID.</p> <p>Args:     board_id: Unique identifier for the board.     service: Injected board service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardResponse with full board details.</p> <p>Raises:     403: User does not have access to this board's account.     404: Board not found.</p>"},{"location":"api/http-api/boards/#parameters_2","title":"Parameters","text":"Name In Type Required Description board_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url_short\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/boards/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response BoardResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/boards/#update-board","title":"Update Board","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/boards/{board_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"name\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/boards/{board_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/boards/{board_id}</code></p> <p>Update a board.</p> <p>Supports updating any board field or soft-deleting the board.</p> <p>Args:     board_id: Unique identifier for the board.     request: Board update details (all fields optional).     service: Injected board service dependency.     auth: Authentication context with user info.</p> <p>Returns:     BoardResponse with the updated board details.</p> <p>Raises:     403: User does not have access to this board's account.     404: Board not found.</p> <p>Body parameter</p> <pre><code>{\n  \"name\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/boards/#parameters_3","title":"Parameters","text":"Name In Type Required Description board_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body BoardUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url_short\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/boards/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response BoardResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/device-sessions/","title":"Device Sessions","text":""},{"location":"api/http-api/device-sessions/#list-sessions","title":"List Sessions","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/device-sessions', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/device-sessions',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/device-sessions</code></p> <p>List device sessions for an account with optional filters and pagination.</p> <p>Returns all non-deleted device sessions for the specified account, with optional filtering by device.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns sessions from all accounts.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=created_at:asc,id:desc - Valid sort fields: id, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/device-sessions?account_id=acc_123&amp;device_id=dev_456&amp;limit=50</p> <p>Args:     auth: Authentication context with user info.     service: Injected device service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     device_id: Optional device ID to filter by.</p> <p>Returns:     PaginatedResponse with device sessions and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/device-sessions/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none device_id query any false Filter by device ID cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/device-sessions/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_DeviceSessionResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/device-sessions/#get-session","title":"Get Session","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/device-sessions/{session_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/device-sessions/{session_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/device-sessions/{session_id}</code></p> <p>Get a device session by ID.</p> <p>Args:     session_id: Session identifier to retrieve.     service: Injected device service dependency.     auth: Authentication context with user info.</p> <p>Returns:     DeviceSessionResponse with the session details.</p> <p>Raises:     403: User does not have access to this session's account.     404: Session not found or soft-deleted.</p>"},{"location":"api/http-api/device-sessions/#parameters_1","title":"Parameters","text":"Name In Type Required Description session_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"device_id\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"refresh_expires_at\": \"2019-08-24T14:15:22Z\",\n  \"ip_address\": \"string\",\n  \"user_agent\": \"string\",\n  \"revoked_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/device-sessions/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response DeviceSessionResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/device-sessions/#update-session","title":"Update Session","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/device-sessions/{session_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"revoked\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/device-sessions/{session_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/device-sessions/{session_id}</code></p> <p>Update a device session (revoke).</p> <p>Allows revoking a device session to invalidate authentication.</p> <p>Args:     session_id: Session identifier to update.     request: Update details (revoked status).     service: Injected device service dependency.     auth: Authentication context with user info.</p> <p>Returns:     DeviceSessionResponse with the updated session details.</p> <p>Raises:     403: User does not have access to this session's account.     404: Session not found.     400: Invalid request or no revoked field provided.</p> <p>Body parameter</p> <pre><code>{\n  \"revoked\": true\n}\n</code></pre>"},{"location":"api/http-api/device-sessions/#parameters_2","title":"Parameters","text":"Name In Type Required Description session_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body DeviceSessionUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"device_id\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"refresh_expires_at\": \"2019-08-24T14:15:22Z\",\n  \"ip_address\": \"string\",\n  \"user_agent\": \"string\",\n  \"revoked_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/device-sessions/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response DeviceSessionResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/devices/","title":"Devices","text":""},{"location":"api/http-api/devices/#list-devices","title":"List Devices","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/devices', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/devices',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/devices</code></p> <p>List devices for an account with optional filters and pagination.</p> <p>Returns all non-deleted devices for the specified account, with optional filtering by game or status.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns devices from all accounts.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, platform, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/devices?account_id=acc_123&amp;game_id=game_456&amp;status=active&amp;limit=50</p> <p>Args:     auth: Authentication context with user info.     service: Injected device service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     game_id: Optional game ID to filter by.     device_status: Optional status to filter by (active, banned, suspended).</p> <p>Returns:     PaginatedResponse with devices and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/devices/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none game_id query any false Filter by game ID status query any false Filter by status cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/devices/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_DeviceResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/devices/#get-device","title":"Get Device","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/devices/{device_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/devices/{device_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/devices/{device_id}</code></p> <p>Get a device by ID.</p> <p>Args:     device_id: Device identifier to retrieve.     service: Injected device service dependency.     auth: Authentication context with user info.</p> <p>Returns:     DeviceResponse with the device details.</p> <p>Raises:     403: User does not have access to this device's account.     404: Device not found or soft-deleted.</p>"},{"location":"api/http-api/devices/#parameters_1","title":"Parameters","text":"Name In Type Required Description device_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"account_id\": \"string\",\n  \"platform\": \"string\",\n  \"status\": \"string\",\n  \"first_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"last_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/devices/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response DeviceResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/devices/#update-device","title":"Update Device","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/devices/{device_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"status\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/devices/{device_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/devices/{device_id}</code></p> <p>Update a device (change status).</p> <p>Allows changing device status to ban, suspend, or activate devices.</p> <p>Args:     device_id: Device identifier to update.     request: Update details (status).     service: Injected device service dependency.     auth: Authentication context with user info.</p> <p>Returns:     DeviceResponse with the updated device details.</p> <p>Raises:     403: User does not have access to this device's account.     404: Device not found.     400: Invalid status value.</p> <p>Body parameter</p> <pre><code>{\n  \"status\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/devices/#parameters_2","title":"Parameters","text":"Name In Type Required Description device_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body DeviceUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"account_id\": \"string\",\n  \"platform\": \"string\",\n  \"status\": \"string\",\n  \"first_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"last_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/devices/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response DeviceResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/games/","title":"Games","text":""},{"location":"api/http-api/games/#create-game","title":"Create Game","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/games', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/games',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/games</code></p> <p>Create a new game.</p> <p>Creates a new game associated with an existing account. Games can optionally be configured with Steam integration and a default leaderboard.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Args:     request: Game creation details including account_id, name, and optional settings.     service: Injected game service dependency.     auth: Authentication context with user info.</p> <p>Returns:     GameResponse with the created game including auto-generated ID and timestamps.</p> <p>Raises:     403: User does not have access to the specified account.     404: Account not found.</p> <p>Body parameter</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/games/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body GameCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/games/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response GameResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/games/#list-games","title":"List Games","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/games', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/games',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/games</code></p> <p>List all games for an account with pagination and optional filtering.</p> <p>Returns paginated games for the specified account. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns games from all accounts.</p> <p>Filtering: - Use ?slug={slug} to find a specific game by its globally unique slug</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, slug, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/games?slug=my-game     GET /v1/games?account_id=acc_123&amp;limit=50&amp;sort=name:asc</p> <p>Args:     auth: Authentication context with user info.     service: Injected game service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     slug: Optional slug filter to find a specific game.</p> <p>Returns:     PaginatedResponse with games and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.     404: Game not found when filtering by slug.</p>"},{"location":"api/http-api/games/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none slug query any false Filter by game slug cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/games/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_GameResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/games/#get-game","title":"Get Game","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/games/{game_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/games/{game_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/games/{game_id}</code></p> <p>Get a game by ID.</p> <p>Args:     game_id: Unique identifier for the game.     service: Injected game service dependency.     auth: Authentication context with user info.</p> <p>Returns:     GameResponse with full game details.</p> <p>Raises:     403: User does not have access to this game's account.     404: Game not found.</p>"},{"location":"api/http-api/games/#parameters_2","title":"Parameters","text":"Name In Type Required Description game_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/games/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response GameResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/games/#update-game","title":"Update Game","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/games/{game_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"name\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/games/{game_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/games/{game_id}</code></p> <p>Update a game.</p> <p>Supports updating name, Steam App ID, default board ID, or soft-deleting the game.</p> <p>Args:     game_id: Unique identifier for the game.     request: Game update details (all fields optional).     service: Injected game service dependency.     auth: Authentication context with user info.</p> <p>Returns:     GameResponse with the updated game details.</p> <p>Raises:     403: User does not have access to this game's account.     404: Game not found.</p> <p>Body parameter</p> <pre><code>{\n  \"name\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/games/#parameters_3","title":"Parameters","text":"Name In Type Required Description game_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body GameUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/games/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response GameResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/public/","title":"Public","text":""},{"location":"api/http-api/public/#health-check","title":"Health Check","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json'\n}\n\nr = requests.get('/v1/health', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json'\n};\n\nfetch('/v1/health',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/health</code></p> <p>Health check endpoint.</p> <p>Verifies that the API is running and can connect to the database. Returns degraded status if database connectivity fails.</p> <p>Args:     db: Database session dependency.</p> <p>Returns:     HealthResponse with API and database status.</p> <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"service\": \"string\",\n  \"status\": \"string\",\n  \"database\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/public/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response HealthResponse <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/public/#liveness-check","title":"Liveness Check","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json'\n}\n\nr = requests.get('/v1/health/live', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json'\n};\n\nfetch('/v1/health/live',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/health/live</code></p> <p>Liveness probe endpoint.</p> <p>Simple HTTP ping for container health checks. Returns immediately without checking database or other dependencies.</p> <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"property1\": \"string\",\n  \"property2\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/public/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response Inline"},{"location":"api/http-api/public/#response-schema","title":"Response Schema","text":"<p>Status Code 200</p> <p>Response Liveness Check V1 Health Live Get</p> Name Type Required Restrictions Description \u00bb additionalProperties string false none none <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/public/#root","title":"Root","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json'\n}\n\nr = requests.get('/v1/', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json'\n};\n\nfetch('/v1/',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/</code></p> <p>Root endpoint.</p> <p>Returns basic API information including version and documentation URL.</p> <p>Returns:     Dict containing API metadata.</p> <p>Example responses</p> <p>200 Response</p> <pre><code>null\n</code></pre>"},{"location":"api/http-api/public/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response Inline"},{"location":"api/http-api/public/#response-schema_1","title":"Response Schema","text":"<p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/","title":"Registration","text":""},{"location":"api/http-api/registration/#create-jam-code","title":"Create Jam Code","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/jam-codes', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/jam-codes',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/jam-codes</code></p> <p>Create a new jam code (superadmin only).</p> <p>Jam codes can be used for promotional campaigns, game jams, or referral tracking. They can optionally have usage limits, expiration dates, and custom features.</p> <p>Body parameter</p> <pre><code>{\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body CreateJamCodeRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"current_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response JamCodeResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#list-jam-codes","title":"List Jam Codes","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/jam-codes', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/jam-codes',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/jam-codes</code></p> <p>List all jam codes (superadmin only).</p> <p>Returns a paginated list of all jam codes, including their usage statistics.</p>"},{"location":"api/http-api/registration/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_JamCodeResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#get-jam-code","title":"Get Jam Code","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/jam-codes/{jam_code_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/jam-codes/{jam_code_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/jam-codes/{jam_code_id}</code></p> <p>Get a specific jam code by ID (superadmin only).</p>"},{"location":"api/http-api/registration/#parameters_2","title":"Parameters","text":"Name In Type Required Description jam_code_id path string(uuid) true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"current_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response JamCodeResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#update-jam-code","title":"Update Jam Code","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/jam-codes/{jam_code_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/jam-codes/{jam_code_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/jam-codes/{jam_code_id}</code></p> <p>Update a jam code (superadmin only).</p> <p>Can update description, features, max uses, active status, and expiration.</p> <p>Body parameter</p> <pre><code>{\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters_3","title":"Parameters","text":"Name In Type Required Description jam_code_id path string(uuid) true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body UpdateJamCodeRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"current_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response JamCodeResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#initiate-registration","title":"Initiate Registration","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/register/initiate', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"email\": \"user@example.com\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/register/initiate',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/register/initiate</code></p> <p>Initiate registration by sending a verification code to the provided email.</p> <p>This endpoint is publicly accessible and requires no authentication. A 6-character verification code will be sent to the email address.</p> <p>Body parameter</p> <pre><code>{\n  \"email\": \"user@example.com\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters_4","title":"Parameters","text":"Name In Type Required Description body body InitiateRegistrationRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"message\": \"string\",\n  \"code_expires_in\": 0\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_4","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response InitiateRegistrationResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#verify-code","title":"Verify Code","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/register/verify', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"email\": \"user@example.com\",\n  \"code\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/register/verify',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/register/verify</code></p> <p>Verify an email verification code and return a temporary token.</p> <p>This endpoint validates the verification code and returns a short-lived token that can be used to complete the registration process.</p> <p>Body parameter</p> <pre><code>{\n  \"email\": \"user@example.com\",\n  \"code\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters_5","title":"Parameters","text":"Name In Type Required Description body body VerifyCodeRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"verification_token\": \"string\",\n  \"expires_in\": 0\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_5","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response VerifyCodeResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#complete-registration","title":"Complete Registration","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/register/complete', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"verification_token\": \"string\",\n  \"account_name\": \"string\",\n  \"account_slug\": \"string\",\n  \"jam_code\": \"string\",\n  \"display_name\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/register/complete',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/register/complete</code></p> <p>Complete registration by creating the account, user, and API key.</p> <p>This endpoint creates the full account structure: - Account with the specified name and slug - User associated with the verified email - API key for CLI authentication - Optional jam code redemption</p> <p>The API key is returned in plaintext and should be stored securely by the client.</p> <p>Body parameter</p> <pre><code>{\n  \"verification_token\": \"string\",\n  \"account_name\": \"string\",\n  \"account_slug\": \"string\",\n  \"jam_code\": \"string\",\n  \"display_name\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters_6","title":"Parameters","text":"Name In Type Required Description body body CompleteRegistrationRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"account_slug\": \"string\",\n  \"api_key\": \"string\",\n  \"display_name\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_6","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response CompleteRegistrationResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/registration/#resend-verification-code","title":"Resend Verification Code","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json'\n}\n\nr = requests.post('/v1/register/resend-code', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"email\": \"user@example.com\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json'\n};\n\nfetch('/v1/register/resend-code',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/register/resend-code</code></p> <p>Resend a verification code to the provided email.</p> <p>This endpoint invalidates any existing codes for the email and sends a new one.</p> <p>Body parameter</p> <pre><code>{\n  \"email\": \"user@example.com\"\n}\n</code></pre>"},{"location":"api/http-api/registration/#parameters_7","title":"Parameters","text":"Name In Type Required Description body body InitiateRegistrationRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"message\": \"string\",\n  \"code_expires_in\": 0\n}\n</code></pre>"},{"location":"api/http-api/registration/#responses_7","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response InitiateRegistrationResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/schemas/","title":"Schemas","text":""},{"location":"api/http-api/schemas/#apikeyresponse","title":"APIKeyResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"prefix\": \"string\",\n  \"status\": \"active\",\n  \"last_used_at\": \"2019-08-24T14:15:22Z\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>APIKeyResponse</p>"},{"location":"api/http-api/schemas/#properties","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the API key account_id string true none ID of the account this key belongs to user_id string true none ID of the user who owns this API key name string true none Human-readable name for the API key prefix string true none Key prefix for identification (first 8 characters) status APIKeyStatus true none Current status (active, revoked, expired) last_used_at any false none Timestamp of last successful authentication (UTC) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description expires_at any false none Expiration timestamp (UTC), or null if never expires <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the key was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#apikeystatus","title":"APIKeyStatus","text":"<pre><code>\"active\"\n</code></pre> <p>APIKeyStatus</p>"},{"location":"api/http-api/schemas/#properties_1","title":"Properties","text":"Name Type Required Restrictions Description APIKeyStatus string false none API Key status enumeration."},{"location":"api/http-api/schemas/#enumerated-values","title":"Enumerated Values","text":"Property Value APIKeyStatus active APIKeyStatus revoked"},{"location":"api/http-api/schemas/#accountcreaterequest","title":"AccountCreateRequest","text":"<pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\"\n}\n</code></pre> <p>AccountCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_2","title":"Properties","text":"Name Type Required Restrictions Description name string true none Account name (2-100 characters) slug any false none Optional URL-friendly slug (globally unique). If not provided, will be auto-generated from name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#accountresponse","title":"AccountResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>AccountResponse</p>"},{"location":"api/http-api/schemas/#properties_3","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the account name string true none Account name slug string true none URL-friendly identifier status AccountStatus true none Current account status created_at string(date-time) true none Timestamp when the account was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#accountstatus","title":"AccountStatus","text":"<pre><code>\"active\"\n</code></pre> <p>AccountStatus</p>"},{"location":"api/http-api/schemas/#properties_4","title":"Properties","text":"Name Type Required Restrictions Description AccountStatus string false none Account status enumeration."},{"location":"api/http-api/schemas/#enumerated-values_1","title":"Enumerated Values","text":"Property Value AccountStatus active AccountStatus suspended"},{"location":"api/http-api/schemas/#accountupdaterequest","title":"AccountUpdateRequest","text":"<pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"status\": \"active\",\n  \"deleted\": true\n}\n</code></pre> <p>AccountUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_5","title":"Properties","text":"Name Type Required Restrictions Description name any false none Updated account name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description slug any false none Updated URL-friendly identifier <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description status any false none Account status (active, suspended, deleted) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous AccountStatus false none Account status enumeration. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the account <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#boardcreaterequest","title":"BoardCreateRequest","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\"\n}\n</code></pre> <p>BoardCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_6","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the account this board belongs to game_id string true none ID of the game this board belongs to name string true none Name of the board slug any false none Optional URL-friendly slug. If not provided, will be auto-generated from name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description icon any false none Icon identifier for the board. Defaults to 'fa-crown' <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description short_code any false none Globally unique short code for direct sharing. Auto-generated if not provided <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description unit any false none Unit of measurement for scores (e.g., 'seconds', 'points'). Optional <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_active boolean false none Whether the board is currently active is_published boolean false none Whether the board is published and visible on public web views sort_direction SortDirection false none Direction to sort scores keep_strategy KeepStrategy false none Strategy for keeping multiple scores from the same user created_from_template_id any false none Optional template ID this board was created from <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description template_name any false none Optional template name this board was created from <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description starts_at any false none Optional start time for time-bounded boards (UTC) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any false none Optional end time for time-bounded boards (UTC) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none Optional list of tags for categorization <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description description any false none Optional short description of the board <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#boardresponse","title":"BoardResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url_short\": \"string\"\n}\n</code></pre> <p>BoardResponse</p>"},{"location":"api/http-api/schemas/#properties_7","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the board account_id string true none ID of the account this board belongs to game_id string true none ID of the game this board belongs to name string true none Name of the board slug string true none URL-friendly slug for the board (auto-generated, read-only) icon any true none Icon identifier for the board, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description short_code string true none Globally unique short code for direct sharing unit any true none Unit of measurement for scores, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_active boolean true none Whether the board is currently active is_published boolean true none Whether the board is published and visible on public web views sort_direction SortDirection true none Direction to sort scores keep_strategy KeepStrategy true none Strategy for keeping scores from same user created_from_template_id any false none Template ID this board was created from, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description template_name any false none Template name this board was created from, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description starts_at any false none Start time for time-bounded boards (UTC) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any false none End time for time-bounded boards (UTC) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags [string] false none List of tags for categorization description any false none Short description of the board <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the board was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC) url_short any true read-only Short URL for direct board access via short_code.Returns the URL if BOARDS_UI_DOMAIN is configured and the board is published,otherwise None. <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#boardtemplatecreaterequest","title":"BoardTemplateCreateRequest","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"repeat_interval\": \"string\",\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"fa-crown\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"config\": {}\n}\n</code></pre> <p>BoardTemplateCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_8","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the account this template belongs to game_id string true none ID of the game this template belongs to name string true none Name of the template slug any false none URL-friendly slug for boards created from this template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description repeat_interval string true none PostgreSQL interval syntax for repeat frequency (e.g., '7 days', '1 month') next_run_at string(date-time) true none Next scheduled time to create a board from this template (UTC) is_active boolean true none Whether the template is currently active is_published boolean false none Whether boards created from this template should be published name_template any false none Optional template string for generating board names <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description series any false none Optional series identifier for sequential board naming <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description icon any false none Icon identifier for boards created from this template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description unit any false none Unit of measurement for scores (e.g., 'seconds', 'points') <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description sort_direction SortDirection false none Direction to sort scores (ascending/descending) keep_strategy KeepStrategy false none Strategy for keeping multiple scores from the same user starts_at any false none Optional start time for time-bounded boards <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any false none Optional end time for time-bounded boards <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none List of tags for categorizing boards created from this template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description config any false none Reserved for future procedural generation (bounds, variables, randomization rules) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous object false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#boardtemplateresponse","title":"BoardTemplateResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>BoardTemplateResponse</p>"},{"location":"api/http-api/schemas/#properties_9","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the template account_id string true none ID of the account this template belongs to game_id string true none ID of the game this template belongs to name string true none Name of the template slug any true none URL-friendly slug for boards created from this template, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description name_template any false none Template string for generating board names, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description series any false none Series identifier for sequential board naming, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description icon any true none Icon identifier for boards created from this template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description unit any true none Unit of measurement for scores (e.g., 'seconds', 'points') <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description sort_direction SortDirection true none Direction to sort scores (ascending/descending) keep_strategy KeepStrategy true none Strategy for keeping multiple scores from the same user starts_at any true none Optional start time for time-bounded boards <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any true none Optional end time for time-bounded boards <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags [string] true none List of tags for categorizing boards created from this template repeat_interval string true none Repeat frequency in PostgreSQL interval syntax config object false none Reserved for future procedural generation (bounds, variables, randomization rules) next_run_at string(date-time) true none Next scheduled run time (UTC) is_active boolean true none Whether the template is currently active is_published boolean true none Whether boards created from this template should be published created_at string(date-time) true none Timestamp when the template was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#boardtemplateupdaterequest","title":"BoardTemplateUpdateRequest","text":"<pre><code>{\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"name_template\": \"string\",\n  \"series\": \"string\",\n  \"icon\": \"string\",\n  \"unit\": \"string\",\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"repeat_interval\": \"string\",\n  \"config\": {},\n  \"next_run_at\": \"2019-08-24T14:15:22Z\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"deleted\": true\n}\n</code></pre> <p>BoardTemplateUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_10","title":"Properties","text":"Name Type Required Restrictions Description name any false none Updated template name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description slug any false none Updated slug <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description name_template any false none Updated name template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description series any false none Updated series identifier <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description icon any false none Updated icon identifier <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description unit any false none Updated unit of measurement <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description sort_direction any false none Updated sort direction <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous SortDirection false none Sort direction for board scores. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description keep_strategy any false none Updated keep strategy <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous KeepStrategy false none Strategy for keeping scores from the same user. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description starts_at any false none Updated start time <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any false none Updated end time <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none Updated tags list <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description repeat_interval any false none Updated repeat interval <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description config any false none Updated config (reserved for procedural generation) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous object false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description next_run_at any false none Updated next run time <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_active any false none Updated active status <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_published any false none Updated published status <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the template <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#boardupdaterequest","title":"BoardUpdateRequest","text":"<pre><code>{\n  \"name\": \"string\",\n  \"icon\": \"string\",\n  \"short_code\": \"string\",\n  \"unit\": \"string\",\n  \"is_active\": true,\n  \"is_published\": true,\n  \"sort_direction\": \"ASCENDING\",\n  \"keep_strategy\": \"FIRST_ONLY\",\n  \"created_from_template_id\": \"string\",\n  \"template_name\": \"string\",\n  \"starts_at\": \"2019-08-24T14:15:22Z\",\n  \"ends_at\": \"2019-08-24T14:15:22Z\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"description\": \"string\",\n  \"deleted\": true\n}\n</code></pre> <p>BoardUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_11","title":"Properties","text":"Name Type Required Restrictions Description name any false none Updated board name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description icon any false none Updated icon identifier <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description short_code any false none Updated short code <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description unit any false none Updated unit of measurement <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_active any false none Updated active status <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description is_published any false none Updated published status <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description sort_direction any false none Updated sort direction <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous SortDirection false none Sort direction for board scores. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description keep_strategy any false none Updated keep strategy <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous KeepStrategy false none Strategy for keeping scores from the same user. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_from_template_id any false none Updated template ID <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description template_name any false none Updated template name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description starts_at any false none Updated start time <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description ends_at any false none Updated end time <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none Updated tags list <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description description any false none Updated board description <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the board <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#completeregistrationrequest","title":"CompleteRegistrationRequest","text":"<pre><code>{\n  \"verification_token\": \"string\",\n  \"account_name\": \"string\",\n  \"account_slug\": \"string\",\n  \"jam_code\": \"string\",\n  \"display_name\": \"string\"\n}\n</code></pre> <p>CompleteRegistrationRequest</p>"},{"location":"api/http-api/schemas/#properties_12","title":"Properties","text":"Name Type Required Restrictions Description verification_token string true none Token from code verification step account_name string true none Name for the new account account_slug any false none Optional URL slug (auto-generated if not provided) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description jam_code any false none Optional jam/promo code <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description display_name any false none Optional display name for user (auto-generated from email if not provided) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#completeregistrationresponse","title":"CompleteRegistrationResponse","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"account_slug\": \"string\",\n  \"api_key\": \"string\",\n  \"display_name\": \"string\"\n}\n</code></pre> <p>CompleteRegistrationResponse</p>"},{"location":"api/http-api/schemas/#properties_13","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the created account account_slug string true none URL slug of the account api_key string true none API key for authentication display_name string true none Display name of the created user"},{"location":"api/http-api/schemas/#createapikeyrequest","title":"CreateAPIKeyRequest","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"user_id\": \"string\",\n  \"name\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>CreateAPIKeyRequest</p>"},{"location":"api/http-api/schemas/#properties_14","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the account this API key belongs to user_id string true none ID of the user who owns this API key name string true none Human-readable name for the API key (e.g., 'Production Server') expires_at any false none Optional expiration timestamp (UTC). Key never expires if omitted <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#createapikeyresponse","title":"CreateAPIKeyResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"key\": \"string\",\n  \"prefix\": \"string\",\n  \"status\": \"active\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>CreateAPIKeyResponse</p>"},{"location":"api/http-api/schemas/#properties_15","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the API key name string true none Human-readable name for the API key key string true none Plain text API key. ONLY returned at creation - save this securely! prefix string true none Key prefix for identification (first 8 characters) status APIKeyStatus true none Current status of the API key expires_at any false none Expiration timestamp (UTC), or null if never expires <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the key was created (UTC)"},{"location":"api/http-api/schemas/#createjamcoderequest","title":"CreateJamCodeRequest","text":"<pre><code>{\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>CreateJamCodeRequest</p>"},{"location":"api/http-api/schemas/#properties_16","title":"Properties","text":"Name Type Required Restrictions Description code string true none Alphanumeric code (3-50 characters) description string true none Human-readable description features object false none Features/config for this code max_uses any false none Maximum redemptions (null = unlimited) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous integer false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description expires_at any false none Expiration date (null = never) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#deviceresponse","title":"DeviceResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"account_id\": \"string\",\n  \"platform\": \"string\",\n  \"status\": \"string\",\n  \"first_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"last_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>DeviceResponse</p>"},{"location":"api/http-api/schemas/#properties_17","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the device game_id string true none ID of the game this device belongs to client_fingerprint string true none Client-generated SHA256 device fingerprint (64 hex characters) account_id string true none ID of the account this device belongs to platform any false none Platform (iOS, Android, etc.), or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description status string true none Device status: active, banned, or suspended first_seen_at string(date-time) true none Timestamp when device was first seen (UTC) last_seen_at string(date-time) true none Timestamp when device was last seen (UTC) metadata object true none Additional device metadata created_at string(date-time) true none Timestamp when device record was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#devicesessionresponse","title":"DeviceSessionResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"device_id\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"refresh_expires_at\": \"2019-08-24T14:15:22Z\",\n  \"ip_address\": \"string\",\n  \"user_agent\": \"string\",\n  \"revoked_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>DeviceSessionResponse</p>"},{"location":"api/http-api/schemas/#properties_18","title":"Properties","text":"Name Type Required Restrictions Description id string true none none device_id string true none none expires_at string(date-time) true none none refresh_expires_at string(date-time) true none none ip_address any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description user_agent any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description revoked_at any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none none updated_at string(date-time) true none none"},{"location":"api/http-api/schemas/#devicesessionupdaterequest","title":"DeviceSessionUpdateRequest","text":"<pre><code>{\n  \"revoked\": true\n}\n</code></pre> <p>DeviceSessionUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_19","title":"Properties","text":"Name Type Required Restrictions Description revoked any false none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#devicestatus","title":"DeviceStatus","text":"<pre><code>\"active\"\n</code></pre> <p>DeviceStatus</p>"},{"location":"api/http-api/schemas/#properties_20","title":"Properties","text":"Name Type Required Restrictions Description DeviceStatus string false none Device status enumeration."},{"location":"api/http-api/schemas/#enumerated-values_2","title":"Enumerated Values","text":"Property Value DeviceStatus active DeviceStatus banned DeviceStatus suspended"},{"location":"api/http-api/schemas/#deviceupdaterequest","title":"DeviceUpdateRequest","text":"<pre><code>{\n  \"status\": \"string\"\n}\n</code></pre> <p>DeviceUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_21","title":"Properties","text":"Name Type Required Restrictions Description status any false none Updated status: active, banned, or suspended <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#gamecreaterequest","title":"GameCreateRequest","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\"\n}\n</code></pre> <p>GameCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_22","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the account this game belongs to name string true none Name of the game slug any false none Optional URL-friendly slug (globally unique). If not provided, will be auto-generated from name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description steam_app_id any false none Optional Steam App ID for Steam integration <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description default_board_id any false none Optional ID of the default leaderboard for this game <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description anti_cheat_enabled boolean false none Whether anti-cheat is enabled for this game (defaults to True) description any false none Optional game description <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none Optional list of tags for categorization <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description page_url any false none Optional URL to the game's page <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#gameresponse","title":"GameResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"name\": \"string\",\n  \"slug\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\",\n  \"url\": \"string\"\n}\n</code></pre> <p>GameResponse</p>"},{"location":"api/http-api/schemas/#properties_23","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the game account_id string true none ID of the account this game belongs to name string true none Name of the game slug string true none URL-friendly slug for the game (globally unique, immutable) steam_app_id any false none Steam App ID if Steam integration is configured <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description default_board_id any false none ID of the default leaderboard, or null if not set <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description anti_cheat_enabled boolean true none Whether anti-cheat is enabled for this game description any false none Game description <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags [string] false none List of tags for categorization page_url any false none URL to the game's page <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the game was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC) url any true read-only Public URL to view this game's leaderboards.Returns the URL if BOARDS_UI_DOMAIN is configured, otherwise None. <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#gameupdaterequest","title":"GameUpdateRequest","text":"<pre><code>{\n  \"name\": \"string\",\n  \"steam_app_id\": \"string\",\n  \"default_board_id\": \"string\",\n  \"anti_cheat_enabled\": true,\n  \"description\": \"string\",\n  \"tags\": [\n    \"string\"\n  ],\n  \"page_url\": \"string\",\n  \"deleted\": true\n}\n</code></pre> <p>GameUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_24","title":"Properties","text":"Name Type Required Restrictions Description name any false none Updated game name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description steam_app_id any false none Updated Steam App ID <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description default_board_id any false none Updated default leaderboard ID <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description anti_cheat_enabled any false none Whether anti-cheat is enabled for this game <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description description any false none Updated game description <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description tags any false none Updated tags list <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous [string] false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description page_url any false none Updated page URL <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the game <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#httpvalidationerror","title":"HTTPValidationError","text":"<pre><code>{\n  \"detail\": [\n    {\n      \"loc\": [\n        \"string\"\n      ],\n      \"msg\": \"string\",\n      \"type\": \"string\"\n    }\n  ]\n}\n</code></pre> <p>HTTPValidationError</p>"},{"location":"api/http-api/schemas/#properties_25","title":"Properties","text":"Name Type Required Restrictions Description detail [ValidationError] false none none"},{"location":"api/http-api/schemas/#healthresponse","title":"HealthResponse","text":"<pre><code>{\n  \"service\": \"string\",\n  \"status\": \"string\",\n  \"database\": \"string\"\n}\n</code></pre> <p>HealthResponse</p>"},{"location":"api/http-api/schemas/#properties_26","title":"Properties","text":"Name Type Required Restrictions Description service string true none The name of the service status string true none Overall API health status (healthy, degraded, or unhealthy) database string true none Database connection status"},{"location":"api/http-api/schemas/#initiateregistrationrequest","title":"InitiateRegistrationRequest","text":"<pre><code>{\n  \"email\": \"user@example.com\"\n}\n</code></pre> <p>InitiateRegistrationRequest</p>"},{"location":"api/http-api/schemas/#properties_27","title":"Properties","text":"Name Type Required Restrictions Description email string(email) true none Email address to send verification code to"},{"location":"api/http-api/schemas/#initiateregistrationresponse","title":"InitiateRegistrationResponse","text":"<pre><code>{\n  \"message\": \"string\",\n  \"code_expires_in\": 0\n}\n</code></pre> <p>InitiateRegistrationResponse</p>"},{"location":"api/http-api/schemas/#properties_28","title":"Properties","text":"Name Type Required Restrictions Description message string true none Success message code_expires_in integer true none Seconds until the code expires"},{"location":"api/http-api/schemas/#jamcoderesponse","title":"JamCodeResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"code\": \"string\",\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"current_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>JamCodeResponse</p>"},{"location":"api/http-api/schemas/#properties_29","title":"Properties","text":"Name Type Required Restrictions Description id string true none none code string true none none description string true none none features object true none none max_uses any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous integer false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description current_uses integer true none none active boolean true none none expires_at any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none none updated_at string(date-time) true none none"},{"location":"api/http-api/schemas/#keepstrategy","title":"KeepStrategy","text":"<pre><code>\"FIRST_ONLY\"\n</code></pre> <p>KeepStrategy</p>"},{"location":"api/http-api/schemas/#properties_30","title":"Properties","text":"Name Type Required Restrictions Description KeepStrategy string false none Strategy for keeping scores from the same user."},{"location":"api/http-api/schemas/#enumerated-values_3","title":"Enumerated Values","text":"Property Value KeepStrategy FIRST_ONLY KeepStrategy BEST_ONLY KeepStrategy LATEST_ONLY KeepStrategy ALL"},{"location":"api/http-api/schemas/#nonceresponse","title":"NonceResponse","text":"<pre><code>{\n  \"nonce_value\": \"string\",\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>NonceResponse</p>"},{"location":"api/http-api/schemas/#properties_31","title":"Properties","text":"Name Type Required Restrictions Description nonce_value string true none Unique nonce value (UUID) expires_at string(date-time) true none Nonce expiration timestamp (UTC)"},{"location":"api/http-api/schemas/#paginatedresponse_apikeyresponse_","title":"PaginatedResponse_APIKeyResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[APIKeyResponse]</p>"},{"location":"api/http-api/schemas/#properties_32","title":"Properties","text":"Name Type Required Restrictions Description data [APIKeyResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_accountresponse_","title":"PaginatedResponse_AccountResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[AccountResponse]</p>"},{"location":"api/http-api/schemas/#properties_33","title":"Properties","text":"Name Type Required Restrictions Description data [AccountResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_boardresponse_","title":"PaginatedResponse_BoardResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[BoardResponse]</p>"},{"location":"api/http-api/schemas/#properties_34","title":"Properties","text":"Name Type Required Restrictions Description data [BoardResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_boardtemplateresponse_","title":"PaginatedResponse_BoardTemplateResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[BoardTemplateResponse]</p>"},{"location":"api/http-api/schemas/#properties_35","title":"Properties","text":"Name Type Required Restrictions Description data [BoardTemplateResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_deviceresponse_","title":"PaginatedResponse_DeviceResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[DeviceResponse]</p>"},{"location":"api/http-api/schemas/#properties_36","title":"Properties","text":"Name Type Required Restrictions Description data [DeviceResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_devicesessionresponse_","title":"PaginatedResponse_DeviceSessionResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[DeviceSessionResponse]</p>"},{"location":"api/http-api/schemas/#properties_37","title":"Properties","text":"Name Type Required Restrictions Description data [DeviceSessionResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_gameresponse_","title":"PaginatedResponse_GameResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[GameResponse]</p>"},{"location":"api/http-api/schemas/#properties_38","title":"Properties","text":"Name Type Required Restrictions Description data [GameResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_jamcoderesponse_","title":"PaginatedResponse_JamCodeResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[JamCodeResponse]</p>"},{"location":"api/http-api/schemas/#properties_39","title":"Properties","text":"Name Type Required Restrictions Description data [JamCodeResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_scoreclientresponse_","title":"PaginatedResponse_ScoreClientResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[ScoreClientResponse]</p>"},{"location":"api/http-api/schemas/#properties_40","title":"Properties","text":"Name Type Required Restrictions Description data [ScoreClientResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_scoreflagresponse_","title":"PaginatedResponse_ScoreFlagResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[ScoreFlagResponse]</p>"},{"location":"api/http-api/schemas/#properties_41","title":"Properties","text":"Name Type Required Restrictions Description data [ScoreFlagResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_scoreresponse_","title":"PaginatedResponse_ScoreResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[ScoreResponse]</p>"},{"location":"api/http-api/schemas/#properties_42","title":"Properties","text":"Name Type Required Restrictions Description data [ScoreResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_scoresubmissionmetaresponse_","title":"PaginatedResponse_ScoreSubmissionMetaResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[ScoreSubmissionMetaResponse]</p>"},{"location":"api/http-api/schemas/#properties_43","title":"Properties","text":"Name Type Required Restrictions Description data [ScoreSubmissionMetaResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginatedresponse_userresponse_","title":"PaginatedResponse_UserResponse_","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre> <p>PaginatedResponse[UserResponse]</p>"},{"location":"api/http-api/schemas/#properties_44","title":"Properties","text":"Name Type Required Restrictions Description data [UserResponse] true none List of items in this page pagination PaginationMeta true none Pagination metadata"},{"location":"api/http-api/schemas/#paginationmeta","title":"PaginationMeta","text":"<pre><code>{\n  \"next_cursor\": \"string\",\n  \"prev_cursor\": \"string\",\n  \"has_next\": true,\n  \"has_prev\": true,\n  \"count\": 0\n}\n</code></pre> <p>PaginationMeta</p>"},{"location":"api/http-api/schemas/#properties_45","title":"Properties","text":"Name Type Required Restrictions Description next_cursor any false none Cursor for the next page of results <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description prev_cursor any false none Cursor for the previous page of results <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description has_next boolean true none Whether there are more results after this page has_prev boolean true none Whether there are results before this page count integer true none Number of items in this page"},{"location":"api/http-api/schemas/#refreshtokenrequest","title":"RefreshTokenRequest","text":"<pre><code>{\n  \"refresh_token\": \"string\"\n}\n</code></pre> <p>RefreshTokenRequest</p>"},{"location":"api/http-api/schemas/#properties_46","title":"Properties","text":"Name Type Required Restrictions Description refresh_token string true none JWT refresh token obtained from start_session"},{"location":"api/http-api/schemas/#refreshtokenresponse","title":"RefreshTokenResponse","text":"<pre><code>{\n  \"access_token\": \"string\",\n  \"refresh_token\": \"string\",\n  \"expires_in\": 0\n}\n</code></pre> <p>RefreshTokenResponse</p>"},{"location":"api/http-api/schemas/#properties_47","title":"Properties","text":"Name Type Required Restrictions Description access_token string true none New JWT access token refresh_token string true none New JWT refresh token (old token is invalidated) expires_in integer true none Access token expiration time in seconds"},{"location":"api/http-api/schemas/#scoreclientcreaterequest","title":"ScoreClientCreateRequest","text":"<pre><code>{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {}\n}\n</code></pre> <p>ScoreClientCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_48","title":"Properties","text":"Name Type Required Restrictions Description board_id string true none ID of the board this score belongs to player_name string true none Display name of the player value number true none Numeric value of the score for sorting/comparison value_display any false none Optional formatted display string (e.g., '1:23.45', '1,234 points') <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Optional JSON metadata for game-specific data (max 1KB) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous any false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#scoreclientresponse","title":"ScoreClientResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>ScoreClientResponse</p>"},{"location":"api/http-api/schemas/#properties_49","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the score account_id string true none ID of the account this score belongs to game_id string true none ID of the game this score belongs to board_id string true none ID of the board this score belongs to player_name string true none Display name of the player value number true none Numeric value of the score value_display any false none Formatted display string, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Game-specific metadata, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous any false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the score was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#scorecreaterequest","title":"ScoreCreateRequest","text":"<pre><code>{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {},\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"device_id\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\"\n}\n</code></pre> <p>ScoreCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_50","title":"Properties","text":"Name Type Required Restrictions Description board_id string true none ID of the board this score belongs to player_name string true none Display name of the player value number true none Numeric value of the score for sorting/comparison value_display any false none Optional formatted display string (e.g., '1:23.45', '1,234 points') <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Optional JSON metadata for game-specific data (max 1KB) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous any false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description account_id any false none ID of the account (only for superadmins, regular admins use their auth account) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description game_id string true none ID of the game this score belongs to (required for admin API) device_id string true none ID of the device that submitted this score (required for admin API) timezone any false none Optional override of GeoIP metadata <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description country any false none Optional override of GeoIP metadata <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description city any false none Optional override of GeoIP metadata <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#scoreflagresponse","title":"ScoreFlagResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"score_id\": \"string\",\n  \"flag_type\": \"string\",\n  \"confidence\": \"string\",\n  \"metadata\": {},\n  \"status\": \"string\",\n  \"reviewed_at\": \"2019-08-24T14:15:22Z\",\n  \"reviewer_id\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>ScoreFlagResponse</p>"},{"location":"api/http-api/schemas/#properties_51","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the score flag score_id string true none ID of the score that was flagged flag_type string true none Type of flag (e.g., VELOCITY, DUPLICATE, RATE_LIMIT) confidence string true none Confidence level of the flag (LOW, MEDIUM, HIGH) metadata object true none Additional metadata about the flag status string true none Status: PENDING, CONFIRMED_CHEAT, FALSE_POSITIVE, or DISMISSED reviewed_at any false none Timestamp when flag was reviewed, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description reviewer_id any false none ID of the user who reviewed this flag, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description reviewer_decision any false none Admin's decision/notes, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the flag was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#scoreflagupdaterequest","title":"ScoreFlagUpdateRequest","text":"<pre><code>{\n  \"status\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"deleted\": true\n}\n</code></pre> <p>ScoreFlagUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_52","title":"Properties","text":"Name Type Required Restrictions Description status any false none Updated status: PENDING, CONFIRMED_CHEAT, FALSE_POSITIVE, or DISMISSED <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description reviewer_decision any false none Admin's decision/notes about the flag <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the flag <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#scoreresponse","title":"ScoreResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"device_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>ScoreResponse</p>"},{"location":"api/http-api/schemas/#properties_53","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the score account_id string true none ID of the account this score belongs to game_id string true none ID of the game this score belongs to board_id string true none ID of the board this score belongs to device_id string true none ID of the device that submitted this score player_name string true none Display name of the player value number true none Numeric value of the score value_display any false none Formatted display string, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description timezone any false none Timezone for categorization, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description country any false none Country for categorization, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description city any false none City for categorization, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Game-specific metadata, or null <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous any false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none Timestamp when the score was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#scoresubmissionmetaresponse","title":"ScoreSubmissionMetaResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"score_id\": \"string\",\n  \"device_id\": \"string\",\n  \"board_id\": \"string\",\n  \"submission_count\": 0,\n  \"last_submission_at\": \"2019-08-24T14:15:22Z\",\n  \"last_score_value\": 0,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>ScoreSubmissionMetaResponse</p>"},{"location":"api/http-api/schemas/#properties_54","title":"Properties","text":"Name Type Required Restrictions Description id string true none none score_id string true none none device_id string true none none board_id string true none none submission_count integer true none none last_submission_at string(date-time) true none none last_score_value any true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous number false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description created_at string(date-time) true none none updated_at string(date-time) true none none"},{"location":"api/http-api/schemas/#scoreupdaterequest","title":"ScoreUpdateRequest","text":"<pre><code>{\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"deleted\": true\n}\n</code></pre> <p>ScoreUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_55","title":"Properties","text":"Name Type Required Restrictions Description player_name any false none Updated player name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description value any false none Updated score value <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous number false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description value_display any false none Updated display string <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description timezone any false none Updated timezone <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description country any false none Updated country <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description city any false none Updated city <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Updated metadata <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous any false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the score <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#sortdirection","title":"SortDirection","text":"<pre><code>\"ASCENDING\"\n</code></pre> <p>SortDirection</p>"},{"location":"api/http-api/schemas/#properties_56","title":"Properties","text":"Name Type Required Restrictions Description SortDirection string false none Sort direction for board scores."},{"location":"api/http-api/schemas/#enumerated-values_4","title":"Enumerated Values","text":"Property Value SortDirection ASCENDING SortDirection DESCENDING"},{"location":"api/http-api/schemas/#startsessionrequest","title":"StartSessionRequest","text":"<pre><code>{\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"platform\": \"string\",\n  \"metadata\": {}\n}\n</code></pre> <p>StartSessionRequest</p>"},{"location":"api/http-api/schemas/#properties_57","title":"Properties","text":"Name Type Required Restrictions Description game_id string true none ID of the game this device belongs to client_fingerprint string true none Client-generated SHA256 device fingerprint (64 hex characters) platform any false none Device platform (e.g., 'ios', 'android', 'pc', 'console') <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description metadata any false none Optional device metadata (e.g., OS version, device model) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous object false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#startsessionresponse","title":"StartSessionResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"game_id\": \"string\",\n  \"client_fingerprint\": \"string\",\n  \"account_id\": \"string\",\n  \"platform\": \"string\",\n  \"status\": \"active\",\n  \"metadata\": {},\n  \"access_token\": \"string\",\n  \"refresh_token\": \"string\",\n  \"expires_in\": 0,\n  \"first_seen_at\": \"2019-08-24T14:15:22Z\",\n  \"last_seen_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>StartSessionResponse</p>"},{"location":"api/http-api/schemas/#properties_58","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the device game_id string true none ID of the game client_fingerprint string true none Client-generated SHA256 device fingerprint (64 hex characters) account_id string true none ID of the account that owns the game platform any false none Device platform <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description status DeviceStatus true none Device status (active, suspended, banned) metadata object false none Device metadata access_token string true none JWT access token for authenticating API requests refresh_token string true none JWT refresh token for obtaining new access tokens expires_in integer true none Access token expiration time in seconds first_seen_at string(date-time) true none Timestamp when device was first seen (UTC) last_seen_at string(date-time) true none Timestamp when device was last seen (UTC)"},{"location":"api/http-api/schemas/#updateapikeyrequest","title":"UpdateAPIKeyRequest","text":"<pre><code>{\n  \"status\": \"active\",\n  \"deleted\": true\n}\n</code></pre> <p>UpdateAPIKeyRequest</p>"},{"location":"api/http-api/schemas/#properties_59","title":"Properties","text":"Name Type Required Restrictions Description status any false none Updated status (use 'revoked' to disable key) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous APIKeyStatus false none API Key status enumeration. <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the key <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#updatejamcoderequest","title":"UpdateJamCodeRequest","text":"<pre><code>{\n  \"description\": \"string\",\n  \"features\": {},\n  \"max_uses\": 0,\n  \"active\": true,\n  \"expires_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>UpdateJamCodeRequest</p>"},{"location":"api/http-api/schemas/#properties_60","title":"Properties","text":"Name Type Required Restrictions Description description any false none New description <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description features any false none New features/config <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous object false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description max_uses any false none New max uses <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous integer false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description active any false none New active status <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description expires_at any false none New expiration date <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(date-time) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#usercreaterequest","title":"UserCreateRequest","text":"<pre><code>{\n  \"account_id\": \"string\",\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\"\n}\n</code></pre> <p>UserCreateRequest</p>"},{"location":"api/http-api/schemas/#properties_61","title":"Properties","text":"Name Type Required Restrictions Description account_id string true none ID of the account this user belongs to email string(email) true none User's email address (must be valid email format) display_name string true none User's display name (2-100 characters)"},{"location":"api/http-api/schemas/#userresponse","title":"UserResponse","text":"<pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"email\": \"string\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre> <p>UserResponse</p>"},{"location":"api/http-api/schemas/#properties_62","title":"Properties","text":"Name Type Required Restrictions Description id string true none Unique identifier for the user account_id string true none ID of the account this user belongs to email string true none User's email address display_name string true none User's display name super_admin boolean true none Whether this user has superadmin privileges created_at string(date-time) true none Timestamp when the user was created (UTC) updated_at string(date-time) true none Timestamp of last update (UTC)"},{"location":"api/http-api/schemas/#userupdaterequest","title":"UserUpdateRequest","text":"<pre><code>{\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"deleted\": true\n}\n</code></pre> <p>UserUpdateRequest</p>"},{"location":"api/http-api/schemas/#properties_63","title":"Properties","text":"Name Type Required Restrictions Description email any false none Updated email address <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string(email) false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description display_name any false none Updated display name <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description super_admin any false none Set superadmin privileges (true/false) <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none <p>continued</p> Name Type Required Restrictions Description deleted any false none Set to true to soft delete the user <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous boolean false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous null false none none"},{"location":"api/http-api/schemas/#validationerror","title":"ValidationError","text":"<pre><code>{\n  \"loc\": [\n    \"string\"\n  ],\n  \"msg\": \"string\",\n  \"type\": \"string\"\n}\n</code></pre> <p>ValidationError</p>"},{"location":"api/http-api/schemas/#properties_64","title":"Properties","text":"Name Type Required Restrictions Description loc [anyOf] true none none <p>anyOf</p> Name Type Required Restrictions Description \u00bb anonymous string false none none <p>or</p> Name Type Required Restrictions Description \u00bb anonymous integer false none none <p>continued</p> Name Type Required Restrictions Description msg string true none none type string true none none"},{"location":"api/http-api/schemas/#verifycoderequest","title":"VerifyCodeRequest","text":"<pre><code>{\n  \"email\": \"user@example.com\",\n  \"code\": \"string\"\n}\n</code></pre> <p>VerifyCodeRequest</p>"},{"location":"api/http-api/schemas/#properties_65","title":"Properties","text":"Name Type Required Restrictions Description email string(email) true none Email address code string true none 6-character verification code"},{"location":"api/http-api/schemas/#verifycoderesponse","title":"VerifyCodeResponse","text":"<pre><code>{\n  \"verification_token\": \"string\",\n  \"expires_in\": 0\n}\n</code></pre> <p>VerifyCodeResponse</p>"},{"location":"api/http-api/schemas/#properties_66","title":"Properties","text":"Name Type Required Restrictions Description verification_token string true none Temporary token for completing registration expires_in integer true none Seconds until the token expires"},{"location":"api/http-api/score-flags/","title":"Score Flags","text":""},{"location":"api/http-api/score-flags/#list-score-flags","title":"List Score Flags","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/score-flags', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/score-flags',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/score-flags</code></p> <p>List score flags for an account with optional filters and pagination.</p> <p>Returns paginated flags for the specified account, with optional filtering by board, game, status, or flag type. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns flags from all accounts.</p> <p>Args:     auth: Authentication context with user info.     service: Injected score flag service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     board_id: Optional board ID to filter by.     game_id: Optional game ID to filter by.     status: Optional status to filter by (PENDING, CONFIRMED_CHEAT, etc.).     flag_type: Optional flag type to filter by (VELOCITY, DUPLICATE, etc.).</p> <p>Returns:     PaginatedResponse containing ScoreFlagResponse objects matching the filter criteria.</p> <p>Raises:     400: Invalid cursor or sort field.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/score-flags/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none board_id query any false none game_id query any false none status query any false none flag_type query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/score-flags/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_ScoreFlagResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/score-flags/#get-score-flag","title":"Get Score Flag","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/score-flags/{flag_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/score-flags/{flag_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/score-flags/{flag_id}</code></p> <p>Get a score flag by ID.</p> <p>Args:     flag_id: Flag identifier to retrieve.     service: Injected score flag service dependency.     auth: Authentication context with user info.</p> <p>Returns:     ScoreFlagResponse with the flag details.</p> <p>Raises:     403: User does not have access to this flag's account.     404: Flag not found or soft-deleted.</p>"},{"location":"api/http-api/score-flags/#parameters_1","title":"Parameters","text":"Name In Type Required Description flag_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"score_id\": \"string\",\n  \"flag_type\": \"string\",\n  \"confidence\": \"string\",\n  \"metadata\": {},\n  \"status\": \"string\",\n  \"reviewed_at\": \"2019-08-24T14:15:22Z\",\n  \"reviewer_id\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/score-flags/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response ScoreFlagResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/score-flags/#update-score-flag","title":"Update Score Flag","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/score-flags/{flag_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"status\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/score-flags/{flag_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/score-flags/{flag_id}</code></p> <p>Update a score flag (review or soft-delete).</p> <p>Allows reviewing a flag (updating status and reviewer decision) or soft-deleting the flag.</p> <p>Args:     flag_id: Flag identifier to update.     request: Update details (status, reviewer_decision, or deleted flag).     service: Injected score flag service dependency.     auth: Authentication context with user info.</p> <p>Returns:     ScoreFlagResponse with the updated flag details.</p> <p>Raises:     403: User does not have access to this flag's account.     404: Flag not found.     400: Invalid update request.</p> <p>Body parameter</p> <pre><code>{\n  \"status\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/score-flags/#parameters_2","title":"Parameters","text":"Name In Type Required Description flag_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body ScoreFlagUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"score_id\": \"string\",\n  \"flag_type\": \"string\",\n  \"confidence\": \"string\",\n  \"metadata\": {},\n  \"status\": \"string\",\n  \"reviewed_at\": \"2019-08-24T14:15:22Z\",\n  \"reviewer_id\": \"string\",\n  \"reviewer_decision\": \"string\",\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/score-flags/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response ScoreFlagResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/score-submission-metadata/","title":"Score Submission Metadata","text":""},{"location":"api/http-api/score-submission-metadata/#list-submission-meta","title":"List Submission Meta","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/score-submission-metadata', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/score-submission-metadata',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/score-submission-metadata</code></p> <p>List score submission metadata for an account with optional filters and pagination.</p> <p>Returns paginated submission metadata for the specified account, with optional filtering by board or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns metadata from all accounts.</p> <p>Args:     auth: Authentication context with user info.     service: Injected submission metadata service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).     board_id: Optional board ID to filter by.     device_id: Optional device ID to filter by.</p> <p>Returns:     PaginatedResponse containing ScoreSubmissionMetaResponse objects matching the filter.</p> <p>Raises:     400: Invalid cursor or sort field.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/score-submission-metadata/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none board_id query any false none device_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/score-submission-metadata/#responses","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_ScoreSubmissionMetaResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/score-submission-metadata/#get-submission-meta","title":"Get Submission Meta","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/score-submission-metadata/{meta_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/score-submission-metadata/{meta_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/score-submission-metadata/{meta_id}</code></p> <p>Get score submission metadata by ID.</p> <p>Args:     meta_id: Submission metadata identifier to retrieve.     service: Injected submission metadata service dependency.     auth: Authentication context with user info.</p> <p>Returns:     ScoreSubmissionMetaResponse with the submission metadata details.</p> <p>Raises:     403: User does not have access to this metadata's account.     404: Submission metadata not found or soft-deleted.</p>"},{"location":"api/http-api/score-submission-metadata/#parameters_1","title":"Parameters","text":"Name In Type Required Description meta_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"score_id\": \"string\",\n  \"device_id\": \"string\",\n  \"board_id\": \"string\",\n  \"submission_count\": 0,\n  \"last_submission_at\": \"2019-08-24T14:15:22Z\",\n  \"last_score_value\": 0,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/score-submission-metadata/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response ScoreSubmissionMetaResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/","title":"Scores","text":""},{"location":"api/http-api/scores/#create-score-admin","title":"Create Score Admin","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/scores', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {},\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"device_id\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/scores',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/scores</code></p> <p>Create a new score (Admin API).</p> <p>Creates a new score submission for a board. Performs three-level validation: board exists, board belongs to the specified account, and game matches the board's game.</p> <p>For regular admins: account_id is derived from auth, must provide game_id and device_id. For superadmins: can provide account_id to create scores for any account.</p> <p>Args:     score_request: Score creation details including board_id, player_name, value,                   and optionally account_id (superadmin only), game_id, device_id.     request: FastAPI request object for accessing geo data.     service: Injected score service dependency.     background_tasks: FastAPI background tasks for async metadata updates.     auth: Admin authentication context.</p> <p>Returns:     ScoreResponse with the created score including auto-generated ID and timestamps.</p> <p>Raises:     403: Non-superadmin tries to specify account_id, or access denied.     400: Missing required fields (game_id or device_id).     404: Account, game, board, or device not found.     400: Validation failed (board doesn't belong to account, or game doesn't         match board's game).</p> <p>Body parameter</p> <pre><code>{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {},\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"device_id\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/scores/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body ScoreCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"device_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response ScoreResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#list-scores-admin","title":"List Scores Admin","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/scores', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/scores',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/scores</code></p> <p>List scores for an account with optional filters and pagination.</p> <p>Returns paginated scores for the specified account, with optional filtering by board, game, or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular admin users, account_id is automatically derived from their API key. For superadmins, account_id must be explicitly provided as a query parameter.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=value:desc,created_at:asc - Valid sort fields: id, value, player_name, filter_timezone, filter_country,   filter_city, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Around Score: - Use around_score_id to get scores centered around a specific score - Requires board_id to be specified - Mutually exclusive with cursor pagination - Returns a window of scores with the target in the middle - Respects limit (e.g., limit=5 returns 2 above + target + 2 below)</p> <p>Example:     GET /v1/scores?board_id=brd_123&amp;limit=50&amp;sort=value:desc,created_at:asc     GET /v1/scores?board_id=brd_123&amp;around_score_id=scr_456&amp;limit=11</p> <p>Args:     auth: Authentication context with user info.     service: Injected score service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (required for superadmins).     board_id: Optional board ID to filter by.     game_id: Optional game ID to filter by.     device_id: Optional device ID to filter by.     around_score_id: Optional score ID to center results around.</p> <p>Returns:     PaginatedResponse with scores and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, cursor state mismatch, or around_score_id validation.     400: Superadmin did not provide account_id.     403: User does not have access to the specified account.     404: around_score_id score not found.</p>"},{"location":"api/http-api/scores/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none board_id query any false none game_id query any false none device_id query any false none around_score_id query any false Center results around this score ID cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_ScoreResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#get-score","title":"Get Score","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/scores/{score_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/scores/{score_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/scores/{score_id}</code></p> <p>Get a score by ID.</p> <p>Args:     score_id: Score identifier to retrieve.     service: Injected score service dependency.     auth: Authentication context with user info.</p> <p>Returns:     ScoreResponse with the score details.</p> <p>Raises:     403: User does not have access to this score's account.     404: Score not found or soft-deleted.</p>"},{"location":"api/http-api/scores/#parameters_2","title":"Parameters","text":"Name In Type Required Description score_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"device_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response ScoreResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#update-score","title":"Update Score","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/scores/{score_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/scores/{score_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/scores/{score_id}</code></p> <p>Update a score.</p> <p>Supports partial updates of score fields. Any field not provided will remain unchanged. Set deleted: true to soft delete the score.</p> <p>Args:     score_id: Score identifier to update.     request: Score update details with optional fields to modify.     service: Injected score service dependency.     auth: Authentication context with user info.</p> <p>Returns:     ScoreResponse with the updated score details.</p> <p>Raises:     403: User does not have access to this score's account.     404: Score not found or already soft-deleted.</p> <p>Body parameter</p> <pre><code>{\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/scores/#parameters_3","title":"Parameters","text":"Name In Type Required Description score_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body ScoreUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"device_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"timezone\": \"string\",\n  \"country\": \"string\",\n  \"city\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response ScoreResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#list-boards-client","title":"List Boards Client","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/client/boards', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/client/boards',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/client/boards</code></p> <p>List boards (Client API).</p> <p>Account ID is automatically derived from the authenticated device's account. Clients can optionally filter by various criteria to find specific boards.</p> <p>Filtering: - Use ?game_id={id} or ?game_slug={slug} to filter boards by game - Use ?game_slug={game_slug}&amp;slug={slug} to find a specific board within a game - Use ?code={code} to filter boards by short code - Use ?is_published=true/false to filter by published status - Use ?starts_before=&amp;starts_after= for start date range - Use ?ends_before=&amp;ends_after= for end date range - Note: board slug filter requires game_slug parameter <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=name:asc,created_at:desc - Valid sort fields: id, name, slug, short_code, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/client/boards?code=WEEKLY-CHALLENGE&amp;limit=50     GET /v1/client/boards?game_slug=my-game&amp;is_published=true     GET /v1/client/boards?game_slug=my-game&amp;slug=weekly-challenge     GET /v1/client/boards?starts_after=2025-01-01T00:00:00Z</p> <p>Args:     auth: Client authentication context with device info.     service: Injected board service dependency.     game_service: Injected game service dependency.     pagination: Pagination parameters (cursor, limit, sort).     game_id: Optional game ID to filter boards by.     code: Optional short code to filter boards by.     game_slug: Optional game slug to filter boards by game (resolves to game_id).     slug: Optional board slug to filter by specific board (requires game_slug).     is_published: Optional filter for published status.     starts_before: Optional filter for boards starting before this time.     starts_after: Optional filter for boards starting after this time.     ends_before: Optional filter for boards ending before this time.     ends_after: Optional filter for boards ending after this time.</p> <p>Returns:     PaginatedResponse with boards and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, cursor state mismatch, or slug without game_slug.     404: Game or board not found when using slug filters.</p>"},{"location":"api/http-api/scores/#parameters_4","title":"Parameters","text":"Name In Type Required Description game_id query any false Filter by game ID code query any false Filter by short code game_slug query any false Filter by game slug slug query any false Filter by board slug (requires game_slug) is_published query any false Filter by published status starts_before query any false Filter boards starting before this time (ISO 8601) starts_after query any false Filter boards starting after this time (ISO 8601) ends_before query any false Filter boards ending before this time (ISO 8601) ends_after query any false Filter boards ending after this time (ISO 8601) account_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_4","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_BoardResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#create-score-client","title":"Create Score Client","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/client/scores', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {}\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/client/scores',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/client/scores</code></p> <p>Create a new score (Client API).</p> <p>Creates a new score submission for a board. All IDs (account_id, game_id, device_id) are automatically derived from the authenticated device session.</p> <p>Args:     score_request: Score creation details including board_id, player_name, and value.     request: FastAPI request object for accessing geo data.     service: Injected score service dependency.     background_tasks: FastAPI background tasks for async metadata updates.     auth: Client authentication context with device info.</p> <p>Returns:     ScoreClientResponse with the created score (excludes device_id).</p> <p>Raises:     404: Board not found.     400: Validation failed (board doesn't belong to account, or game doesn't         match board's game).</p> <p>Body parameter</p> <pre><code>{\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {}\n}\n</code></pre>"},{"location":"api/http-api/scores/#parameters_5","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body ScoreClientCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"game_id\": \"string\",\n  \"board_id\": \"string\",\n  \"player_name\": \"string\",\n  \"value\": 0,\n  \"value_display\": \"string\",\n  \"metadata\": {},\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_5","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response ScoreClientResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/scores/#list-scores-client","title":"List Scores Client","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/client/scores', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/client/scores',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/client/scores</code></p> <p>List scores for an account with optional filters and pagination.</p> <p>Returns paginated scores for the specified account, with optional filtering by board and/or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=value:desc,created_at:asc - Valid sort fields: id, value, player_name, filter_timezone, filter_country,   filter_city, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Around Score: - Use around_score_id to get scores centered around a specific score - Requires board_id to be specified - Mutually exclusive with cursor pagination - Returns a window of scores with the target in the middle - Respects limit (e.g., limit=5 returns 2 above + target + 2 below)</p> <p>Example:     GET /client/scores?board_id=brd_123&amp;limit=50&amp;sort=value:desc,created_at:asc     GET /client/scores?board_id=brd_123&amp;around_score_id=scr_456&amp;limit=11</p> <p>Args:     auth: Authentication context with user info.     service: Injected score service dependency.     pagination: Pagination parameters (cursor, limit, sort).     board_id: Optional board ID to filter by.     device_id: Optional device ID to filter by (e.g., to get \"my scores\").     around_score_id: Optional score ID to center results around.</p> <p>Returns:     PaginatedResponse with scores and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, cursor state mismatch, or around_score_id validation.     403: User does not have access to the specified account.     404: around_score_id score not found.</p>"},{"location":"api/http-api/scores/#parameters_6","title":"Parameters","text":"Name In Type Required Description board_id query any false none device_id query any false none around_score_id query any false Center results around this score ID account_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/scores/#responses_6","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_ScoreClientResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/users/","title":"Users","text":""},{"location":"api/http-api/users/#create-user","title":"Create User","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.post('/v1/users', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"account_id\": \"string\",\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\"\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/users',\n{\n  method: 'POST',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>POST /v1/users</code></p> <p>Create a new user.</p> <p>Creates a new user associated with an existing account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Args:     request: User creation details including account_id, email, and display name.     service: Injected user service dependency.     auth: Authentication context with user info.</p> <p>Returns:     UserResponse with the created user including auto-generated ID and timestamps.</p> <p>Raises:     403: User does not have access to the specified account.     404: Account not found.</p> <p>Body parameter</p> <pre><code>{\n  \"account_id\": \"string\",\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\"\n}\n</code></pre>"},{"location":"api/http-api/users/#parameters","title":"Parameters","text":"Name In Type Required Description account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body UserCreateRequest true none <p>Example responses</p> <p>201 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"email\": \"string\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/users/#responses","title":"Responses","text":"Status Meaning Description Schema 201 Created Successful Response UserResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/users/#list-users","title":"List Users","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/users', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/users',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/users</code></p> <p>List users for an account with pagination.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns users from all accounts.</p> <p>Pagination: - Default: 20 items per page, sorted by created_at:desc,id:asc - Custom sort: Use ?sort=email:asc,created_at:desc - Valid sort fields: id, email, display_name, created_at, updated_at - Navigation: Use next_cursor/prev_cursor from response</p> <p>Example:     GET /v1/users?account_id=acc_123&amp;limit=50&amp;sort=email:asc</p> <p>Args:     auth: Authentication context with user info.     service: Injected user service dependency.     pagination: Pagination parameters (cursor, limit, sort).     account_id: Optional account_id query parameter (superadmins can omit to see all).</p> <p>Returns:     PaginatedResponse with users and pagination metadata.</p> <p>Raises:     400: Invalid cursor, sort field, or cursor state mismatch.     403: User does not have access to the specified account.</p>"},{"location":"api/http-api/users/#parameters_1","title":"Parameters","text":"Name In Type Required Description account_id query any false none cursor query any false Pagination cursor for navigating results limit query integer false Number of items per page (1-100) sort query any false Sort specification (e.g., 'value:desc,created_at:asc') leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"data\": [\n    {\n      \"id\": \"scr_123\",\n      \"value\": 1000\n    }\n  ],\n  \"pagination\": {\n    \"count\": 20,\n    \"has_next\": true,\n    \"has_prev\": false,\n    \"next_cursor\": \"eyJwdiI6WzEwMDAsMTIzXX0=\"\n  }\n}\n</code></pre>"},{"location":"api/http-api/users/#responses_1","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response PaginatedResponse_UserResponse_ 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/users/#get-user","title":"Get User","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.get('/v1/users/{user_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const headers = {\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/users/{user_id}',\n{\n  method: 'GET',\n\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>GET /v1/users/{user_id}</code></p> <p>Get a user by ID.</p> <p>Args:     user_id: Unique identifier for the user.     service: Injected user service dependency.     auth: Authentication context with user info.</p> <p>Returns:     UserResponse with full user details.</p> <p>Raises:     403: User does not have access to this user's account.     404: User not found.</p>"},{"location":"api/http-api/users/#parameters_2","title":"Parameters","text":"Name In Type Required Description user_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"email\": \"string\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/users/#responses_2","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response UserResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/http-api/users/#update-user","title":"Update User","text":"PythonJavaScript <pre><code>import requests\nheaders = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'leadr-api-key': 'string',\n  'authorization': 'string',\n  'leadr-client-nonce': 'string'\n}\n\nr = requests.patch('/v1/users/{user_id}', headers = headers)\n\nprint(r.json())\n</code></pre> <pre><code>const inputBody = '{\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"deleted\": true\n}';\nconst headers = {\n  'Content-Type':'application/json',\n  'Accept':'application/json',\n  'leadr-api-key':'string',\n  'authorization':'string',\n  'leadr-client-nonce':'string'\n};\n\nfetch('/v1/users/{user_id}',\n{\n  method: 'PATCH',\n  body: inputBody,\n  headers: headers\n})\n.then(function(res) {\n    return res.json();\n}).then(function(body) {\n    console.log(body);\n});\n</code></pre> <p><code>PATCH /v1/users/{user_id}</code></p> <p>Update a user.</p> <p>Supports updating email, display name, or soft-deleting the user.</p> <p>Args:     user_id: Unique identifier for the user.     request: User update details (all fields optional).     service: Injected user service dependency.     auth: Authentication context with user info.</p> <p>Returns:     UserResponse with the updated user details.</p> <p>Raises:     403: User does not have access to this user's account.     404: User not found.</p> <p>Body parameter</p> <pre><code>{\n  \"email\": \"user@example.com\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"deleted\": true\n}\n</code></pre>"},{"location":"api/http-api/users/#parameters_3","title":"Parameters","text":"Name In Type Required Description user_id path string true none account_id query any false none leadr-api-key header any false none authorization header any false none leadr-client-nonce header any false none body body UserUpdateRequest true none <p>Example responses</p> <p>200 Response</p> <pre><code>{\n  \"id\": \"string\",\n  \"account_id\": \"string\",\n  \"email\": \"string\",\n  \"display_name\": \"string\",\n  \"super_admin\": true,\n  \"created_at\": \"2019-08-24T14:15:22Z\",\n  \"updated_at\": \"2019-08-24T14:15:22Z\"\n}\n</code></pre>"},{"location":"api/http-api/users/#responses_3","title":"Responses","text":"Status Meaning Description Schema 200 OK Successful Response UserResponse 422 Unprocessable Entity Validation Error HTTPValidationError <p>Success</p> <p>This operation does not require authentication</p>"},{"location":"api/reference/","title":"Python API Reference","text":"<p>Auto-generated reference documentation for all Python modules in the LEADR codebase.</p>"},{"location":"api/reference/#modules","title":"Modules","text":"<ul> <li>accounts - <code>leadr.accounts</code></li> <li>auth - <code>leadr.auth</code></li> <li>boards - <code>leadr.boards</code></li> <li>common - <code>leadr.common</code></li> <li>config - <code>leadr.config</code></li> <li>games - <code>leadr.games</code></li> <li>infra - <code>leadr.infra</code></li> <li>logging - <code>leadr.logging</code></li> <li>players - <code>leadr.players</code></li> <li>registration - <code>leadr.registration</code></li> <li>scores - <code>leadr.scores</code></li> </ul>"},{"location":"api/reference/accounts/","title":"Accounts","text":""},{"location":"api/reference/accounts/#leadraccounts","title":"<code>leadr.accounts</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadapters","title":"<code>leadr.accounts.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Account and User ORM models.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadaptersorm","title":"<code>leadr.accounts.adapters.orm</code>","text":"<p>Account and User ORM models.</p> <p>Classes:</p> <ul> <li>AccountORM \u2013 Account ORM model.</li> <li>AccountStatusEnum \u2013 Account status enum for database.</li> <li>UserORM \u2013 User ORM model.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountorm","title":"<code>leadr.accounts.adapters.orm.AccountORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Account ORM model.</p> <p>Represents an organization or team in the database. Maps to the accounts table with unique name and slug constraints.</p> <p>Attributes:</p> <ul> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>name (<code>Mapped[str]</code>) \u2013</li> <li>slug (<code>Mapped[str]</code>) \u2013</li> <li>status (<code>Mapped[AccountStatusEnum]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>users (<code>Mapped[list[UserORM]]</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormcreated_at","title":"# <code>leadr.accounts.adapters.orm.AccountORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormdeleted_at","title":"# <code>leadr.accounts.adapters.orm.AccountORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormid","title":"# <code>leadr.accounts.adapters.orm.AccountORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormname","title":"# <code>leadr.accounts.adapters.orm.AccountORM.name</code>","text":"<pre><code>name: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormslug","title":"# <code>leadr.accounts.adapters.orm.AccountORM.slug</code>","text":"<pre><code>slug: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormstatus","title":"# <code>leadr.accounts.adapters.orm.AccountORM.status</code>","text":"<pre><code>status: Mapped[AccountStatusEnum] = mapped_column(Enum(AccountStatusEnum, name='account_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(AccountStatusEnum.ACTIVE), server_default='active')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormupdated_at","title":"# <code>leadr.accounts.adapters.orm.AccountORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountormusers","title":"# <code>leadr.accounts.adapters.orm.AccountORM.users</code>","text":"<pre><code>users: Mapped[list[UserORM]] = relationship(back_populates='account', cascade='all, delete-orphan')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountstatusenum","title":"<code>leadr.accounts.adapters.orm.AccountStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Account status enum for database.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>SUSPENDED \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountstatusenumactive","title":"# <code>leadr.accounts.adapters.orm.AccountStatusEnum.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormaccountstatusenumsuspended","title":"# <code>leadr.accounts.adapters.orm.AccountStatusEnum.SUSPENDED</code>","text":"<pre><code>SUSPENDED = 'suspended'\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserorm","title":"<code>leadr.accounts.adapters.orm.UserORM</code>","text":"<p>Bases: <code>Base</code></p> <p>User ORM model.</p> <p>Represents a user within an account in the database. Maps to the users table with foreign key to accounts.</p> <p>Attributes:</p> <ul> <li>account (<code>Mapped[AccountORM]</code>) \u2013</li> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>display_name (<code>Mapped[str]</code>) \u2013</li> <li>email (<code>Mapped[str]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>super_admin (<code>Mapped[bool]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormaccount","title":"# <code>leadr.accounts.adapters.orm.UserORM.account</code>","text":"<pre><code>account: Mapped[AccountORM] = relationship(back_populates='users')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormaccount_id","title":"# <code>leadr.accounts.adapters.orm.UserORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormcreated_at","title":"# <code>leadr.accounts.adapters.orm.UserORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormdeleted_at","title":"# <code>leadr.accounts.adapters.orm.UserORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormdisplay_name","title":"# <code>leadr.accounts.adapters.orm.UserORM.display_name</code>","text":"<pre><code>display_name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormemail","title":"# <code>leadr.accounts.adapters.orm.UserORM.email</code>","text":"<pre><code>email: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormid","title":"# <code>leadr.accounts.adapters.orm.UserORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormsuper_admin","title":"# <code>leadr.accounts.adapters.orm.UserORM.super_admin</code>","text":"<pre><code>super_admin: Mapped[bool] = mapped_column(nullable=False, default=False, server_default='false')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsadaptersormuserormupdated_at","title":"# <code>leadr.accounts.adapters.orm.UserORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapi","title":"<code>leadr.accounts.api</code>","text":"<p>Modules:</p> <ul> <li>account_routes \u2013 Account API routes.</li> <li>account_schemas \u2013 API request and response models for accounts.</li> <li>user_routes \u2013 User API routes.</li> <li>user_schemas \u2013 API request and response models for users.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routes","title":"<code>leadr.accounts.api.account_routes</code>","text":"<p>Account API routes.</p> <p>Functions:</p> <ul> <li>create_account \u2013 Create a new account.</li> <li>get_account \u2013 Get an account by ID.</li> <li>list_accounts \u2013 List accounts with pagination and optional filtering.</li> <li>update_account \u2013 Update an account.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routescreate_account","title":"<code>leadr.accounts.api.account_routes.create_account</code>","text":"<pre><code>create_account(request, service, auth)\n</code></pre> <p>Create a new account.</p> <p>Only superadmins can create accounts.</p> <p>Parameters:</p> <ul> <li>request (<code>AccountCreateRequest</code>) \u2013 Account creation details including name and slug.</li> <li>service (<code>AccountServiceDep</code>) \u2013 Injected account service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>AccountResponse</code> \u2013 AccountResponse with the created account including auto-generated ID and timestamps.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have permission to create accounts.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routesget_account","title":"<code>leadr.accounts.api.account_routes.get_account</code>","text":"<pre><code>get_account(account_id, service, auth)\n</code></pre> <p>Get an account by ID.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 Unique identifier for the account.</li> <li>service (<code>AccountServiceDep</code>) \u2013 Injected account service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>AccountResponse</code> \u2013 AccountResponse with full account details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this account.</li> <li><code>404</code> \u2013 Account not found.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routeslist_accounts","title":"<code>leadr.accounts.api.account_routes.list_accounts</code>","text":"<pre><code>list_accounts(service, auth, pagination, slug=None)\n</code></pre> <p>List accounts with pagination and optional filtering.</p> <p>Superadmins see all accounts (paginated). Regular users see only their own account.</p> <p>Filtering:</p> <ul> <li>Use ?slug={slug} to find a specific account by its slug</li> </ul> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, slug, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/accounts?slug=acme-corp GET /v1/accounts?limit=50&amp;sort=name:asc   <p>Parameters:</p> <ul> <li>service (<code>AccountServiceDep</code>) \u2013 Injected account service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>slug (<code>Annotated[str | None, Query(description='Filter by account slug')]</code>) \u2013 Optional slug filter to find a specific account.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[AccountResponse]</code> \u2013 PaginatedResponse with accounts and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>404</code> \u2013 Account not found when filtering by slug.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routesrouter","title":"<code>leadr.accounts.api.account_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_routesupdate_account","title":"<code>leadr.accounts.api.account_routes.update_account</code>","text":"<pre><code>update_account(account_id, request, service, auth)\n</code></pre> <p>Update an account.</p> <p>Supports updating name, slug, status, or soft-deleting the account. Status changes (active/suspended) are handled through dedicated service methods.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 Unique identifier for the account.</li> <li>request (<code>AccountUpdateRequest</code>) \u2013 Account update details (all fields optional).</li> <li>service (<code>AccountServiceDep</code>) \u2013 Injected account service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>AccountResponse</code> \u2013 AccountResponse with the updated account details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this account.</li> <li><code>404</code> \u2013 Account not found.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemas","title":"<code>leadr.accounts.api.account_schemas</code>","text":"<p>API request and response models for accounts.</p> <p>Classes:</p> <ul> <li>AccountCreateRequest \u2013 Request model for creating an account.</li> <li>AccountResponse \u2013 Response model for an account.</li> <li>AccountUpdateRequest \u2013 Request model for updating an account.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountcreaterequest","title":"<code>leadr.accounts.api.account_schemas.AccountCreateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for creating an account.</p> <p>Attributes:</p> <ul> <li>name (<code>str</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountcreaterequestname","title":"# <code>leadr.accounts.api.account_schemas.AccountCreateRequest.name</code>","text":"<pre><code>name: str = Field(description='Account name (2-100 characters)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountcreaterequestslug","title":"# <code>leadr.accounts.api.account_schemas.AccountCreateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='Optional URL-friendly slug (globally unique). If not provided, will be auto-generated from name')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponse","title":"<code>leadr.accounts.api.account_schemas.AccountResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for an account.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>id (<code>AccountID</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>status (<code>AccountStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponsecreated_at","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the account was created (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponsefrom_domain","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.from_domain</code>","text":"<pre><code>from_domain(account)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>account (<code>Account</code>) \u2013 The domain Account entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>AccountResponse</code> \u2013 AccountResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponseid","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.id</code>","text":"<pre><code>id: AccountID = Field(description='Unique identifier for the account')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponsename","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.name</code>","text":"<pre><code>name: str = Field(description='Account name')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponseslug","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.slug</code>","text":"<pre><code>slug: str = Field(description='URL-friendly identifier')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponsestatus","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.status</code>","text":"<pre><code>status: AccountStatus = Field(description='Current account status')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountresponseupdated_at","title":"# <code>leadr.accounts.api.account_schemas.AccountResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountupdaterequest","title":"<code>leadr.accounts.api.account_schemas.AccountUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating an account.</p> <p>Attributes:</p> <ul> <li>deleted (<code>bool | None</code>) \u2013</li> <li>name (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>status (<code>AccountStatus | None</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountupdaterequestdeleted","title":"# <code>leadr.accounts.api.account_schemas.AccountUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the account')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountupdaterequestname","title":"# <code>leadr.accounts.api.account_schemas.AccountUpdateRequest.name</code>","text":"<pre><code>name: str | None = Field(default=None, description='Updated account name')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountupdaterequestslug","title":"# <code>leadr.accounts.api.account_schemas.AccountUpdateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='Updated URL-friendly identifier')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiaccount_schemasaccountupdaterequeststatus","title":"# <code>leadr.accounts.api.account_schemas.AccountUpdateRequest.status</code>","text":"<pre><code>status: AccountStatus | None = Field(default=None, description='Account status (active, suspended, deleted)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routes","title":"<code>leadr.accounts.api.user_routes</code>","text":"<p>User API routes.</p> <p>Functions:</p> <ul> <li>create_user \u2013 Create a new user.</li> <li>get_user \u2013 Get a user by ID.</li> <li>list_users \u2013 List users for an account with pagination.</li> <li>update_user \u2013 Update a user.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routescreate_user","title":"<code>leadr.accounts.api.user_routes.create_user</code>","text":"<pre><code>create_user(request, service, auth)\n</code></pre> <p>Create a new user.</p> <p>Creates a new user associated with an existing account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Parameters:</p> <ul> <li>request (<code>UserCreateRequest</code>) \u2013 User creation details including account_id, email, and display name.</li> <li>service (<code>UserServiceDep</code>) \u2013 Injected user service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>UserResponse</code> \u2013 UserResponse with the created user including auto-generated ID and timestamps.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Account not found.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routesget_user","title":"<code>leadr.accounts.api.user_routes.get_user</code>","text":"<pre><code>get_user(user_id, service, auth)\n</code></pre> <p>Get a user by ID.</p> <p>Parameters:</p> <ul> <li>user_id (<code>UserID</code>) \u2013 Unique identifier for the user.</li> <li>service (<code>UserServiceDep</code>) \u2013 Injected user service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>UserResponse</code> \u2013 UserResponse with full user details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this user's account.</li> <li><code>404</code> \u2013 User not found.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routeslist_users","title":"<code>leadr.accounts.api.user_routes.list_users</code>","text":"<pre><code>list_users(auth, service, pagination, account_id=None)\n</code></pre> <p>List users for an account with pagination.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns users from all accounts.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=email:asc,created_at:desc</li> <li>Valid sort fields: id, email, display_name, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/users?account_id=acc_123&amp;limit=50&amp;sort=email:asc   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>UserServiceDep</code>) \u2013 Injected user service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[UserResponse]</code> \u2013 PaginatedResponse with users and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routesrouter","title":"<code>leadr.accounts.api.user_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_routesupdate_user","title":"<code>leadr.accounts.api.user_routes.update_user</code>","text":"<pre><code>update_user(user_id, request, service, auth)\n</code></pre> <p>Update a user.</p> <p>Supports updating email, display name, or soft-deleting the user.</p> <p>Parameters:</p> <ul> <li>user_id (<code>UserID</code>) \u2013 Unique identifier for the user.</li> <li>request (<code>UserUpdateRequest</code>) \u2013 User update details (all fields optional).</li> <li>service (<code>UserServiceDep</code>) \u2013 Injected user service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>UserResponse</code> \u2013 UserResponse with the updated user details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this user's account.</li> <li><code>404</code> \u2013 User not found.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemas","title":"<code>leadr.accounts.api.user_schemas</code>","text":"<p>API request and response models for users.</p> <p>Classes:</p> <ul> <li>UserCreateRequest \u2013 Request model for creating a user.</li> <li>UserResponse \u2013 Response model for a user.</li> <li>UserUpdateRequest \u2013 Request model for updating a user.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasusercreaterequest","title":"<code>leadr.accounts.api.user_schemas.UserCreateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for creating a user.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>display_name (<code>str</code>) \u2013</li> <li>email (<code>EmailStr</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasusercreaterequestaccount_id","title":"# <code>leadr.accounts.api.user_schemas.UserCreateRequest.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this user belongs to')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasusercreaterequestdisplay_name","title":"# <code>leadr.accounts.api.user_schemas.UserCreateRequest.display_name</code>","text":"<pre><code>display_name: str = Field(description=\"User's display name (2-100 characters)\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasusercreaterequestemail","title":"# <code>leadr.accounts.api.user_schemas.UserCreateRequest.email</code>","text":"<pre><code>email: EmailStr = Field(description=\"User's email address (must be valid email format)\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponse","title":"<code>leadr.accounts.api.user_schemas.UserResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a user.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>display_name (<code>str</code>) \u2013</li> <li>email (<code>str</code>) \u2013</li> <li>id (<code>UserID</code>) \u2013</li> <li>super_admin (<code>bool</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponseaccount_id","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this user belongs to')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponsecreated_at","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the user was created (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponsedisplay_name","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.display_name</code>","text":"<pre><code>display_name: str = Field(description=\"User's display name\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponseemail","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.email</code>","text":"<pre><code>email: str = Field(description=\"User's email address\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponsefrom_domain","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.from_domain</code>","text":"<pre><code>from_domain(user)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>user (<code>User</code>) \u2013 The domain User entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>UserResponse</code> \u2013 UserResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponseid","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.id</code>","text":"<pre><code>id: UserID = Field(description='Unique identifier for the user')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponsesuper_admin","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.super_admin</code>","text":"<pre><code>super_admin: bool = Field(description='Whether this user has superadmin privileges')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserresponseupdated_at","title":"# <code>leadr.accounts.api.user_schemas.UserResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserupdaterequest","title":"<code>leadr.accounts.api.user_schemas.UserUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a user.</p> <p>Attributes:</p> <ul> <li>deleted (<code>bool | None</code>) \u2013</li> <li>display_name (<code>str | None</code>) \u2013</li> <li>email (<code>EmailStr | None</code>) \u2013</li> <li>super_admin (<code>bool | None</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserupdaterequestdeleted","title":"# <code>leadr.accounts.api.user_schemas.UserUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the user')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserupdaterequestdisplay_name","title":"# <code>leadr.accounts.api.user_schemas.UserUpdateRequest.display_name</code>","text":"<pre><code>display_name: str | None = Field(default=None, description='Updated display name')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserupdaterequestemail","title":"# <code>leadr.accounts.api.user_schemas.UserUpdateRequest.email</code>","text":"<pre><code>email: EmailStr | None = Field(default=None, description='Updated email address')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsapiuser_schemasuserupdaterequestsuper_admin","title":"# <code>leadr.accounts.api.user_schemas.UserUpdateRequest.super_admin</code>","text":"<pre><code>super_admin: bool | None = Field(default=None, description='Set superadmin privileges (true/false)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomain","title":"<code>leadr.accounts.domain</code>","text":"<p>Modules:</p> <ul> <li>account \u2013 Account domain model.</li> <li>user \u2013 User domain model.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainaccount","title":"<code>leadr.accounts.domain.account</code>","text":"<p>Account domain model.</p> <p>Classes:</p> <ul> <li>Account \u2013 Account domain entity.</li> <li>AccountStatus \u2013 Account status enumeration.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccount","title":"<code>leadr.accounts.domain.account.Account</code>","text":"<p>Bases: <code>Entity</code></p> <p>Account domain entity.</p> <p>Represents an organization or team that owns games and manages users. Accounts have a unique name and URL-friendly slug, and can be active or suspended.</p> <p>Functions:</p> <ul> <li>activate \u2013 Activate the account, allowing access.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>suspend \u2013 Suspend the account, preventing access.</li> <li>validate_name \u2013 Validate account name length and format.</li> <li>validate_slug \u2013 Validate slug format (lowercase alphanumeric with hyphens).</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>AccountID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>status (<code>AccountStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountactivate","title":"# <code>leadr.accounts.domain.account.Account.activate</code>","text":"<pre><code>activate()\n</code></pre> <p>Activate the account, allowing access.</p>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountcreated_at","title":"# <code>leadr.accounts.domain.account.Account.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountdeleted_at","title":"# <code>leadr.accounts.domain.account.Account.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountid","title":"# <code>leadr.accounts.domain.account.Account.id</code>","text":"<pre><code>id: AccountID = Field(frozen=True, default_factory=AccountID, description='Unique account identifier')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountis_deleted","title":"# <code>leadr.accounts.domain.account.Account.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountmodel_config","title":"# <code>leadr.accounts.domain.account.Account.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountname","title":"# <code>leadr.accounts.domain.account.Account.name</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountrestore","title":"# <code>leadr.accounts.domain.account.Account.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountslug","title":"# <code>leadr.accounts.domain.account.Account.slug</code>","text":"<pre><code>slug: str\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountsoft_delete","title":"# <code>leadr.accounts.domain.account.Account.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountstatus","title":"# <code>leadr.accounts.domain.account.Account.status</code>","text":"<pre><code>status: AccountStatus = AccountStatus.ACTIVE\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountsuspend","title":"# <code>leadr.accounts.domain.account.Account.suspend</code>","text":"<pre><code>suspend()\n</code></pre> <p>Suspend the account, preventing access.</p>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountupdated_at","title":"# <code>leadr.accounts.domain.account.Account.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountvalidate_name","title":"# <code>leadr.accounts.domain.account.Account.validate_name</code>","text":"<pre><code>validate_name(value)\n</code></pre> <p>Validate account name length and format.</p>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountvalidate_slug","title":"# <code>leadr.accounts.domain.account.Account.validate_slug</code>","text":"<pre><code>validate_slug(value)\n</code></pre> <p>Validate slug format (lowercase alphanumeric with hyphens).</p>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountstatus_1","title":"<code>leadr.accounts.domain.account.AccountStatus</code>","text":"<p>Bases: <code>Enum</code></p> <p>Account status enumeration.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>SUSPENDED \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountstatusactive","title":"# <code>leadr.accounts.domain.account.AccountStatus.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainaccountaccountstatussuspended","title":"# <code>leadr.accounts.domain.account.AccountStatus.SUSPENDED</code>","text":"<pre><code>SUSPENDED = 'suspended'\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuser","title":"<code>leadr.accounts.domain.user</code>","text":"<p>User domain model.</p> <p>Classes:</p> <ul> <li>User \u2013 User domain entity.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruser","title":"<code>leadr.accounts.domain.user.User</code>","text":"<p>Bases: <code>Entity</code></p> <p>User domain entity.</p> <p>Represents a user within an account (organization/team). Users are scoped to a specific account and have an email address and display name.</p> <p>Each user belongs to exactly one account, and users cannot be transferred between accounts. The email must be unique within an account.</p> <p>Superadmin users have elevated privileges and can access resources across all accounts in the system.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_display_name \u2013 Validate display name length and format.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>display_name (<code>str</code>) \u2013</li> <li>email (<code>EmailStr</code>) \u2013</li> <li>id (<code>UserID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>super_admin (<code>bool</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruseraccount_id","title":"# <code>leadr.accounts.domain.user.User.account_id</code>","text":"<pre><code>account_id: AccountID = Field(frozen=True, description='ID of the account this user belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuserusercreated_at","title":"# <code>leadr.accounts.domain.user.User.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruserdeleted_at","title":"# <code>leadr.accounts.domain.user.User.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruserdisplay_name","title":"# <code>leadr.accounts.domain.user.User.display_name</code>","text":"<pre><code>display_name: str = Field(description=\"User's display name (2-100 characters)\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruseremail","title":"# <code>leadr.accounts.domain.user.User.email</code>","text":"<pre><code>email: EmailStr = Field(description=\"User's email address (validated format)\")\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruserid","title":"# <code>leadr.accounts.domain.user.User.id</code>","text":"<pre><code>id: UserID = Field(frozen=True, default_factory=UserID, description='Unique user identifier')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruseris_deleted","title":"# <code>leadr.accounts.domain.user.User.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/accounts/#leadraccountsdomainuserusermodel_config","title":"# <code>leadr.accounts.domain.user.User.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruserrestore","title":"# <code>leadr.accounts.domain.user.User.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/accounts/#leadraccountsdomainuserusersoft_delete","title":"# <code>leadr.accounts.domain.user.User.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/accounts/#leadraccountsdomainuserusersuper_admin","title":"# <code>leadr.accounts.domain.user.User.super_admin</code>","text":"<pre><code>super_admin: bool = Field(default=False, description='Whether this user has superadmin privileges')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruserupdated_at","title":"# <code>leadr.accounts.domain.user.User.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/accounts/#leadraccountsdomainuseruservalidate_display_name","title":"# <code>leadr.accounts.domain.user.User.validate_display_name</code>","text":"<pre><code>validate_display_name(value)\n</code></pre> <p>Validate display name length and format.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The display name to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed display name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If display name is empty, too short, or too long.</li> </ul>"},{"location":"api/reference/auth/","title":"Auth","text":""},{"location":"api/reference/auth/#leadrauth","title":"<code>leadr.auth</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>bootstrap \u2013 Superadmin bootstrap functionality.</li> <li>dependencies \u2013 Authentication dependencies for FastAPI.</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadapters","title":"<code>leadr.auth.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Auth ORM models.</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersorm","title":"<code>leadr.auth.adapters.orm</code>","text":"<p>Auth ORM models.</p> <p>Classes:</p> <ul> <li>APIKeyORM \u2013 API Key ORM model.</li> <li>APIKeyStatusEnum \u2013 API Key status enum for database.</li> <li>DeviceORM \u2013 Device ORM model.</li> <li>DeviceSessionORM \u2013 DeviceSession ORM model.</li> <li>DeviceStatusEnum \u2013 Device status enum for database.</li> <li>NonceORM \u2013 Nonce ORM model.</li> <li>NonceStatusEnum \u2013 Nonce status enum for database.</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyorm","title":"<code>leadr.auth.adapters.orm.APIKeyORM</code>","text":"<p>Bases: <code>Base</code></p> <p>API Key ORM model.</p> <p>Represents an API key for account authentication in the database. Maps to the api_keys table with foreign key to accounts and users. Each API key is owned by a specific user within the account.</p> <p>Attributes:</p> <ul> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>expires_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>key_hash (<code>Mapped[str]</code>) \u2013</li> <li>key_prefix (<code>Mapped[str]</code>) \u2013</li> <li>last_used_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>name (<code>Mapped[str]</code>) \u2013</li> <li>status (<code>Mapped[APIKeyStatusEnum]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>user_id (<code>Mapped[UUID]</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormaccount_id","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormcreated_at","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormdeleted_at","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormexpires_at","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.expires_at</code>","text":"<pre><code>expires_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormid","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormkey_hash","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.key_hash</code>","text":"<pre><code>key_hash: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormkey_prefix","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.key_prefix</code>","text":"<pre><code>key_prefix: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormlast_used_at","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.last_used_at</code>","text":"<pre><code>last_used_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormname","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.name</code>","text":"<pre><code>name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormstatus","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.status</code>","text":"<pre><code>status: Mapped[APIKeyStatusEnum] = mapped_column(Enum(APIKeyStatusEnum, name='api_key_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(APIKeyStatusEnum.ACTIVE), server_default='active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormupdated_at","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeyormuser_id","title":"# <code>leadr.auth.adapters.orm.APIKeyORM.user_id</code>","text":"<pre><code>user_id: Mapped[UUID] = mapped_column(ForeignKey('users.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeystatusenum","title":"<code>leadr.auth.adapters.orm.APIKeyStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>API Key status enum for database.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>REVOKED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeystatusenumactive","title":"# <code>leadr.auth.adapters.orm.APIKeyStatusEnum.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormapikeystatusenumrevoked","title":"# <code>leadr.auth.adapters.orm.APIKeyStatusEnum.REVOKED</code>","text":"<pre><code>REVOKED = 'revoked'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceorm","title":"<code>leadr.auth.adapters.orm.DeviceORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Device ORM model.</p> <p>Represents a game client device (e.g., mobile device, PC, console) in the database. Maps to the devices table with foreign key to games. Devices are scoped per-game for client authentication.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert Device domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to Device domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>client_fingerprint (<code>Mapped[str]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>device_metadata (<code>Mapped[dict[str, Any]]</code>) \u2013</li> <li>first_seen_at (<code>Mapped[datetime]</code>) \u2013</li> <li>game (<code>Mapped[GameORM]</code>) \u2013</li> <li>game_id (<code>Mapped[UUID]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>last_seen_at (<code>Mapped[datetime]</code>) \u2013</li> <li>nonces (<code>Mapped[list[NonceORM]]</code>) \u2013</li> <li>platform (<code>Mapped[str | None]</code>) \u2013</li> <li>sessions (<code>Mapped[list[DeviceSessionORM]]</code>) \u2013</li> <li>status (<code>Mapped[DeviceStatusEnum]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormaccount_id","title":"# <code>leadr.auth.adapters.orm.DeviceORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormclient_fingerprint","title":"# <code>leadr.auth.adapters.orm.DeviceORM.client_fingerprint</code>","text":"<pre><code>client_fingerprint: Mapped[str] = mapped_column(String(64), nullable=False)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormcreated_at","title":"# <code>leadr.auth.adapters.orm.DeviceORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormdeleted_at","title":"# <code>leadr.auth.adapters.orm.DeviceORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormdevice_metadata","title":"# <code>leadr.auth.adapters.orm.DeviceORM.device_metadata</code>","text":"<pre><code>device_metadata: Mapped[dict[str, Any]] = mapped_column('metadata', JSON, nullable=False, default=dict, server_default='{}')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormfirst_seen_at","title":"# <code>leadr.auth.adapters.orm.DeviceORM.first_seen_at</code>","text":"<pre><code>first_seen_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormfrom_domain","title":"# <code>leadr.auth.adapters.orm.DeviceORM.from_domain</code>","text":"<pre><code>from_domain(device)\n</code></pre> <p>Convert Device domain entity to ORM model.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormgame","title":"# <code>leadr.auth.adapters.orm.DeviceORM.game</code>","text":"<pre><code>game: Mapped[GameORM] = relationship('GameORM')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormgame_id","title":"# <code>leadr.auth.adapters.orm.DeviceORM.game_id</code>","text":"<pre><code>game_id: Mapped[UUID] = mapped_column(ForeignKey('games.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormid","title":"# <code>leadr.auth.adapters.orm.DeviceORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormlast_seen_at","title":"# <code>leadr.auth.adapters.orm.DeviceORM.last_seen_at</code>","text":"<pre><code>last_seen_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormnonces","title":"# <code>leadr.auth.adapters.orm.DeviceORM.nonces</code>","text":"<pre><code>nonces: Mapped[list[NonceORM]] = relationship('NonceORM', cascade='all, delete-orphan')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormplatform","title":"# <code>leadr.auth.adapters.orm.DeviceORM.platform</code>","text":"<pre><code>platform: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormsessions","title":"# <code>leadr.auth.adapters.orm.DeviceORM.sessions</code>","text":"<pre><code>sessions: Mapped[list[DeviceSessionORM]] = relationship('DeviceSessionORM', back_populates='device', cascade='all, delete-orphan')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormstatus","title":"# <code>leadr.auth.adapters.orm.DeviceORM.status</code>","text":"<pre><code>status: Mapped[DeviceStatusEnum] = mapped_column(Enum(DeviceStatusEnum, name='device_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(DeviceStatusEnum.ACTIVE), server_default='active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormto_domain","title":"# <code>leadr.auth.adapters.orm.DeviceORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to Device domain entity.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormdeviceormupdated_at","title":"# <code>leadr.auth.adapters.orm.DeviceORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionorm","title":"<code>leadr.auth.adapters.orm.DeviceSessionORM</code>","text":"<p>Bases: <code>Base</code></p> <p>DeviceSession ORM model.</p> <p>Represents an active authentication session for a device in the database. Maps to the device_sessions table with foreign key to devices. Sessions include both access and refresh tokens with token rotation support.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert DeviceSession domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to DeviceSession domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>access_token_hash (<code>Mapped[str]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>device (<code>Mapped[DeviceORM]</code>) \u2013</li> <li>device_id (<code>Mapped[UUID]</code>) \u2013</li> <li>expires_at (<code>Mapped[datetime]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>ip_address (<code>Mapped[str | None]</code>) \u2013</li> <li>refresh_expires_at (<code>Mapped[datetime]</code>) \u2013</li> <li>refresh_token_hash (<code>Mapped[str]</code>) \u2013</li> <li>revoked_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>token_version (<code>Mapped[int]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>user_agent (<code>Mapped[str | None]</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormaccess_token_hash","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.access_token_hash</code>","text":"<pre><code>access_token_hash: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormcreated_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormdeleted_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormdevice","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.device</code>","text":"<pre><code>device: Mapped[DeviceORM] = relationship('DeviceORM', back_populates='sessions')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormdevice_id","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.device_id</code>","text":"<pre><code>device_id: Mapped[UUID] = mapped_column(ForeignKey('devices.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormexpires_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.expires_at</code>","text":"<pre><code>expires_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormfrom_domain","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.from_domain</code>","text":"<pre><code>from_domain(session)\n</code></pre> <p>Convert DeviceSession domain entity to ORM model.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormid","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormip_address","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.ip_address</code>","text":"<pre><code>ip_address: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormrefresh_expires_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.refresh_expires_at</code>","text":"<pre><code>refresh_expires_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormrefresh_token_hash","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.refresh_token_hash</code>","text":"<pre><code>refresh_token_hash: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormrevoked_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.revoked_at</code>","text":"<pre><code>revoked_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormto_domain","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to DeviceSession domain entity.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormtoken_version","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.token_version</code>","text":"<pre><code>token_version: Mapped[int] = mapped_column(Integer, nullable=False, default=1, server_default='1')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormupdated_at","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicesessionormuser_agent","title":"# <code>leadr.auth.adapters.orm.DeviceSessionORM.user_agent</code>","text":"<pre><code>user_agent: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicestatusenum","title":"<code>leadr.auth.adapters.orm.DeviceStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Device status enum for database.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>BANNED \u2013</li> <li>SUSPENDED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicestatusenumactive","title":"# <code>leadr.auth.adapters.orm.DeviceStatusEnum.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicestatusenumbanned","title":"# <code>leadr.auth.adapters.orm.DeviceStatusEnum.BANNED</code>","text":"<pre><code>BANNED = 'banned'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormdevicestatusenumsuspended","title":"# <code>leadr.auth.adapters.orm.DeviceStatusEnum.SUSPENDED</code>","text":"<pre><code>SUSPENDED = 'suspended'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceorm","title":"<code>leadr.auth.adapters.orm.NonceORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Nonce ORM model.</p> <p>Represents a single-use nonce for replay protection in the database. Maps to the nonces table with foreign key to devices. Nonces are short-lived tokens (typically 60 seconds) that must be obtained before making mutating requests.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert Nonce domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to Nonce domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>device (<code>Mapped[DeviceORM]</code>) \u2013</li> <li>device_id (<code>Mapped[UUID]</code>) \u2013</li> <li>expires_at (<code>Mapped[datetime]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>nonce_value (<code>Mapped[str]</code>) \u2013</li> <li>status (<code>Mapped[NonceStatusEnum]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>used_at (<code>Mapped[datetime | None]</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormcreated_at","title":"# <code>leadr.auth.adapters.orm.NonceORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormdeleted_at","title":"# <code>leadr.auth.adapters.orm.NonceORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormdevice","title":"# <code>leadr.auth.adapters.orm.NonceORM.device</code>","text":"<pre><code>device: Mapped[DeviceORM] = relationship('DeviceORM', overlaps='nonces')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormdevice_id","title":"# <code>leadr.auth.adapters.orm.NonceORM.device_id</code>","text":"<pre><code>device_id: Mapped[UUID] = mapped_column(ForeignKey('devices.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormexpires_at","title":"# <code>leadr.auth.adapters.orm.NonceORM.expires_at</code>","text":"<pre><code>expires_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormfrom_domain","title":"# <code>leadr.auth.adapters.orm.NonceORM.from_domain</code>","text":"<pre><code>from_domain(nonce)\n</code></pre> <p>Convert Nonce domain entity to ORM model.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormid","title":"# <code>leadr.auth.adapters.orm.NonceORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormnonce_value","title":"# <code>leadr.auth.adapters.orm.NonceORM.nonce_value</code>","text":"<pre><code>nonce_value: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormstatus","title":"# <code>leadr.auth.adapters.orm.NonceORM.status</code>","text":"<pre><code>status: Mapped[NonceStatusEnum] = mapped_column(Enum(NonceStatusEnum, name='nonce_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(NonceStatusEnum.PENDING), server_default='pending')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormto_domain","title":"# <code>leadr.auth.adapters.orm.NonceORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to Nonce domain entity.</p>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormupdated_at","title":"# <code>leadr.auth.adapters.orm.NonceORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnonceormused_at","title":"# <code>leadr.auth.adapters.orm.NonceORM.used_at</code>","text":"<pre><code>used_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnoncestatusenum","title":"<code>leadr.auth.adapters.orm.NonceStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Nonce status enum for database.</p> <p>Attributes:</p> <ul> <li>EXPIRED \u2013</li> <li>PENDING \u2013</li> <li>USED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthadaptersormnoncestatusenumexpired","title":"# <code>leadr.auth.adapters.orm.NonceStatusEnum.EXPIRED</code>","text":"<pre><code>EXPIRED = 'expired'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnoncestatusenumpending","title":"# <code>leadr.auth.adapters.orm.NonceStatusEnum.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthadaptersormnoncestatusenumused","title":"# <code>leadr.auth.adapters.orm.NonceStatusEnum.USED</code>","text":"<pre><code>USED = 'used'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapi","title":"<code>leadr.auth.api</code>","text":"<p>Modules:</p> <ul> <li>api_key_routes \u2013 API routes for authentication and API key management.</li> <li>api_key_schemas \u2013 API schemas for Authentication endpoints.</li> <li>client_routes \u2013 API routes for client device authentication.</li> <li>client_schemas \u2013 API request and response models for client authentication.</li> <li>device_routes \u2013 API routes for device management.</li> <li>device_schemas \u2013 API request and response models for devices.</li> <li>device_session_routes \u2013 API routes for device session management.</li> <li>device_session_schemas \u2013 API schemas for device sessions.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routes","title":"<code>leadr.auth.api.api_key_routes</code>","text":"<p>API routes for authentication and API key management.</p> <p>Functions:</p> <ul> <li>create_api_key \u2013 Create a new API key for an account.</li> <li>get_api_key \u2013 Get a single API key by ID.</li> <li>list_api_keys \u2013 List API keys for an account with optional filters and pagination.</li> <li>update_api_key \u2013 Update an API key.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routescreate_api_key","title":"<code>leadr.auth.api.api_key_routes.create_api_key</code>","text":"<pre><code>create_api_key(request, service, auth)\n</code></pre> <p>Create a new API key for an account.</p> <p>The plain API key is returned only once in this response. Store it securely as it cannot be retrieved later.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Returns:</p> <ul> <li><code>CreateAPIKeyResponse</code> \u2013 CreateAPIKeyResponse with the plain key included.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Account not found.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routesget_api_key","title":"<code>leadr.auth.api.api_key_routes.get_api_key</code>","text":"<pre><code>get_api_key(key_id, service, auth)\n</code></pre> <p>Get a single API key by ID.</p> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The UUID of the API key to retrieve.</li> <li>service (<code>APIKeyServiceDep</code>) \u2013 Injected API key service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKeyResponse</code> \u2013 APIKeyResponse with key details (excludes the plain key).</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this API key's account.</li> <li><code>404</code> \u2013 API key not found.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routeslist_api_keys","title":"<code>leadr.auth.api.api_key_routes.list_api_keys</code>","text":"<pre><code>list_api_keys(auth, service, pagination, account_id=None, key_status=None)\n</code></pre> <p>List API keys for an account with optional filters and pagination.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns API keys from all accounts.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/api-keys?account_id=acc_123&amp;status=active&amp;limit=50&amp;sort=name:asc   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>APIKeyServiceDep</code>) \u2013 Injected API key service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>key_status (<code>Annotated[APIKeyStatus | None, Query(alias=status, description='Filter by status')]</code>) \u2013 Optional status to filter results (active or revoked).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[APIKeyResponse]</code> \u2013 PaginatedResponse with API keys and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routesrouter","title":"<code>leadr.auth.api.api_key_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_routesupdate_api_key","title":"<code>leadr.auth.api.api_key_routes.update_api_key</code>","text":"<pre><code>update_api_key(key_id, request, service, auth)\n</code></pre> <p>Update an API key.</p> <p>Currently supports:</p> <ul> <li>Updating status (e.g., to revoke a key)</li> <li>Soft delete via deleted flag</li> </ul> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The UUID of the API key to update.</li> <li>request (<code>UpdateAPIKeyRequest</code>) \u2013 Update request with optional status and deleted fields.</li> <li>service (<code>APIKeyServiceDep</code>) \u2013 Injected API key service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKeyResponse</code> \u2013 APIKeyResponse with updated key details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this API key's account.</li> <li><code>404</code> \u2013 API key not found.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemas","title":"<code>leadr.auth.api.api_key_schemas</code>","text":"<p>API schemas for Authentication endpoints.</p> <p>Classes:</p> <ul> <li>APIKeyResponse \u2013 Response schema for API key details.</li> <li>CreateAPIKeyRequest \u2013 Request schema for creating an API key.</li> <li>CreateAPIKeyResponse \u2013 Response schema for creating an API key.</li> <li>UpdateAPIKeyRequest \u2013 Request schema for updating an API key.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponse","title":"<code>leadr.auth.api.api_key_schemas.APIKeyResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response schema for API key details.</p> <p>Excludes sensitive information like key_hash. The full key is never returned after creation.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>APIKeyID</code>) \u2013</li> <li>last_used_at (<code>datetime | None</code>) \u2013</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>prefix (<code>str</code>) \u2013</li> <li>status (<code>APIKeyStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>user_id (<code>UserID</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseaccount_id","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this key belongs to')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponsecreated_at","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the key was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseexpires_at","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='Expiration timestamp (UTC), or null if never expires')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponsefrom_domain","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.from_domain</code>","text":"<pre><code>from_domain(api_key)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>api_key (<code>APIKey</code>) \u2013 The domain APIKey entity</li> </ul> <p>Returns:</p> <ul> <li><code>APIKeyResponse</code> \u2013 APIKeyResponse with all fields populated</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseid","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.id</code>","text":"<pre><code>id: APIKeyID = Field(description='Unique identifier for the API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponselast_used_at","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.last_used_at</code>","text":"<pre><code>last_used_at: datetime | None = Field(default=None, description='Timestamp of last successful authentication (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponsemodel_config","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.model_config</code>","text":"<pre><code>model_config = ConfigDict(extra='forbid')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponsename","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.name</code>","text":"<pre><code>name: str = Field(description='Human-readable name for the API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseprefix","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.prefix</code>","text":"<pre><code>prefix: str = Field(description='Key prefix for identification (first 8 characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponsestatus","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.status</code>","text":"<pre><code>status: APIKeyStatus = Field(description='Current status (active, revoked, expired)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseupdated_at","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasapikeyresponseuser_id","title":"# <code>leadr.auth.api.api_key_schemas.APIKeyResponse.user_id</code>","text":"<pre><code>user_id: UserID = Field(description='ID of the user who owns this API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyrequest","title":"<code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request schema for creating an API key.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>user_id (<code>UserID</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyrequestaccount_id","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this API key belongs to')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyrequestexpires_at","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='Optional expiration timestamp (UTC). Key never expires if omitted')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyrequestname","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.name</code>","text":"<pre><code>name: str = Field(description=\"Human-readable name for the API key (e.g., 'Production Server')\")\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyrequestuser_id","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.user_id</code>","text":"<pre><code>user_id: UserID = Field(description='ID of the user who owns this API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponse","title":"<code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response schema for creating an API key.</p> <p>Includes the plain API key which is only shown once. The client must save this key as it cannot be retrieved later.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model with plain key.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>APIKeyID</code>) \u2013</li> <li>key (<code>str</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>prefix (<code>str</code>) \u2013</li> <li>status (<code>APIKeyStatus</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponsecreated_at","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the key was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponseexpires_at","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='Expiration timestamp (UTC), or null if never expires')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponsefrom_domain","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.from_domain</code>","text":"<pre><code>from_domain(api_key, plain_key)\n</code></pre> <p>Convert domain entity to response model with plain key.</p> <p>Parameters:</p> <ul> <li>api_key (<code>APIKey</code>) \u2013 The domain APIKey entity</li> <li>plain_key (<code>str</code>) \u2013 The plain text API key (only available at creation)</li> </ul> <p>Returns:</p> <ul> <li><code>CreateAPIKeyResponse</code> \u2013 CreateAPIKeyResponse with all fields populated</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponseid","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.id</code>","text":"<pre><code>id: APIKeyID = Field(description='Unique identifier for the API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponsekey","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.key</code>","text":"<pre><code>key: str = Field(description='Plain text API key. ONLY returned at creation - save this securely!')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponsename","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.name</code>","text":"<pre><code>name: str = Field(description='Human-readable name for the API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponseprefix","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.prefix</code>","text":"<pre><code>prefix: str = Field(description='Key prefix for identification (first 8 characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemascreateapikeyresponsestatus","title":"# <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.status</code>","text":"<pre><code>status: APIKeyStatus = Field(description='Current status of the API key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasupdateapikeyrequest","title":"<code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request schema for updating an API key.</p> <p>Can update status (e.g., to revoke) or set deleted flag for soft delete.</p> <p>Attributes:</p> <ul> <li>deleted (<code>bool | None</code>) \u2013</li> <li>status (<code>APIKeyStatus | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasupdateapikeyrequestdeleted","title":"# <code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the key')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiapi_key_schemasupdateapikeyrequeststatus","title":"# <code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.status</code>","text":"<pre><code>status: APIKeyStatus | None = Field(default=None, description=\"Updated status (use 'revoked' to disable key)\")\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_routes","title":"<code>leadr.auth.api.client_routes</code>","text":"<p>API routes for client device authentication.</p> <p>Functions:</p> <ul> <li>generate_nonce \u2013 Generate a fresh nonce for replay protection.</li> <li>refresh_session \u2013 Refresh an expired access token using a valid refresh token.</li> <li>start_session \u2013 Start a new device session for a game client.</li> </ul> <p>Attributes:</p> <ul> <li>protected_router \u2013</li> <li>public_router \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_routesgenerate_nonce","title":"<code>leadr.auth.api.client_routes.generate_nonce</code>","text":"<pre><code>generate_nonce(auth, service)\n</code></pre> <p>Generate a fresh nonce for replay protection.</p> <p>Nonces are single-use tokens with short TTL (60 seconds) that clients must obtain before making mutating requests (POST, PATCH, DELETE). This prevents replay attacks by ensuring each request is fresh and authorized.</p> <p>Requires device authentication via access token.</p> <p>Parameters:</p> <ul> <li>auth (<code>ClientAuthContextDep</code>) \u2013 Authenticated client auth context (device guaranteed non-None)</li> <li>service (<code>NonceServiceDep</code>) \u2013 NonceService dependency</li> </ul> <p>Returns:</p> <ul> <li><code>NonceResponse</code> \u2013 NonceResponse with nonce_value and expires_at</li> </ul> <p>Raises:</p> <ul> <li><code>401</code> \u2013 Invalid or missing device token</li> </ul> Example  1. Client calls GET /client/nonce with Authorization header 1. Server returns nonce_value and expires_at 1. Client includes nonce in leadr-client-nonce header for mutations 1. Server validates and consumes nonce (single-use)"},{"location":"api/reference/auth/#leadrauthapiclient_routesprotected_router","title":"<code>leadr.auth.api.client_routes.protected_router</code>","text":"<pre><code>protected_router = APIRouter()\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_routespublic_router","title":"<code>leadr.auth.api.client_routes.public_router</code>","text":"<pre><code>public_router = APIRouter(prefix='/client')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_routesrefresh_session","title":"<code>leadr.auth.api.client_routes.refresh_session</code>","text":"<pre><code>refresh_session(request, service)\n</code></pre> <p>Refresh an expired access token using a valid refresh token.</p> <p>This endpoint implements token rotation for security:</p> <ul> <li>Returns new access and refresh tokens</li> <li>Increments the token version</li> <li>Invalidates the old refresh token (prevents replay attacks)</li> </ul> <p>No authentication is required (the refresh token itself is the credential).</p> <p>Parameters:</p> <ul> <li>request (<code>RefreshTokenRequest</code>) \u2013 Refresh token request</li> <li>service (<code>DeviceServiceDep</code>) \u2013 DeviceService dependency</li> </ul> <p>Returns:</p> <ul> <li><code>RefreshTokenResponse</code> \u2013 RefreshTokenResponse with new tokens</li> </ul> <p>Raises:</p> <ul> <li><code>401</code> \u2013 Invalid or expired refresh token</li> <li><code>422</code> \u2013 Invalid request (missing refresh_token)</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_routesstart_session","title":"<code>leadr.auth.api.client_routes.start_session</code>","text":"<pre><code>start_session(request, service)\n</code></pre> <p>Start a new device session for a game client.</p> <p>This endpoint authenticates game clients and provides JWT access tokens. It is idempotent - calling multiple times for the same device updates last_seen_at and generates a new access token.</p> <p>No authentication is required to call this endpoint (it IS the authentication).</p> <p>Parameters:</p> <ul> <li>request (<code>StartSessionRequest</code>) \u2013 Session start request with game_id and device_id</li> <li>service (<code>DeviceServiceDep</code>) \u2013 DeviceService dependency</li> </ul> <p>Returns:</p> <ul> <li><code>StartSessionResponse</code> \u2013 StartSessionResponse with device info and access token</li> </ul> <p>Raises:</p> <ul> <li><code>404</code> \u2013 Game not found</li> <li><code>422</code> \u2013 Invalid request (missing required fields, invalid UUID format)</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemas","title":"<code>leadr.auth.api.client_schemas</code>","text":"<p>API request and response models for client authentication.</p> <p>Classes:</p> <ul> <li>NonceResponse \u2013 Response schema for nonce generation.</li> <li>RefreshTokenRequest \u2013 Request schema for refreshing an access token.</li> <li>RefreshTokenResponse \u2013 Response schema for token refresh.</li> <li>StartSessionRequest \u2013 Request schema for starting a device session.</li> <li>StartSessionResponse \u2013 Response schema for starting a device session.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasnonceresponse","title":"<code>leadr.auth.api.client_schemas.NonceResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response schema for nonce generation.</p> <p>Nonces are single-use tokens with short TTL (60 seconds) that clients must obtain before making mutating requests. This prevents replay attacks.</p> <p>Attributes:</p> <ul> <li>expires_at (<code>datetime</code>) \u2013</li> <li>nonce_value (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasnonceresponseexpires_at","title":"# <code>leadr.auth.api.client_schemas.NonceResponse.expires_at</code>","text":"<pre><code>expires_at: datetime = Field(description='Nonce expiration timestamp (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasnonceresponsenonce_value","title":"# <code>leadr.auth.api.client_schemas.NonceResponse.nonce_value</code>","text":"<pre><code>nonce_value: str = Field(description='Unique nonce value (UUID)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenrequest","title":"<code>leadr.auth.api.client_schemas.RefreshTokenRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request schema for refreshing an access token.</p> <p>Used by clients when their access token has expired.</p> <p>Attributes:</p> <ul> <li>refresh_token (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenrequestrefresh_token","title":"# <code>leadr.auth.api.client_schemas.RefreshTokenRequest.refresh_token</code>","text":"<pre><code>refresh_token: str = Field(description='JWT refresh token obtained from start_session')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenresponse","title":"<code>leadr.auth.api.client_schemas.RefreshTokenResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response schema for token refresh.</p> <p>Returns new access and refresh tokens with incremented version. The old refresh token is invalidated and cannot be reused.</p> <p>Attributes:</p> <ul> <li>access_token (<code>str</code>) \u2013</li> <li>expires_in (<code>int</code>) \u2013</li> <li>refresh_token (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenresponseaccess_token","title":"# <code>leadr.auth.api.client_schemas.RefreshTokenResponse.access_token</code>","text":"<pre><code>access_token: str = Field(description='New JWT access token')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenresponseexpires_in","title":"# <code>leadr.auth.api.client_schemas.RefreshTokenResponse.expires_in</code>","text":"<pre><code>expires_in: int = Field(description='Access token expiration time in seconds')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasrefreshtokenresponserefresh_token","title":"# <code>leadr.auth.api.client_schemas.RefreshTokenResponse.refresh_token</code>","text":"<pre><code>refresh_token: str = Field(description='New JWT refresh token (old token is invalidated)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionrequest","title":"<code>leadr.auth.api.client_schemas.StartSessionRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request schema for starting a device session.</p> <p>Used by game clients to authenticate and obtain an access token.</p> <p>Attributes:</p> <ul> <li>client_fingerprint (<code>str</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>metadata (<code>dict[str, Any] | None</code>) \u2013</li> <li>platform (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionrequestclient_fingerprint","title":"# <code>leadr.auth.api.client_schemas.StartSessionRequest.client_fingerprint</code>","text":"<pre><code>client_fingerprint: str = Field(description='Client-generated SHA256 device fingerprint (64 hex characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionrequestgame_id","title":"# <code>leadr.auth.api.client_schemas.StartSessionRequest.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this device belongs to')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionrequestmetadata","title":"# <code>leadr.auth.api.client_schemas.StartSessionRequest.metadata</code>","text":"<pre><code>metadata: dict[str, Any] | None = Field(default=None, description='Optional device metadata (e.g., OS version, device model)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionrequestplatform","title":"# <code>leadr.auth.api.client_schemas.StartSessionRequest.platform</code>","text":"<pre><code>platform: str | None = Field(default=None, description=\"Device platform (e.g., 'ios', 'android', 'pc', 'console')\")\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponse","title":"<code>leadr.auth.api.client_schemas.StartSessionResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response schema for starting a device session.</p> <p>Includes both access and refresh tokens which must be saved by the client.</p> <ul> <li>Access token: Short-lived, used for API requests in Authorization header</li> <li>Refresh token: Long-lived, used to obtain new access tokens when expired</li> </ul> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model with tokens.</li> </ul> <p>Attributes:</p> <ul> <li>access_token (<code>str</code>) \u2013</li> <li>account_id (<code>AccountID</code>) \u2013</li> <li>client_fingerprint (<code>str</code>) \u2013</li> <li>expires_in (<code>int</code>) \u2013</li> <li>first_seen_at (<code>datetime</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>DeviceID</code>) \u2013</li> <li>last_seen_at (<code>datetime</code>) \u2013</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>platform (<code>str | None</code>) \u2013</li> <li>refresh_token (<code>str</code>) \u2013</li> <li>status (<code>DeviceStatus</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseaccess_token","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.access_token</code>","text":"<pre><code>access_token: str = Field(description='JWT access token for authenticating API requests')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseaccount_id","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account that owns the game')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseclient_fingerprint","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.client_fingerprint</code>","text":"<pre><code>client_fingerprint: str = Field(description='Client-generated SHA256 device fingerprint (64 hex characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseexpires_in","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.expires_in</code>","text":"<pre><code>expires_in: int = Field(description='Access token expiration time in seconds')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponsefirst_seen_at","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.first_seen_at</code>","text":"<pre><code>first_seen_at: datetime = Field(description='Timestamp when device was first seen (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponsefrom_domain","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.from_domain</code>","text":"<pre><code>from_domain(device, access_token, refresh_token, expires_in)\n</code></pre> <p>Convert domain entity to response model with tokens.</p> <p>Parameters:</p> <ul> <li>device (<code>Device</code>) \u2013 The domain Device entity</li> <li>access_token (<code>str</code>) \u2013 The plain JWT access token</li> <li>refresh_token (<code>str</code>) \u2013 The plain JWT refresh token</li> <li>expires_in (<code>int</code>) \u2013 Access token expiration time in seconds</li> </ul> <p>Returns:</p> <ul> <li><code>StartSessionResponse</code> \u2013 StartSessionResponse with all fields populated</li> </ul>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponsegame_id","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseid","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.id</code>","text":"<pre><code>id: DeviceID = Field(description='Unique identifier for the device')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponselast_seen_at","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.last_seen_at</code>","text":"<pre><code>last_seen_at: datetime = Field(description='Timestamp when device was last seen (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponsemetadata","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = Field(default_factory=dict, description='Device metadata')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponseplatform","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.platform</code>","text":"<pre><code>platform: str | None = Field(default=None, description='Device platform')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponserefresh_token","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.refresh_token</code>","text":"<pre><code>refresh_token: str = Field(description='JWT refresh token for obtaining new access tokens')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapiclient_schemasstartsessionresponsestatus","title":"# <code>leadr.auth.api.client_schemas.StartSessionResponse.status</code>","text":"<pre><code>status: DeviceStatus = Field(description='Device status (active, suspended, banned)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_routes","title":"<code>leadr.auth.api.device_routes</code>","text":"<p>API routes for device management.</p> <p>Functions:</p> <ul> <li>get_device \u2013 Get a device by ID.</li> <li>list_devices \u2013 List devices for an account with optional filters and pagination.</li> <li>update_device \u2013 Update a device (change status).</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_routesget_device","title":"<code>leadr.auth.api.device_routes.get_device</code>","text":"<pre><code>get_device(device_id, service, auth)\n</code></pre> <p>Get a device by ID.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 Device identifier to retrieve.</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceResponse</code> \u2013 DeviceResponse with the device details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this device's account.</li> <li><code>404</code> \u2013 Device not found or soft-deleted.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_routeslist_devices","title":"<code>leadr.auth.api.device_routes.list_devices</code>","text":"<pre><code>list_devices(auth, service, pagination, account_id=None, game_id=None, device_status=None)\n</code></pre> <p>List devices for an account with optional filters and pagination.</p> <p>Returns all non-deleted devices for the specified account, with optional filtering by game or status.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns devices from all accounts.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, platform, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/devices?account_id=acc_123&amp;game_id=game_456&amp;status=active&amp;limit=50   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>game_id (<code>Annotated[GameID | None, Query(description='Filter by game ID')]</code>) \u2013 Optional game ID to filter by.</li> <li>device_status (<code>Annotated[str | None, Query(alias=status, description='Filter by status')]</code>) \u2013 Optional status to filter by (active, banned, suspended).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[DeviceResponse]</code> \u2013 PaginatedResponse with devices and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_routesrouter","title":"<code>leadr.auth.api.device_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_routesupdate_device","title":"<code>leadr.auth.api.device_routes.update_device</code>","text":"<pre><code>update_device(device_id, request, service, auth)\n</code></pre> <p>Update a device (change status).</p> <p>Allows changing device status to ban, suspend, or activate devices.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 Device identifier to update.</li> <li>request (<code>DeviceUpdateRequest</code>) \u2013 Update details (status).</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceResponse</code> \u2013 DeviceResponse with the updated device details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this device's account.</li> <li><code>404</code> \u2013 Device not found.</li> <li><code>400</code> \u2013 Invalid status value.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_schemas","title":"<code>leadr.auth.api.device_schemas</code>","text":"<p>API request and response models for devices.</p> <p>Classes:</p> <ul> <li>DeviceResponse \u2013 Response model for a device.</li> <li>DeviceUpdateRequest \u2013 Request model for updating a device.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponse","title":"<code>leadr.auth.api.device_schemas.DeviceResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a device.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>client_fingerprint (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>first_seen_at (<code>datetime</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>DeviceID</code>) \u2013</li> <li>last_seen_at (<code>datetime</code>) \u2013</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>platform (<code>str | None</code>) \u2013</li> <li>status (<code>str</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponseaccount_id","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this device belongs to')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponseclient_fingerprint","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.client_fingerprint</code>","text":"<pre><code>client_fingerprint: str = Field(description='Client-generated SHA256 device fingerprint (64 hex characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsecreated_at","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when device record was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsefirst_seen_at","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.first_seen_at</code>","text":"<pre><code>first_seen_at: datetime = Field(description='Timestamp when device was first seen (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsefrom_domain","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.from_domain</code>","text":"<pre><code>from_domain(device)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>device (<code>Device</code>) \u2013 The domain Device entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceResponse</code> \u2013 DeviceResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsegame_id","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this device belongs to')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponseid","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.id</code>","text":"<pre><code>id: DeviceID = Field(description='Unique identifier for the device')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponselast_seen_at","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.last_seen_at</code>","text":"<pre><code>last_seen_at: datetime = Field(description='Timestamp when device was last seen (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsemetadata","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = Field(description='Additional device metadata')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponseplatform","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.platform</code>","text":"<pre><code>platform: str | None = Field(default=None, description='Platform (iOS, Android, etc.), or null')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponsestatus","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.status</code>","text":"<pre><code>status: str = Field(description='Device status: active, banned, or suspended')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceresponseupdated_at","title":"# <code>leadr.auth.api.device_schemas.DeviceResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceupdaterequest","title":"<code>leadr.auth.api.device_schemas.DeviceUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a device.</p> <p>Attributes:</p> <ul> <li>status (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_schemasdeviceupdaterequeststatus","title":"# <code>leadr.auth.api.device_schemas.DeviceUpdateRequest.status</code>","text":"<pre><code>status: str | None = Field(default=None, description='Updated status: active, banned, or suspended')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_routes","title":"<code>leadr.auth.api.device_session_routes</code>","text":"<p>API routes for device session management.</p> <p>Functions:</p> <ul> <li>get_session \u2013 Get a device session by ID.</li> <li>list_sessions \u2013 List device sessions for an account with optional filters and pagination.</li> <li>update_session \u2013 Update a device session (revoke).</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_routesget_session","title":"<code>leadr.auth.api.device_session_routes.get_session</code>","text":"<pre><code>get_session(session_id, service, auth)\n</code></pre> <p>Get a device session by ID.</p> <p>Parameters:</p> <ul> <li>session_id (<code>DeviceSessionID</code>) \u2013 Session identifier to retrieve.</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSessionResponse</code> \u2013 DeviceSessionResponse with the session details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this session's account.</li> <li><code>404</code> \u2013 Session not found or soft-deleted.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_routeslist_sessions","title":"<code>leadr.auth.api.device_session_routes.list_sessions</code>","text":"<pre><code>list_sessions(auth, service, pagination, account_id=None, device_id=None)\n</code></pre> <p>List device sessions for an account with optional filters and pagination.</p> <p>Returns all non-deleted device sessions for the specified account, with optional filtering by device.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns sessions from all accounts.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=created_at:asc,id:desc</li> <li>Valid sort fields: id, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/device-sessions?account_id=acc_123&amp;device_id=dev_456&amp;limit=50   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>device_id (<code>Annotated[DeviceID | None, Query(description='Filter by device ID')]</code>) \u2013 Optional device ID to filter by.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[DeviceSessionResponse]</code> \u2013 PaginatedResponse with device sessions and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_routesrouter","title":"<code>leadr.auth.api.device_session_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_routesupdate_session","title":"<code>leadr.auth.api.device_session_routes.update_session</code>","text":"<pre><code>update_session(session_id, request, service, auth)\n</code></pre> <p>Update a device session (revoke).</p> <p>Allows revoking a device session to invalidate authentication.</p> <p>Parameters:</p> <ul> <li>session_id (<code>DeviceSessionID</code>) \u2013 Session identifier to update.</li> <li>request (<code>DeviceSessionUpdateRequest</code>) \u2013 Update details (revoked status).</li> <li>service (<code>DeviceServiceDep</code>) \u2013 Injected device service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSessionResponse</code> \u2013 DeviceSessionResponse with the updated session details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this session's account.</li> <li><code>404</code> \u2013 Session not found.</li> <li><code>400</code> \u2013 Invalid request or no revoked field provided.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemas","title":"<code>leadr.auth.api.device_session_schemas</code>","text":"<p>API schemas for device sessions.</p> <p>Classes:</p> <ul> <li>DeviceSessionResponse \u2013 Response model for device session.</li> <li>DeviceSessionUpdateRequest \u2013 Request model for updating device session.</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponse","title":"<code>leadr.auth.api.device_session_schemas.DeviceSessionResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for device session.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to API response.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>expires_at (<code>datetime</code>) \u2013</li> <li>id (<code>DeviceSessionID</code>) \u2013</li> <li>ip_address (<code>str | None</code>) \u2013</li> <li>refresh_expires_at (<code>datetime</code>) \u2013</li> <li>revoked_at (<code>datetime | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>user_agent (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponsecreated_at","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.created_at</code>","text":"<pre><code>created_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponsedevice_id","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.device_id</code>","text":"<pre><code>device_id: DeviceID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponseexpires_at","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.expires_at</code>","text":"<pre><code>expires_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponsefrom_domain","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.from_domain</code>","text":"<pre><code>from_domain(session)\n</code></pre> <p>Convert domain entity to API response.</p>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponseid","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.id</code>","text":"<pre><code>id: DeviceSessionID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponseip_address","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.ip_address</code>","text":"<pre><code>ip_address: str | None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponserefresh_expires_at","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.refresh_expires_at</code>","text":"<pre><code>refresh_expires_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponserevoked_at","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.revoked_at</code>","text":"<pre><code>revoked_at: datetime | None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponseupdated_at","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.updated_at</code>","text":"<pre><code>updated_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionresponseuser_agent","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.user_agent</code>","text":"<pre><code>user_agent: str | None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionupdaterequest","title":"<code>leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating device session.</p> <p>Attributes:</p> <ul> <li>revoked (<code>bool | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthapidevice_session_schemasdevicesessionupdaterequestrevoked","title":"# <code>leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest.revoked</code>","text":"<pre><code>revoked: bool | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthbootstrap","title":"<code>leadr.auth.bootstrap</code>","text":"<p>Superadmin bootstrap functionality.</p> <p>This module provides functionality to automatically create a superadmin user and associated account on application startup if none exists.</p> <p>Functions:</p> <ul> <li>ensure_superadmin_exists \u2013 Ensure a superadmin user exists, creating one if necessary.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthbootstrapensure_superadmin_exists","title":"<code>leadr.auth.bootstrap.ensure_superadmin_exists</code>","text":"<pre><code>ensure_superadmin_exists(session)\n</code></pre> <p>Ensure a superadmin user exists, creating one if necessary.</p> <p>This function is idempotent and safe to call multiple times. It will:</p> <ol> <li>Check if any superadmin user already exists</li> <li>If not, create:</li> <li>A system account (configured via SUPERADMIN_ACCOUNT_NAME/SLUG)</li> <li>A superadmin user (configured via SUPERADMIN_EMAIL/DISPLAY_NAME)</li> <li>An API key for the superadmin (using SUPERADMIN_API_KEY)</li> </ol> <p>The function commits the transaction if it creates entities.</p> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 Database session to use for queries and inserts.</li> </ul> Example  &gt; &gt; &gt; async with get_session() as session: &gt; &gt; &gt; ... await ensure_superadmin_exists(session)"},{"location":"api/reference/auth/#leadrauthbootstraplogger","title":"<code>leadr.auth.bootstrap.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependencies","title":"<code>leadr.auth.dependencies</code>","text":"<p>Authentication dependencies for FastAPI.</p> <p>Classes:</p> <ul> <li>AdminAuthContext \u2013 Admin authentication context with guaranteed user and api_key fields.</li> <li>AuthContext \u2013 Unified authentication context for both admin and client auth.</li> <li>AuthContextDependency \u2013 Parameterizable authentication dependency using FastAPI class instance pattern.</li> <li>ClientAuthContext \u2013 Client authentication context with guaranteed device field.</li> </ul> <p>Attributes:</p> <ul> <li>AdminAuthContextDep \u2013</li> <li>AdminAuthContextWithAccountIDDep \u2013</li> <li>ClientAuthContextDep \u2013</li> <li>ClientAuthContextWithNonceDep \u2013</li> <li>logger \u2013</li> <li>require_admin_auth \u2013</li> <li>require_admin_auth_with_account_id \u2013</li> <li>require_client_auth \u2013</li> <li>require_client_auth_with_nonce \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontext","title":"<code>leadr.auth.dependencies.AdminAuthContext</code>","text":"<pre><code>AdminAuthContext(account_id, user, api_key, device=None)\n</code></pre> <p>Bases: <code>AuthContext</code></p> <p>Admin authentication context with guaranteed user and api_key fields.</p> <p>This subclass is returned by admin-only authentication dependencies, providing type-safe access to user and api_key without None checks.</p> <p>Note: This class does not use @dataclass to avoid conflicts between frozen dataclass fields and property overrides.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID for this request (may differ from API key's   account for superadmins).</li> <li>user (<code>User</code>) \u2013 The authenticated user (guaranteed non-None).</li> <li>api_key (<code>APIKey</code>) \u2013 The authenticated API key (guaranteed non-None).</li> <li>device (<code>None</code>) \u2013 Always None for admin auth.</li> </ul> <p>Functions:</p> <ul> <li>has_access_to_account \u2013 Check if the authenticated context has access to a specific account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextaccount_id","title":"<code>leadr.auth.dependencies.AdminAuthContext.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre> <p>Get account ID.</p>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextapi_key","title":"<code>leadr.auth.dependencies.AdminAuthContext.api_key</code>","text":"<pre><code>api_key: APIKey\n</code></pre> <p>Get API key (guaranteed non-None for admin auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextauth_type","title":"<code>leadr.auth.dependencies.AdminAuthContext.auth_type</code>","text":"<pre><code>auth_type: Literal['admin', 'client']\n</code></pre> <p>Return the authentication type.</p> <p>Returns:</p> <ul> <li><code>Literal['admin', 'client']</code> \u2013 \"admin\" if authenticated via API key, \"client\" if via device token.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextdevice","title":"<code>leadr.auth.dependencies.AdminAuthContext.device</code>","text":"<pre><code>device: None\n</code></pre> <p>Get device (always None for admin auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontexthas_access_to_account","title":"<code>leadr.auth.dependencies.AdminAuthContext.has_access_to_account</code>","text":"<pre><code>has_access_to_account(account_id)\n</code></pre> <p>Check if the authenticated context has access to a specific account.</p> For admin auth  - Superadmins have access to all accounts - Regular users only have access to their own account   For client auth  - Devices only have access to their game's account   <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to check access for.</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if context has access to the account, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextis_superadmin","title":"<code>leadr.auth.dependencies.AdminAuthContext.is_superadmin</code>","text":"<pre><code>is_superadmin: bool\n</code></pre> <p>Check if the authenticated user has superadmin privileges.</p> <p>Only applies to admin auth. Client auth never has superadmin privileges.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if user is a superadmin, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextuser","title":"<code>leadr.auth.dependencies.AdminAuthContext.user</code>","text":"<pre><code>user: User\n</code></pre> <p>Get user (guaranteed non-None for admin auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextdep","title":"<code>leadr.auth.dependencies.AdminAuthContextDep</code>","text":"<pre><code>AdminAuthContextDep = Annotated[AdminAuthContext, Depends(require_admin_auth)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesadminauthcontextwithaccountiddep","title":"<code>leadr.auth.dependencies.AdminAuthContextWithAccountIDDep</code>","text":"<pre><code>AdminAuthContextWithAccountIDDep = Annotated[AdminAuthContext, Depends(require_admin_auth_with_account_id)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontext","title":"<code>leadr.auth.dependencies.AuthContext</code>","text":"<pre><code>AuthContext(account_id, user=None, api_key=None, device=None)\n</code></pre> <p>Unified authentication context for both admin and client auth.</p> <p>This context provides a unified interface for both API key (admin) and device token (client) authentication. It includes helper methods for authorization checks that work transparently across both auth types.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID associated with this auth context.</li> <li>user (<code>User | None</code>) \u2013 The user entity (present for admin auth only).</li> <li>api_key (<code>APIKey | None</code>) \u2013 The API key entity (present for admin auth only).</li> <li>device (<code>Device | None</code>) \u2013 The device entity (present for client auth only).</li> </ul> <p>Functions:</p> <ul> <li>has_access_to_account \u2013 Check if the authenticated context has access to a specific account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextaccount_id","title":"<code>leadr.auth.dependencies.AuthContext.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextapi_key","title":"<code>leadr.auth.dependencies.AuthContext.api_key</code>","text":"<pre><code>api_key: APIKey | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextauth_type","title":"<code>leadr.auth.dependencies.AuthContext.auth_type</code>","text":"<pre><code>auth_type: Literal['admin', 'client']\n</code></pre> <p>Return the authentication type.</p> <p>Returns:</p> <ul> <li><code>Literal['admin', 'client']</code> \u2013 \"admin\" if authenticated via API key, \"client\" if via device token.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdevice","title":"<code>leadr.auth.dependencies.AuthContext.device</code>","text":"<pre><code>device: Device | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontexthas_access_to_account","title":"<code>leadr.auth.dependencies.AuthContext.has_access_to_account</code>","text":"<pre><code>has_access_to_account(account_id)\n</code></pre> <p>Check if the authenticated context has access to a specific account.</p> For admin auth  - Superadmins have access to all accounts - Regular users only have access to their own account   For client auth  - Devices only have access to their game's account   <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to check access for.</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if context has access to the account, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextis_superadmin","title":"<code>leadr.auth.dependencies.AuthContext.is_superadmin</code>","text":"<pre><code>is_superadmin: bool\n</code></pre> <p>Check if the authenticated user has superadmin privileges.</p> <p>Only applies to admin auth. Client auth never has superadmin privileges.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if user is a superadmin, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextuser","title":"<code>leadr.auth.dependencies.AuthContext.user</code>","text":"<pre><code>user: User | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdependency","title":"<code>leadr.auth.dependencies.AuthContextDependency</code>","text":"<pre><code>AuthContextDependency(require_admin=False, require_client=False, require_nonce=False, require_superadmin_account_id=False)\n</code></pre> <p>Parameterizable authentication dependency using FastAPI class instance pattern.</p> <p>This class implements the callable instance pattern to provide flexible authentication requirements. Create instances with different parameters to require different auth types.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; require_admin_auth = AuthContextDependency(require_admin=True)\n&gt;&gt;&gt; require_client_auth = AuthContextDependency(require_client=True)\n&gt;&gt;&gt; require_either_auth = AuthContextDependency(require_admin=True, require_client=True)\n&gt;&gt;&gt;\n&gt;&gt;&gt; @router.get(\"/admin-only\")\n&gt;&gt;&gt; async def admin_endpoint(\n&gt;&gt;&gt;     auth: Annotated[AuthContext, Depends(require_admin_auth)]\n&gt;&gt;&gt; ):\n&gt;&gt;&gt;     return {\"account\": auth.account_id}\n</code></pre> <p>Attributes:</p> <ul> <li>require_admin \u2013</li> <li>require_client \u2013</li> <li>require_nonce \u2013</li> <li>require_superadmin_account_id \u2013</li> </ul> <p>Parameters:</p> <ul> <li>require_admin (<code>bool</code>) \u2013 If True, admin API key authentication is required.</li> <li>require_client (<code>bool</code>) \u2013 If True, client device token authentication is required.</li> <li>require_nonce (<code>bool</code>) \u2013 If True, nonce validation is required for client auth (mutations).</li> <li>require_superadmin_account_id (<code>bool</code>) \u2013 If True, superadmins must provide account_id   query parameter on GET requests. Used for list endpoints.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If neither require_admin nor require_client is True.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdependencyrequire_admin","title":"<code>leadr.auth.dependencies.AuthContextDependency.require_admin</code>","text":"<pre><code>require_admin = require_admin\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdependencyrequire_client","title":"<code>leadr.auth.dependencies.AuthContextDependency.require_client</code>","text":"<pre><code>require_client = require_client\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdependencyrequire_nonce","title":"<code>leadr.auth.dependencies.AuthContextDependency.require_nonce</code>","text":"<pre><code>require_nonce = require_nonce\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesauthcontextdependencyrequire_superadmin_account_id","title":"<code>leadr.auth.dependencies.AuthContextDependency.require_superadmin_account_id</code>","text":"<pre><code>require_superadmin_account_id = require_superadmin_account_id\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontext","title":"<code>leadr.auth.dependencies.ClientAuthContext</code>","text":"<pre><code>ClientAuthContext(account_id, device, user=None, api_key=None)\n</code></pre> <p>Bases: <code>AuthContext</code></p> <p>Client authentication context with guaranteed device field.</p> <p>This subclass is returned by client-only authentication dependencies, providing type-safe access to device without None checks.</p> <p>Note: This class does not use @dataclass to avoid conflicts between frozen dataclass fields and property overrides.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID from the device's game.</li> <li>device (<code>Device</code>) \u2013 The authenticated device (guaranteed non-None).</li> <li>user (<code>None</code>) \u2013 Always None for client auth.</li> <li>api_key (<code>None</code>) \u2013 Always None for client auth.</li> </ul> <p>Functions:</p> <ul> <li>has_access_to_account \u2013 Check if the authenticated context has access to a specific account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextaccount_id","title":"<code>leadr.auth.dependencies.ClientAuthContext.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre> <p>Get account ID.</p>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextapi_key","title":"<code>leadr.auth.dependencies.ClientAuthContext.api_key</code>","text":"<pre><code>api_key: None\n</code></pre> <p>Get API key (always None for client auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextauth_type","title":"<code>leadr.auth.dependencies.ClientAuthContext.auth_type</code>","text":"<pre><code>auth_type: Literal['admin', 'client']\n</code></pre> <p>Return the authentication type.</p> <p>Returns:</p> <ul> <li><code>Literal['admin', 'client']</code> \u2013 \"admin\" if authenticated via API key, \"client\" if via device token.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextdevice","title":"<code>leadr.auth.dependencies.ClientAuthContext.device</code>","text":"<pre><code>device: Device\n</code></pre> <p>Get device (guaranteed non-None for client auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontexthas_access_to_account","title":"<code>leadr.auth.dependencies.ClientAuthContext.has_access_to_account</code>","text":"<pre><code>has_access_to_account(account_id)\n</code></pre> <p>Check if the authenticated context has access to a specific account.</p> For admin auth  - Superadmins have access to all accounts - Regular users only have access to their own account   For client auth  - Devices only have access to their game's account   <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to check access for.</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if context has access to the account, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextis_superadmin","title":"<code>leadr.auth.dependencies.ClientAuthContext.is_superadmin</code>","text":"<pre><code>is_superadmin: bool\n</code></pre> <p>Check if the authenticated user has superadmin privileges.</p> <p>Only applies to admin auth. Client auth never has superadmin privileges.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if user is a superadmin, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextuser","title":"<code>leadr.auth.dependencies.ClientAuthContext.user</code>","text":"<pre><code>user: None\n</code></pre> <p>Get user (always None for client auth).</p>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextdep","title":"<code>leadr.auth.dependencies.ClientAuthContextDep</code>","text":"<pre><code>ClientAuthContextDep = Annotated[ClientAuthContext, Depends(require_client_auth)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesclientauthcontextwithnoncedep","title":"<code>leadr.auth.dependencies.ClientAuthContextWithNonceDep</code>","text":"<pre><code>ClientAuthContextWithNonceDep = Annotated[ClientAuthContext, Depends(require_client_auth_with_nonce)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependencieslogger","title":"<code>leadr.auth.dependencies.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesrequire_admin_auth","title":"<code>leadr.auth.dependencies.require_admin_auth</code>","text":"<pre><code>require_admin_auth = AuthContextDependency(require_admin=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesrequire_admin_auth_with_account_id","title":"<code>leadr.auth.dependencies.require_admin_auth_with_account_id</code>","text":"<pre><code>require_admin_auth_with_account_id = AuthContextDependency(require_admin=True, require_superadmin_account_id=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesrequire_client_auth","title":"<code>leadr.auth.dependencies.require_client_auth</code>","text":"<pre><code>require_client_auth = AuthContextDependency(require_client=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdependenciesrequire_client_auth_with_nonce","title":"<code>leadr.auth.dependencies.require_client_auth_with_nonce</code>","text":"<pre><code>require_client_auth_with_nonce = AuthContextDependency(require_client=True, require_nonce=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomain","title":"<code>leadr.auth.domain</code>","text":"<p>Modules:</p> <ul> <li>api_key \u2013 API Key domain model.</li> <li>device \u2013 Device domain models for client authentication.</li> <li>nonce \u2013 Nonce domain entity for replay protection.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_key","title":"<code>leadr.auth.domain.api_key</code>","text":"<p>API Key domain model.</p> <p>Classes:</p> <ul> <li>APIKey \u2013 API Key domain entity.</li> <li>APIKeyStatus \u2013 API Key status enumeration.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikey","title":"<code>leadr.auth.domain.api_key.APIKey</code>","text":"<p>Bases: <code>Entity</code></p> <p>API Key domain entity.</p> <p>Represents an API key used to authenticate requests to the admin API. Each account can have multiple API keys for different purposes. Keys are stored hashed for security and shown only once at creation. Each API key is owned by a specific user within the account.</p> <p>Functions:</p> <ul> <li>is_expired \u2013 Check if the API key has expired.</li> <li>is_valid \u2013 Check if the API key is valid for use.</li> <li>record_usage \u2013 Record that the API key was used.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>revoke \u2013 Revoke the API key, preventing further use.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_key_prefix \u2013 Validate that key_prefix starts with 'ldr_'.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>APIKeyID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>key_hash (<code>str</code>) \u2013</li> <li>key_prefix (<code>str</code>) \u2013</li> <li>last_used_at (<code>datetime | None</code>) \u2013</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>status (<code>APIKeyStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>user_id (<code>UserID</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyaccount_id","title":"# <code>leadr.auth.domain.api_key.APIKey.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeycreated_at","title":"# <code>leadr.auth.domain.api_key.APIKey.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeydeleted_at","title":"# <code>leadr.auth.domain.api_key.APIKey.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyexpires_at","title":"# <code>leadr.auth.domain.api_key.APIKey.expires_at</code>","text":"<pre><code>expires_at: datetime | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyid","title":"# <code>leadr.auth.domain.api_key.APIKey.id</code>","text":"<pre><code>id: APIKeyID = Field(frozen=True, default_factory=APIKeyID, description='Unique API key identifier')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyis_deleted","title":"# <code>leadr.auth.domain.api_key.APIKey.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyis_expired","title":"# <code>leadr.auth.domain.api_key.APIKey.is_expired</code>","text":"<pre><code>is_expired()\n</code></pre> <p>Check if the API key has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the key has an expiration date and it's in the past.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyis_valid","title":"# <code>leadr.auth.domain.api_key.APIKey.is_valid</code>","text":"<pre><code>is_valid()\n</code></pre> <p>Check if the API key is valid for use.</p> <p>A key is valid if it's active and not expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the key can be used for authentication.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeykey_hash","title":"# <code>leadr.auth.domain.api_key.APIKey.key_hash</code>","text":"<pre><code>key_hash: str\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeykey_prefix","title":"# <code>leadr.auth.domain.api_key.APIKey.key_prefix</code>","text":"<pre><code>key_prefix: str\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeylast_used_at","title":"# <code>leadr.auth.domain.api_key.APIKey.last_used_at</code>","text":"<pre><code>last_used_at: datetime | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeymodel_config","title":"# <code>leadr.auth.domain.api_key.APIKey.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyname","title":"# <code>leadr.auth.domain.api_key.APIKey.name</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyrecord_usage","title":"# <code>leadr.auth.domain.api_key.APIKey.record_usage</code>","text":"<pre><code>record_usage(used_at)\n</code></pre> <p>Record that the API key was used.</p> <p>Parameters:</p> <ul> <li>used_at (<code>datetime</code>) \u2013 Timestamp when the key was used.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyrestore","title":"# <code>leadr.auth.domain.api_key.APIKey.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyrevoke","title":"# <code>leadr.auth.domain.api_key.APIKey.revoke</code>","text":"<pre><code>revoke()\n</code></pre> <p>Revoke the API key, preventing further use.</p>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeysoft_delete","title":"# <code>leadr.auth.domain.api_key.APIKey.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeystatus","title":"# <code>leadr.auth.domain.api_key.APIKey.status</code>","text":"<pre><code>status: APIKeyStatus = APIKeyStatus.ACTIVE\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyupdated_at","title":"# <code>leadr.auth.domain.api_key.APIKey.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyuser_id","title":"# <code>leadr.auth.domain.api_key.APIKey.user_id</code>","text":"<pre><code>user_id: UserID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeyvalidate_key_prefix","title":"# <code>leadr.auth.domain.api_key.APIKey.validate_key_prefix</code>","text":"<pre><code>validate_key_prefix(value)\n</code></pre> <p>Validate that key_prefix starts with 'ldr_'.</p>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeystatus_1","title":"<code>leadr.auth.domain.api_key.APIKeyStatus</code>","text":"<p>Bases: <code>Enum</code></p> <p>API Key status enumeration.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>REVOKED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeystatusactive","title":"# <code>leadr.auth.domain.api_key.APIKeyStatus.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainapi_keyapikeystatusrevoked","title":"# <code>leadr.auth.domain.api_key.APIKeyStatus.REVOKED</code>","text":"<pre><code>REVOKED = 'revoked'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevice","title":"<code>leadr.auth.domain.device</code>","text":"<p>Device domain models for client authentication.</p> <p>Classes:</p> <ul> <li>Device \u2013 Device domain entity.</li> <li>DeviceSession \u2013 Device session domain entity.</li> <li>DeviceStatus \u2013 Device status enumeration.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevice","title":"<code>leadr.auth.domain.device.Device</code>","text":"<p>Bases: <code>Entity</code></p> <p>Device domain entity.</p> <p>Represents a game client device (e.g., mobile device, PC, console). Devices are scoped per-game and used for client authentication. Each device is identified by a client-generated SHA256 fingerprint.</p> <p>Functions:</p> <ul> <li>activate \u2013 Activate the device, allowing authentication.</li> <li>ban \u2013 Ban the device, preventing further authentication.</li> <li>is_active \u2013 Check if the device is active.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>suspend \u2013 Suspend the device temporarily.</li> <li>update_last_seen \u2013 Update the last_seen_at timestamp to current time.</li> <li>validate_sha256 \u2013 Validate that client_fingerprint is a valid SHA256 hash.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>client_fingerprint (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>first_seen_at (<code>datetime</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>DeviceID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>last_seen_at (<code>datetime</code>) \u2013</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>model_config \u2013</li> <li>platform (<code>str | None</code>) \u2013</li> <li>status (<code>DeviceStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceaccount_id","title":"# <code>leadr.auth.domain.device.Device.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceactivate","title":"# <code>leadr.auth.domain.device.Device.activate</code>","text":"<pre><code>activate()\n</code></pre> <p>Activate the device, allowing authentication.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceban","title":"# <code>leadr.auth.domain.device.Device.ban</code>","text":"<pre><code>ban()\n</code></pre> <p>Ban the device, preventing further authentication.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceclient_fingerprint","title":"# <code>leadr.auth.domain.device.Device.client_fingerprint</code>","text":"<pre><code>client_fingerprint: str = Field(description='Client-generated SHA256 device fingerprint (64 hex characters)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicecreated_at","title":"# <code>leadr.auth.domain.device.Device.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicedeleted_at","title":"# <code>leadr.auth.domain.device.Device.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicefirst_seen_at","title":"# <code>leadr.auth.domain.device.Device.first_seen_at</code>","text":"<pre><code>first_seen_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicegame_id","title":"# <code>leadr.auth.domain.device.Device.game_id</code>","text":"<pre><code>game_id: GameID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceid","title":"# <code>leadr.auth.domain.device.Device.id</code>","text":"<pre><code>id: DeviceID = Field(frozen=True, default_factory=DeviceID, description='Unique device identifier')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceis_active","title":"# <code>leadr.auth.domain.device.Device.is_active</code>","text":"<pre><code>is_active()\n</code></pre> <p>Check if the device is active.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the device status is ACTIVE.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceis_deleted","title":"# <code>leadr.auth.domain.device.Device.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicelast_seen_at","title":"# <code>leadr.auth.domain.device.Device.last_seen_at</code>","text":"<pre><code>last_seen_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicemetadata","title":"# <code>leadr.auth.domain.device.Device.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = {}\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicemodel_config","title":"# <code>leadr.auth.domain.device.Device.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceplatform","title":"# <code>leadr.auth.domain.device.Device.platform</code>","text":"<pre><code>platform: str | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicerestore","title":"# <code>leadr.auth.domain.device.Device.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesoft_delete","title":"# <code>leadr.auth.domain.device.Device.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicestatus","title":"# <code>leadr.auth.domain.device.Device.status</code>","text":"<pre><code>status: DeviceStatus = DeviceStatus.ACTIVE\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesuspend","title":"# <code>leadr.auth.domain.device.Device.suspend</code>","text":"<pre><code>suspend()\n</code></pre> <p>Suspend the device temporarily.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceupdate_last_seen","title":"# <code>leadr.auth.domain.device.Device.update_last_seen</code>","text":"<pre><code>update_last_seen()\n</code></pre> <p>Update the last_seen_at timestamp to current time.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedeviceupdated_at","title":"# <code>leadr.auth.domain.device.Device.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicevalidate_sha256","title":"# <code>leadr.auth.domain.device.Device.validate_sha256</code>","text":"<pre><code>validate_sha256(v)\n</code></pre> <p>Validate that client_fingerprint is a valid SHA256 hash.</p> <p>Parameters:</p> <ul> <li>v (<code>str</code>) \u2013 The client_fingerprint value to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The normalized (lowercase) client_fingerprint.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the fingerprint is not a valid 64-character hex string.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesession","title":"<code>leadr.auth.domain.device.DeviceSession</code>","text":"<p>Bases: <code>Entity</code></p> <p>Device session domain entity.</p> <p>Represents an active authentication session for a device. Sessions have an expiration time and can be revoked manually. Includes both access and refresh tokens with token rotation support.</p> <p>Functions:</p> <ul> <li>is_expired \u2013 Check if the access token has expired.</li> <li>is_refresh_expired \u2013 Check if the refresh token has expired.</li> <li>is_revoked \u2013 Check if the session has been manually revoked.</li> <li>is_valid \u2013 Check if the session is valid for use.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>revoke \u2013 Revoke the session, preventing further use.</li> <li>rotate_tokens \u2013 Increment token version for token rotation.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>access_token_hash (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>expires_at (<code>datetime</code>) \u2013</li> <li>id (<code>DeviceSessionID</code>) \u2013</li> <li>ip_address (<code>str | None</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>refresh_expires_at (<code>datetime</code>) \u2013</li> <li>refresh_token_hash (<code>str</code>) \u2013</li> <li>revoked_at (<code>datetime | None</code>) \u2013</li> <li>token_version (<code>int</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>user_agent (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionaccess_token_hash","title":"# <code>leadr.auth.domain.device.DeviceSession.access_token_hash</code>","text":"<pre><code>access_token_hash: str\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessioncreated_at","title":"# <code>leadr.auth.domain.device.DeviceSession.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessiondeleted_at","title":"# <code>leadr.auth.domain.device.DeviceSession.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessiondevice_id","title":"# <code>leadr.auth.domain.device.DeviceSession.device_id</code>","text":"<pre><code>device_id: DeviceID\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionexpires_at","title":"# <code>leadr.auth.domain.device.DeviceSession.expires_at</code>","text":"<pre><code>expires_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionid","title":"# <code>leadr.auth.domain.device.DeviceSession.id</code>","text":"<pre><code>id: DeviceSessionID = Field(frozen=True, default_factory=DeviceSessionID, description='Unique device session identifier')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionip_address","title":"# <code>leadr.auth.domain.device.DeviceSession.ip_address</code>","text":"<pre><code>ip_address: str | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionis_deleted","title":"# <code>leadr.auth.domain.device.DeviceSession.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionis_expired","title":"# <code>leadr.auth.domain.device.DeviceSession.is_expired</code>","text":"<pre><code>is_expired()\n</code></pre> <p>Check if the access token has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the current time is past the expiration time.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionis_refresh_expired","title":"# <code>leadr.auth.domain.device.DeviceSession.is_refresh_expired</code>","text":"<pre><code>is_refresh_expired()\n</code></pre> <p>Check if the refresh token has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the current time is past the refresh expiration time.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionis_revoked","title":"# <code>leadr.auth.domain.device.DeviceSession.is_revoked</code>","text":"<pre><code>is_revoked()\n</code></pre> <p>Check if the session has been manually revoked.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if revoked_at is set.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionis_valid","title":"# <code>leadr.auth.domain.device.DeviceSession.is_valid</code>","text":"<pre><code>is_valid()\n</code></pre> <p>Check if the session is valid for use.</p> <p>A session is valid if it's not expired and not revoked.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the session can be used for authentication.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionmodel_config","title":"# <code>leadr.auth.domain.device.DeviceSession.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrefresh_expires_at","title":"# <code>leadr.auth.domain.device.DeviceSession.refresh_expires_at</code>","text":"<pre><code>refresh_expires_at: datetime\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrefresh_token_hash","title":"# <code>leadr.auth.domain.device.DeviceSession.refresh_token_hash</code>","text":"<pre><code>refresh_token_hash: str\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrestore","title":"# <code>leadr.auth.domain.device.DeviceSession.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrevoke","title":"# <code>leadr.auth.domain.device.DeviceSession.revoke</code>","text":"<pre><code>revoke()\n</code></pre> <p>Revoke the session, preventing further use.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrevoked_at","title":"# <code>leadr.auth.domain.device.DeviceSession.revoked_at</code>","text":"<pre><code>revoked_at: datetime | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionrotate_tokens","title":"# <code>leadr.auth.domain.device.DeviceSession.rotate_tokens</code>","text":"<pre><code>rotate_tokens()\n</code></pre> <p>Increment token version for token rotation.</p> <p>Called when refreshing tokens to invalidate old refresh tokens.</p>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionsoft_delete","title":"# <code>leadr.auth.domain.device.DeviceSession.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessiontoken_version","title":"# <code>leadr.auth.domain.device.DeviceSession.token_version</code>","text":"<pre><code>token_version: int = 1\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionupdated_at","title":"# <code>leadr.auth.domain.device.DeviceSession.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicesessionuser_agent","title":"# <code>leadr.auth.domain.device.DeviceSession.user_agent</code>","text":"<pre><code>user_agent: str | None = None\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicestatus_1","title":"<code>leadr.auth.domain.device.DeviceStatus</code>","text":"<p>Bases: <code>Enum</code></p> <p>Device status enumeration.</p> <p>Attributes:</p> <ul> <li>ACTIVE \u2013</li> <li>BANNED \u2013</li> <li>SUSPENDED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicestatusactive","title":"# <code>leadr.auth.domain.device.DeviceStatus.ACTIVE</code>","text":"<pre><code>ACTIVE = 'active'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicestatusbanned","title":"# <code>leadr.auth.domain.device.DeviceStatus.BANNED</code>","text":"<pre><code>BANNED = 'banned'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomaindevicedevicestatussuspended","title":"# <code>leadr.auth.domain.device.DeviceStatus.SUSPENDED</code>","text":"<pre><code>SUSPENDED = 'suspended'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnonce","title":"<code>leadr.auth.domain.nonce</code>","text":"<p>Nonce domain entity for replay protection.</p> <p>Classes:</p> <ul> <li>Nonce \u2013 Request nonce for replay protection.</li> <li>NonceStatus \u2013 Nonce status enumeration.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonce","title":"<code>leadr.auth.domain.nonce.Nonce</code>","text":"<p>Bases: <code>Entity</code></p> <p>Request nonce for replay protection.</p> <p>Nonces are single-use tokens that clients must obtain before making mutating requests (POST, PATCH, DELETE). Each nonce has a short TTL (typically 60 seconds) and can only be used once.</p> <p>This prevents replay attacks by ensuring that each mutating request is fresh and authorized by the server.</p> <p>Functions:</p> <ul> <li>is_expired \u2013 Check if nonce has expired.</li> <li>is_used \u2013 Check if nonce has been used.</li> <li>is_valid \u2013 Check if nonce is valid (not used and not expired).</li> <li>mark_expired \u2013 Mark nonce as expired.</li> <li>mark_used \u2013 Mark nonce as used.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>expires_at (<code>datetime</code>) \u2013</li> <li>id (<code>NonceID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>nonce_value (<code>str</code>) \u2013</li> <li>status (<code>NonceStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>used_at (<code>datetime | None</code>) \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncecreated_at","title":"# <code>leadr.auth.domain.nonce.Nonce.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncedeleted_at","title":"# <code>leadr.auth.domain.nonce.Nonce.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncedevice_id","title":"# <code>leadr.auth.domain.nonce.Nonce.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(description='Device that owns this nonce')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceexpires_at","title":"# <code>leadr.auth.domain.nonce.Nonce.expires_at</code>","text":"<pre><code>expires_at: datetime = Field(description='Nonce expiration timestamp')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceid","title":"# <code>leadr.auth.domain.nonce.Nonce.id</code>","text":"<pre><code>id: NonceID = Field(frozen=True, default_factory=NonceID, description='Unique nonce identifier')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceis_deleted","title":"# <code>leadr.auth.domain.nonce.Nonce.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceis_expired","title":"# <code>leadr.auth.domain.nonce.Nonce.is_expired</code>","text":"<pre><code>is_expired()\n</code></pre> <p>Check if nonce has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if current time is at or past expires_at</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceis_used","title":"# <code>leadr.auth.domain.nonce.Nonce.is_used</code>","text":"<pre><code>is_used()\n</code></pre> <p>Check if nonce has been used.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if status is USED</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceis_valid","title":"# <code>leadr.auth.domain.nonce.Nonce.is_valid</code>","text":"<pre><code>is_valid()\n</code></pre> <p>Check if nonce is valid (not used and not expired).</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if nonce is pending and not expired</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncemark_expired","title":"# <code>leadr.auth.domain.nonce.Nonce.mark_expired</code>","text":"<pre><code>mark_expired()\n</code></pre> <p>Mark nonce as expired.</p> <p>Only marks nonce as expired if it's currently pending. Does not change status if already used or expired.</p>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncemark_used","title":"# <code>leadr.auth.domain.nonce.Nonce.mark_used</code>","text":"<pre><code>mark_used()\n</code></pre> <p>Mark nonce as used.</p> <p>Sets status to USED and records used_at timestamp.</p> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If nonce is not valid (already used or expired)</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncemodel_config","title":"# <code>leadr.auth.domain.nonce.Nonce.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncenonce_value","title":"# <code>leadr.auth.domain.nonce.Nonce.nonce_value</code>","text":"<pre><code>nonce_value: str = Field(description='Unique nonce value (UUID string)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncerestore","title":"# <code>leadr.auth.domain.nonce.Nonce.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncesoft_delete","title":"# <code>leadr.auth.domain.nonce.Nonce.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncestatus","title":"# <code>leadr.auth.domain.nonce.Nonce.status</code>","text":"<pre><code>status: NonceStatus = Field(default=(NonceStatus.PENDING), description='Nonce status')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceupdated_at","title":"# <code>leadr.auth.domain.nonce.Nonce.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenonceused_at","title":"# <code>leadr.auth.domain.nonce.Nonce.used_at</code>","text":"<pre><code>used_at: datetime | None = Field(default=None, description='When nonce was consumed')\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncestatus_1","title":"<code>leadr.auth.domain.nonce.NonceStatus</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Nonce status enumeration.</p> <p>Attributes:</p> <ul> <li>EXPIRED \u2013</li> <li>PENDING \u2013</li> <li>USED \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncestatusexpired","title":"# <code>leadr.auth.domain.nonce.NonceStatus.EXPIRED</code>","text":"<pre><code>EXPIRED = 'expired'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncestatuspending","title":"# <code>leadr.auth.domain.nonce.NonceStatus.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthdomainnoncenoncestatusused","title":"# <code>leadr.auth.domain.nonce.NonceStatus.USED</code>","text":"<pre><code>USED = 'used'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservices","title":"<code>leadr.auth.services</code>","text":"<p>Modules:</p> <ul> <li>api_key_crypto \u2013 Cryptographic operations for API keys.</li> <li>api_key_service \u2013 API Key service for managing API key operations.</li> <li>dependencies \u2013 Auth service dependency injection factories.</li> <li>device_service \u2013 Device authentication service.</li> <li>device_token_crypto \u2013 Cryptographic operations for device access and refresh tokens.</li> <li>nonce_service \u2013 Nonce service for managing request nonces.</li> <li>nonce_tasks \u2013 Background tasks for nonce cleanup.</li> <li>repositories \u2013 API Key, Device, and Nonce repository services.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_crypto","title":"<code>leadr.auth.services.api_key_crypto</code>","text":"<p>Cryptographic operations for API keys.</p> <p>Functions:</p> <ul> <li>generate_api_key \u2013 Generate a secure random API key with 'ldr_' prefix.</li> <li>hash_api_key \u2013 Hash an API key for secure storage using HMAC-SHA256.</li> <li>verify_api_key \u2013 Verify an API key against its stored hash.</li> </ul> <p>Attributes:</p> <ul> <li>API_KEY_BYTES \u2013</li> <li>API_KEY_PREFIX \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_cryptoapi_key_bytes","title":"<code>leadr.auth.services.api_key_crypto.API_KEY_BYTES</code>","text":"<pre><code>API_KEY_BYTES = 32\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_cryptoapi_key_prefix","title":"<code>leadr.auth.services.api_key_crypto.API_KEY_PREFIX</code>","text":"<pre><code>API_KEY_PREFIX = 'ldr_'\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_cryptogenerate_api_key","title":"<code>leadr.auth.services.api_key_crypto.generate_api_key</code>","text":"<pre><code>generate_api_key()\n</code></pre> <p>Generate a secure random API key with 'ldr_' prefix.</p> <p>The key is generated using cryptographically secure random bytes and encoded using URL-safe base64 encoding for compatibility.</p> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A secure API key string starting with 'ldr_' followed by</li> <li><code>str</code> \u2013 URL-safe random characters (alphanumeric, hyphen, underscore).</li> </ul> Example  &gt; &gt; &gt; key = generate_api_key() &gt; &gt; &gt; key.startswith('ldr\\_') &gt; &gt; &gt; True &gt; &gt; &gt; len(key) &gt; 36 &gt; &gt; &gt; True"},{"location":"api/reference/auth/#leadrauthservicesapi_key_cryptohash_api_key","title":"<code>leadr.auth.services.api_key_crypto.hash_api_key</code>","text":"<pre><code>hash_api_key(key, secret)\n</code></pre> <p>Hash an API key for secure storage using HMAC-SHA256.</p> <p>Uses HMAC-SHA256 with a server-side secret (pepper) to create a one-way hash of the API key. This provides defense in depth: database compromise alone isn't enough to validate keys.</p> <p>Parameters:</p> <ul> <li>key (<code>str</code>) \u2013 The API key to hash.</li> <li>secret (<code>str</code>) \u2013 Server-side secret for additional security.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A hexadecimal string representation of the HMAC-SHA256 hash.</li> </ul> Example  &gt; &gt; &gt; secret = \"my-secret\" &gt; &gt; &gt; hash1 = hash_api_key('ldr_test123', secret) &gt; &gt; &gt; hash2 = hash_api_key('ldr_test123', secret) &gt; &gt; &gt; hash1 == hash2 &gt; &gt; &gt; True &gt; &gt; &gt; len(hash1) &gt; &gt; &gt; 64"},{"location":"api/reference/auth/#leadrauthservicesapi_key_cryptoverify_api_key","title":"<code>leadr.auth.services.api_key_crypto.verify_api_key</code>","text":"<pre><code>verify_api_key(key, key_hash, secret)\n</code></pre> <p>Verify an API key against its stored hash.</p> <p>Uses timing-safe comparison to prevent timing attacks.</p> <p>Parameters:</p> <ul> <li>key (<code>str</code>) \u2013 The API key to verify.</li> <li>key_hash (<code>str</code>) \u2013 The stored hash to compare against.</li> <li>secret (<code>str</code>) \u2013 Server-side secret for HMAC verification.</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the key matches the hash, False otherwise.</li> </ul> Example  &gt; &gt; &gt; secret = \"my-secret\" &gt; &gt; &gt; key = 'ldr_test123' &gt; &gt; &gt; hashed = hash_api_key(key, secret) &gt; &gt; &gt; verify_api_key(key, hashed, secret) &gt; &gt; &gt; True &gt; &gt; &gt; verify_api_key('ldr_wrong', hashed, secret) &gt; &gt; &gt; False"},{"location":"api/reference/auth/#leadrauthservicesapi_key_service","title":"<code>leadr.auth.services.api_key_service</code>","text":"<p>API Key service for managing API key operations.</p> <p>Classes:</p> <ul> <li>APIKeyService \u2013 Service for managing API key lifecycle and operations.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservice","title":"<code>leadr.auth.services.api_key_service.APIKeyService</code>","text":"<p>Bases: <code>BaseService[APIKey, APIKeyRepository]</code></p> <p>Service for managing API key lifecycle and operations.</p> <p>This service orchestrates API key creation, validation, and management by coordinating between the domain models, cryptographic functions, and repository layer.</p> <p>Functions:</p> <ul> <li>count_active_api_keys \u2013 Count active API keys for an account.</li> <li>create_api_key \u2013 Create a new API key for a user within an account.</li> <li>create_api_key_with_value \u2013 Create a new API key with a specific key value (for bootstrap/testing).</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_api_key \u2013 Get an API key by its ID.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>list_account_api_keys \u2013 List all API keys for an account.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_api_keys \u2013 List API keys for an account with optional filters and pagination.</li> <li>record_usage \u2013 Record that an API key was used at a specific time.</li> <li>revoke_api_key \u2013 Revoke an API key, preventing further use.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_api_key_status \u2013 Update the status of an API key.</li> <li>validate_api_key \u2013 Validate an API key and return the domain entity if valid.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicecount_active_api_keys","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.count_active_api_keys</code>","text":"<pre><code>count_active_api_keys(account_id)\n</code></pre> <p>Count active API keys for an account.</p> <p>This is useful for enforcing limits on the number of active keys per account based on their plan or tier.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to count keys for.</li> </ul> <p>Returns:</p> <ul> <li><code>int</code> \u2013 Number of active (non-revoked) API keys.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.create_api_key</code>","text":"<pre><code>create_api_key(account_id, user_id, name, expires_at=None)\n</code></pre> <p>Create a new API key for a user within an account.</p> <p>Generates a secure random key, hashes it for storage, and persists it to the database. The plain key is returned only once for the caller to provide to the user.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID the key belongs to.</li> <li>user_id (<code>UserID</code>) \u2013 The user ID the key belongs to.</li> <li>name (<code>str</code>) \u2013 A descriptive name for the key.</li> <li>expires_at (<code>datetime | None</code>) \u2013 Optional expiration timestamp for the key.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey</code> \u2013 A tuple of (APIKey domain entity, plain key string).</li> <li><code>str</code> \u2013 The plain key should be shown to the user once and not stored.</li> </ul> Example  &gt; &gt; &gt; api_key, plain_key = await service.create_api_key( &gt; &gt; &gt; ... account_id=account_id, &gt; &gt; &gt; ... user_id=user_id, &gt; &gt; &gt; ... name=\"Production API Key\", &gt; &gt; &gt; ... expires_at=datetime.now(UTC) + timedelta(days=90) &gt; &gt; &gt; ... ) &gt; &gt; &gt; print(f\"Your API key: {plain_key}\") &gt; &gt; &gt; Your API key: ldr_abc123..."},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key_with_value","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.create_api_key_with_value</code>","text":"<pre><code>create_api_key_with_value(account_id, user_id, name, key_value, expires_at=None)\n</code></pre> <p>Create a new API key with a specific key value (for bootstrap/testing).</p> <p>This method is used for creating API keys with predetermined values, such as during superadmin bootstrap. Unlike create_api_key, this does not generate a random key and only returns the APIKey entity.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID the key belongs to.</li> <li>user_id (<code>UserID</code>) \u2013 The user ID the key belongs to.</li> <li>name (<code>str</code>) \u2013 A descriptive name for the key.</li> <li>key_value (<code>str</code>) \u2013 The specific API key value to use.</li> <li>expires_at (<code>datetime | None</code>) \u2013 Optional expiration timestamp for the key.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey</code> \u2013 The created APIKey domain entity.</li> </ul> Example  &gt; &gt; &gt; api_key = await service.create_api_key_with_value( &gt; &gt; &gt; ... account_id=account_id, &gt; &gt; &gt; ... user_id=user_id, &gt; &gt; &gt; ... name=\"Superadmin Key\", &gt; &gt; &gt; ... key_value=\"ldr_fixed_key_for_bootstrap\", &gt; &gt; &gt; ... )"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicedelete","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyserviceget_api_key","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.get_api_key</code>","text":"<pre><code>get_api_key(key_id)\n</code></pre> <p>Get an API key by its ID.</p> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The ID of the API key to retrieve.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey | None</code> \u2013 The APIKey domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyserviceget_by_id","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyserviceget_by_id_or_raise","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicelist_account_api_keys","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.list_account_api_keys</code>","text":"<pre><code>list_account_api_keys(account_id, active_only=False)\n</code></pre> <p>List all API keys for an account.</p> <p>This is an internal helper that returns a plain list. API keys per account are typically limited, so pagination isn't needed for internal use cases.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to list keys for.</li> <li>active_only (<code>bool</code>) \u2013 If True, only return active (non-revoked) keys.</li> </ul> <p>Returns:</p> <ul> <li><code>list[APIKey]</code> \u2013 List of APIKey domain entities.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicelist_all","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicelist_api_keys","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.list_api_keys</code>","text":"<pre><code>list_api_keys(account_id, *, status=None, pagination)\n</code></pre> <p>List API keys for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all API keys   (superadmin use case).</li> <li>status (<code>str | None</code>) \u2013 Optional status string to filter by.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[APIKey]</code> \u2013 PaginatedResult containing APIKey entities.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicerecord_usage","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.record_usage</code>","text":"<pre><code>record_usage(key_id, used_at)\n</code></pre> <p>Record that an API key was used at a specific time.</p> <p>This is typically called automatically during validation, but can also be called explicitly if needed.</p> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The ID of the API key that was used.</li> <li>used_at (<code>datetime</code>) \u2013 The timestamp when the key was used.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey</code> \u2013 The updated APIKey domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the key doesn't exist.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicerepository","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicerevoke_api_key","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.revoke_api_key</code>","text":"<pre><code>revoke_api_key(key_id)\n</code></pre> <p>Revoke an API key, preventing further use.</p> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The ID of the API key to revoke.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey</code> \u2013 The updated APIKey domain entity with REVOKED status.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the key doesn't exist.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicesoft_delete","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyserviceupdate_api_key_status","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.update_api_key_status</code>","text":"<pre><code>update_api_key_status(key_id, status)\n</code></pre> <p>Update the status of an API key.</p> <p>Parameters:</p> <ul> <li>key_id (<code>APIKeyID</code>) \u2013 The ID of the API key to update.</li> <li>status (<code>str</code>) \u2013 The new status value (active or revoked).</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey</code> \u2013 The updated APIKey domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the key doesn't exist.</li> <li><code>ValueError</code> \u2013 If the status is invalid.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesapi_key_serviceapikeyservicevalidate_api_key","title":"# <code>leadr.auth.services.api_key_service.APIKeyService.validate_api_key</code>","text":"<pre><code>validate_api_key(plain_key)\n</code></pre> <p>Validate an API key and return the domain entity if valid.</p> <p>Performs the following checks:</p> <ol> <li>Extracts prefix and looks up key in database</li> <li>Verifies the hash matches</li> <li>Checks if key is active (not revoked)</li> <li>Checks if key is not expired</li> <li>Records usage timestamp if valid</li> </ol> <p>Parameters:</p> <ul> <li>plain_key (<code>str</code>) \u2013 The plain API key string to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>APIKey | None</code> \u2013 The APIKey domain entity if valid, None otherwise.</li> </ul> Example  &gt; &gt; &gt; api_key = await service.validate_api_key(\"ldr_abc123...\") &gt; &gt; &gt; if api_key: &gt; &gt; &gt; ... print(f\"Valid key for account {api_key.account_id}\") &gt; &gt; &gt; ... else: &gt; &gt; &gt; ... print(\"Invalid or expired key\")"},{"location":"api/reference/auth/#leadrauthservicesdependencies","title":"<code>leadr.auth.services.dependencies</code>","text":"<p>Auth service dependency injection factories.</p> <p>Functions:</p> <ul> <li>get_api_key_service \u2013 Get APIKeyService dependency.</li> <li>get_device_service \u2013 Get DeviceService dependency.</li> <li>get_nonce_service \u2013 Get NonceService dependency.</li> </ul> <p>Attributes:</p> <ul> <li>APIKeyServiceDep \u2013</li> <li>DeviceServiceDep \u2013</li> <li>NonceServiceDep \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesapikeyservicedep","title":"<code>leadr.auth.services.dependencies.APIKeyServiceDep</code>","text":"<pre><code>APIKeyServiceDep = Annotated[APIKeyService, Depends(get_api_key_service)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesdeviceservicedep","title":"<code>leadr.auth.services.dependencies.DeviceServiceDep</code>","text":"<pre><code>DeviceServiceDep = Annotated[DeviceService, Depends(get_device_service)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesnonceservicedep","title":"<code>leadr.auth.services.dependencies.NonceServiceDep</code>","text":"<pre><code>NonceServiceDep = Annotated[NonceService, Depends(get_nonce_service)]\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesget_api_key_service","title":"<code>leadr.auth.services.dependencies.get_api_key_service</code>","text":"<pre><code>get_api_key_service(db)\n</code></pre> <p>Get APIKeyService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session injected via dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>APIKeyService</code> \u2013 APIKeyService instance configured with the database session</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesget_device_service","title":"<code>leadr.auth.services.dependencies.get_device_service</code>","text":"<pre><code>get_device_service(db)\n</code></pre> <p>Get DeviceService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session injected via dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceService</code> \u2013 DeviceService instance configured with the database session</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdependenciesget_nonce_service","title":"<code>leadr.auth.services.dependencies.get_nonce_service</code>","text":"<pre><code>get_nonce_service(db)\n</code></pre> <p>Get NonceService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session injected via dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>NonceService</code> \u2013 NonceService instance configured with the database session</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_service","title":"<code>leadr.auth.services.device_service</code>","text":"<p>Device authentication service.</p> <p>Classes:</p> <ul> <li>DeviceService \u2013 Service for device authentication and session management.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservice","title":"<code>leadr.auth.services.device_service.DeviceService</code>","text":"<pre><code>DeviceService(session)\n</code></pre> <p>Bases: <code>BaseService[Device, DeviceRepository]</code></p> <p>Service for device authentication and session management.</p> <p>Functions:</p> <ul> <li>activate_device \u2013 Activate a device, allowing authentication.</li> <li>ban_device \u2013 Ban a device, preventing further authentication.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>get_device \u2013 Get a device by its ID.</li> <li>get_session \u2013 Get a device session by its ID.</li> <li>get_session_or_raise \u2013 Get a device session by its ID or raise EntityNotFoundError.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_devices \u2013 List devices for an account with optional filters and pagination.</li> <li>list_sessions \u2013 List device sessions for an account with optional filters and pagination.</li> <li>refresh_access_token \u2013 Refresh access token using a valid refresh token.</li> <li>revoke_session \u2013 Revoke a device session.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>start_session \u2013 Start a new device session.</li> <li>suspend_device \u2013 Suspend a device temporarily.</li> <li>validate_device_token \u2013 Validate access token and return associated device.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> <li>session \u2013</li> <li>session_repo \u2013</li> </ul> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 SQLAlchemy async session</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceactivate_device","title":"# <code>leadr.auth.services.device_service.DeviceService.activate_device</code>","text":"<pre><code>activate_device(device_id)\n</code></pre> <p>Activate a device, allowing authentication.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 The ID of the device to activate</li> </ul> <p>Returns:</p> <ul> <li><code>Device</code> \u2013 The updated device</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the device doesn't exist</li> </ul> Example  &gt; &gt; &gt; device = await service.activate_device(device_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceban_device","title":"# <code>leadr.auth.services.device_service.DeviceService.ban_device</code>","text":"<pre><code>ban_device(device_id)\n</code></pre> <p>Ban a device, preventing further authentication.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 The ID of the device to ban</li> </ul> <p>Returns:</p> <ul> <li><code>Device</code> \u2013 The updated device</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the device doesn't exist</li> </ul> Example  &gt; &gt; &gt; device = await service.ban_device(device_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicedelete","title":"# <code>leadr.auth.services.device_service.DeviceService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceget_by_id","title":"# <code>leadr.auth.services.device_service.DeviceService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceget_by_id_or_raise","title":"# <code>leadr.auth.services.device_service.DeviceService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceget_device","title":"# <code>leadr.auth.services.device_service.DeviceService.get_device</code>","text":"<pre><code>get_device(device_id)\n</code></pre> <p>Get a device by its ID.</p> <p>Parameters:</p> <ul> <li>device_id (<code>UUID</code>) \u2013 The ID of the device to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>Device | None</code> \u2013 The device if found, None otherwise</li> </ul> Example  &gt; &gt; &gt; device = await service.get_device(device_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceget_session","title":"# <code>leadr.auth.services.device_service.DeviceService.get_session</code>","text":"<pre><code>get_session(session_id)\n</code></pre> <p>Get a device session by its ID.</p> <p>Parameters:</p> <ul> <li>session_id (<code>UUID</code>) \u2013 The ID of the session to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSession | None</code> \u2013 The session if found, None otherwise</li> </ul> Example  &gt; &gt; &gt; session = await service.get_session(session_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceserviceget_session_or_raise","title":"# <code>leadr.auth.services.device_service.DeviceService.get_session_or_raise</code>","text":"<pre><code>get_session_or_raise(session_id)\n</code></pre> <p>Get a device session by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>session_id (<code>DeviceSessionID</code>) \u2013 The ID of the session to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSession</code> \u2013 The session</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the session doesn't exist</li> </ul> Example  &gt; &gt; &gt; session = await service.get_session_or_raise(session_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicelist_all","title":"# <code>leadr.auth.services.device_service.DeviceService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicelist_devices","title":"# <code>leadr.auth.services.device_service.DeviceService.list_devices</code>","text":"<pre><code>list_devices(account_id, *, game_id=None, status=None, pagination)\n</code></pre> <p>List devices for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all devices   (superadmin use case).</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>status (<code>str | None</code>) \u2013 Optional status to filter by (active, banned, suspended)</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Device]</code> \u2013 PaginatedResult containing Device entities.</li> </ul> Example  &gt; &gt; &gt; devices = await service.list_devices( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... status=\"active\", &gt; &gt; &gt; ... pagination=pagination, &gt; &gt; &gt; ... )"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicelist_sessions","title":"# <code>leadr.auth.services.device_service.DeviceService.list_sessions</code>","text":"<pre><code>list_sessions(account_id, *, device_id=None, pagination)\n</code></pre> <p>List device sessions for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all sessions   (superadmin use case).</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[DeviceSession]</code> \u2013 PaginatedResult containing DeviceSession entities.</li> </ul> Example  &gt; &gt; &gt; sessions = await service.list_sessions( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... device_id=device.id, &gt; &gt; &gt; ... pagination=pagination, &gt; &gt; &gt; ... )"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicerefresh_access_token","title":"# <code>leadr.auth.services.device_service.DeviceService.refresh_access_token</code>","text":"<pre><code>refresh_access_token(refresh_token)\n</code></pre> <p>Refresh access token using a valid refresh token.</p> <p>Validates the refresh token, checks token version for replay attack detection, generates new access and refresh tokens with incremented version, and updates the session.</p> <p>Parameters:</p> <ul> <li>refresh_token (<code>str</code>) \u2013 JWT refresh token</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[str, str, int] | None</code> \u2013 tuple[str, str, int]: (access_token_plain, refresh_token_plain, expires_in_seconds)</li> <li><code>tuple[str, str, int] | None</code> \u2013 or None if refresh token is invalid</li> </ul> Token Rotation Security  - The token_version in the JWT must match the session's token_version - When tokens are refreshed, the version is incremented - Old refresh tokens with lower versions are rejected (prevents replay attacks)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicerepository","title":"# <code>leadr.auth.services.device_service.DeviceService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicerevoke_session","title":"# <code>leadr.auth.services.device_service.DeviceService.revoke_session</code>","text":"<pre><code>revoke_session(session_id)\n</code></pre> <p>Revoke a device session.</p> <p>Parameters:</p> <ul> <li>session_id (<code>DeviceSessionID</code>) \u2013 The ID of the session to revoke</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSession</code> \u2013 The updated session</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the session doesn't exist</li> </ul> Example  &gt; &gt; &gt; session = await service.revoke_session(session_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicesession","title":"# <code>leadr.auth.services.device_service.DeviceService.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicesession_repo","title":"# <code>leadr.auth.services.device_service.DeviceService.session_repo</code>","text":"<pre><code>session_repo = DeviceSessionRepository(session)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicesoft_delete","title":"# <code>leadr.auth.services.device_service.DeviceService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicestart_session","title":"# <code>leadr.auth.services.device_service.DeviceService.start_session</code>","text":"<pre><code>start_session(game_id, client_fingerprint, platform=None, ip_address=None, user_agent=None, metadata=None)\n</code></pre> <p>Start a new device session.</p> <p>Creates or updates device, generates JWT access and refresh tokens, and creates session record. This is idempotent - calling multiple times updates last_seen_at.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 Game UUID</li> <li>client_fingerprint (<code>str</code>) \u2013 Client-generated SHA256 device fingerprint</li> <li>platform (<code>str | None</code>) \u2013 Device platform (ios, android, etc.)</li> <li>ip_address (<code>str | None</code>) \u2013 Client IP address</li> <li>user_agent (<code>str | None</code>) \u2013 Client user agent string</li> <li>metadata (<code>dict[str, Any] | None</code>) \u2013 Additional device metadata</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[Device, str, str, int]</code> \u2013 tuple[Device, str, str, int]: (device, access_token_plain, refresh_token_plain,   expires_in_seconds)</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If game doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicesuspend_device","title":"# <code>leadr.auth.services.device_service.DeviceService.suspend_device</code>","text":"<pre><code>suspend_device(device_id)\n</code></pre> <p>Suspend a device temporarily.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 The ID of the device to suspend</li> </ul> <p>Returns:</p> <ul> <li><code>Device</code> \u2013 The updated device</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the device doesn't exist</li> </ul> Example  &gt; &gt; &gt; device = await service.suspend_device(device_id)"},{"location":"api/reference/auth/#leadrauthservicesdevice_servicedeviceservicevalidate_device_token","title":"# <code>leadr.auth.services.device_service.DeviceService.validate_device_token</code>","text":"<pre><code>validate_device_token(token)\n</code></pre> <p>Validate access token and return associated device.</p> <p>Validates JWT signature and expiration, checks session validity, and ensures device is active.</p> <p>Parameters:</p> <ul> <li>token (<code>str</code>) \u2013 JWT access token</li> </ul> <p>Returns:</p> <ul> <li><code>Device | None</code> \u2013 Device if token is valid and device is active, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_crypto","title":"<code>leadr.auth.services.device_token_crypto</code>","text":"<p>Cryptographic operations for device access and refresh tokens.</p> <p>Functions:</p> <ul> <li>generate_access_token \u2013 Generate JWT access token for device authentication.</li> <li>generate_refresh_token \u2013 Generate JWT refresh token for device authentication.</li> <li>hash_token \u2013 Hash token for secure storage using HMAC-SHA256.</li> <li>validate_access_token \u2013 Validate and decode JWT access token.</li> <li>validate_refresh_token \u2013 Validate and decode JWT refresh token.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_cryptogenerate_access_token","title":"<code>leadr.auth.services.device_token_crypto.generate_access_token</code>","text":"<pre><code>generate_access_token(client_fingerprint, game_id, account_id, expires_delta, secret)\n</code></pre> <p>Generate JWT access token for device authentication.</p> <p>Creates a JWT with device, game, and account claims, signs it with the secret, and returns both the plain token and its SHA-256 hash for storage.</p> <p>Parameters:</p> <ul> <li>device_id \u2013 Client-generated SHA256 device fingerprint</li> <li>game_id (<code>GameID</code>) \u2013 Game UUID</li> <li>account_id (<code>AccountID</code>) \u2013 Account UUID (for multi-tenant isolation)</li> <li>expires_delta (<code>timedelta</code>) \u2013 Time until token expires</li> <li>secret (<code>str</code>) \u2013 Server-side secret for JWT signing</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[str, str]</code> \u2013 tuple[str, str]: (token_plain, token_hash)</li> <li>token_plain: JWT access token to return to client</li> <li>token_hash: SHA-256 hash for secure storage</li> </ul> Example  &gt; &gt; &gt; device_id = \"device-123\" &gt; &gt; &gt; game_id = UUID(\"...\") &gt; &gt; &gt; account_id = UUID(\"...\") &gt; &gt; &gt; token, token_hash = generate_access_token( &gt; &gt; &gt; ... device_id, game_id, account_id, timedelta(hours=1), \"secret\" &gt; &gt; &gt; ... ) &gt; &gt; &gt; token.count(\".\") &gt; &gt; &gt; 2"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_cryptogenerate_refresh_token","title":"<code>leadr.auth.services.device_token_crypto.generate_refresh_token</code>","text":"<pre><code>generate_refresh_token(client_fingerprint, game_id, account_id, token_version, expires_delta, secret)\n</code></pre> <p>Generate JWT refresh token for device authentication.</p> <p>Creates a JWT with device, game, account, and version claims, signs it with the secret, and returns both the plain token and its SHA-256 hash for storage.</p> <p>The token_version claim enables token rotation: when a refresh token is used, the version is incremented and old tokens with lower versions are invalidated.</p> <p>Parameters:</p> <ul> <li>device_id \u2013 Client-generated SHA256 device fingerprint</li> <li>game_id (<code>GameID</code>) \u2013 Game UUID</li> <li>account_id (<code>AccountID</code>) \u2013 Account UUID (for multi-tenant isolation)</li> <li>token_version (<code>int</code>) \u2013 Current token version for rotation tracking</li> <li>expires_delta (<code>timedelta</code>) \u2013 Time until token expires (typically 30 days)</li> <li>secret (<code>str</code>) \u2013 Server-side secret for JWT signing</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[str, str]</code> \u2013 tuple[str, str]: (token_plain, token_hash)</li> <li>token_plain: JWT refresh token to return to client</li> <li>token_hash: SHA-256 hash for secure storage</li> </ul> Example  &gt; &gt; &gt; device_id = \"device-123\" &gt; &gt; &gt; game_id = UUID(\"...\") &gt; &gt; &gt; account_id = UUID(\"...\") &gt; &gt; &gt; token, token_hash = generate_refresh_token( &gt; &gt; &gt; ... device_id, game_id, account_id, 1, timedelta(days=30), \"secret\" &gt; &gt; &gt; ... ) &gt; &gt; &gt; token.count(\".\") &gt; &gt; &gt; 2"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_cryptohash_token","title":"<code>leadr.auth.services.device_token_crypto.hash_token</code>","text":"<pre><code>hash_token(token, secret)\n</code></pre> <p>Hash token for secure storage using HMAC-SHA256.</p> <p>Uses HMAC-SHA256 with a server-side secret (pepper) to create a one-way hash of the token. This provides defense in depth: database compromise alone isn't enough to use tokens.</p> <p>Parameters:</p> <ul> <li>token (<code>str</code>) \u2013 The JWT token to hash</li> <li>secret (<code>str</code>) \u2013 Server-side secret for additional security</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A hexadecimal string representation of the HMAC-SHA256 hash</li> </ul> Example  &gt; &gt; &gt; secret = \"my-secret\" &gt; &gt; &gt; hash1 = hash_token(\"token123\", secret) &gt; &gt; &gt; hash2 = hash_token(\"token123\", secret) &gt; &gt; &gt; hash1 == hash2 &gt; &gt; &gt; True &gt; &gt; &gt; len(hash1) &gt; &gt; &gt; 64"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_cryptovalidate_access_token","title":"<code>leadr.auth.services.device_token_crypto.validate_access_token</code>","text":"<pre><code>validate_access_token(token, secret)\n</code></pre> <p>Validate and decode JWT access token.</p> <p>Verifies the token signature and expiration. Returns decoded claims if valid.</p> <p>Parameters:</p> <ul> <li>token (<code>str</code>) \u2013 JWT access token to validate</li> <li>secret (<code>str</code>) \u2013 Server-side secret for JWT verification</li> </ul> <p>Returns:</p> <ul> <li><code>dict[str, Any] | None</code> \u2013 dict with claims (sub, game_id, account_id, exp, iat, jti) or None if invalid</li> </ul> Example  &gt; &gt; &gt; token = \"eyJ...\" &gt; &gt; &gt; claims = validate_access_token(token, \"secret\") &gt; &gt; &gt; claims[\"sub\"] if claims else None &gt; &gt; &gt; 'device-123'"},{"location":"api/reference/auth/#leadrauthservicesdevice_token_cryptovalidate_refresh_token","title":"<code>leadr.auth.services.device_token_crypto.validate_refresh_token</code>","text":"<pre><code>validate_refresh_token(token, secret)\n</code></pre> <p>Validate and decode JWT refresh token.</p> <p>Verifies the token signature and expiration. Returns decoded claims if valid.</p> <p>Parameters:</p> <ul> <li>token (<code>str</code>) \u2013 JWT refresh token to validate</li> <li>secret (<code>str</code>) \u2013 Server-side secret for JWT verification</li> </ul> <p>Returns:</p> <ul> <li><code>dict[str, Any] | None</code> \u2013 dict with claims (sub, game_id, account_id, token_version, exp, iat, jti) or None if invalid</li> </ul> Example  &gt; &gt; &gt; token = \"eyJ...\" &gt; &gt; &gt; claims = validate_refresh_token(token, \"secret\") &gt; &gt; &gt; claims[\"token_version\"] if claims else None &gt; &gt; &gt; 1"},{"location":"api/reference/auth/#leadrauthservicesnonce_service","title":"<code>leadr.auth.services.nonce_service</code>","text":"<p>Nonce service for managing request nonces.</p> <p>Classes:</p> <ul> <li>NonceService \u2013 Service for managing request nonces.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservice","title":"<code>leadr.auth.services.nonce_service.NonceService</code>","text":"<p>Bases: <code>BaseService[Nonce, NonceRepository]</code></p> <p>Service for managing request nonces.</p> <p>Nonces are single-use tokens that clients must obtain before making mutating requests. This prevents replay attacks by ensuring each request is fresh and authorized by the server.</p> <p>Functions:</p> <ul> <li>cleanup_expired_nonces \u2013 Clean up expired nonces older than specified hours.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>generate_nonce \u2013 Generate a fresh nonce for a device.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>validate_and_consume_nonce \u2013 Validate nonce and mark as used (atomic operation).</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicecleanup_expired_nonces","title":"# <code>leadr.auth.services.nonce_service.NonceService.cleanup_expired_nonces</code>","text":"<pre><code>cleanup_expired_nonces(older_than_hours=24)\n</code></pre> <p>Clean up expired nonces older than specified hours.</p> <p>Only deletes nonces with PENDING status. Used nonces are kept for audit/debugging purposes.</p> <p>Parameters:</p> <ul> <li>older_than_hours (<code>int</code>) \u2013 Delete nonces expired before this many hours ago (default 24)</li> </ul> <p>Returns:</p> <ul> <li><code>int</code> \u2013 Number of nonces deleted</li> </ul> Example  &gt; &gt; &gt; # In background task or cron job &gt; &gt; &gt; &gt; &gt; &gt; deleted = await service.cleanup_expired_nonces(older_than_hours=24) &gt; &gt; &gt; logger.info(f\"Cleaned up {deleted} expired nonces\")"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicedelete","title":"# <code>leadr.auth.services.nonce_service.NonceService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicegenerate_nonce","title":"# <code>leadr.auth.services.nonce_service.NonceService.generate_nonce</code>","text":"<pre><code>generate_nonce(device_id, ttl_seconds=60)\n</code></pre> <p>Generate a fresh nonce for a device.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 Device ID to associate nonce with</li> <li>ttl_seconds (<code>int</code>) \u2013 Time-to-live in seconds (default 60)</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[str, datetime]</code> \u2013 tuple[str, datetime]: (nonce_value, expires_at)</li> </ul> Example  &gt; &gt; &gt; nonce_value, expires_at = await service.generate_nonce(device_id) &gt; &gt; &gt; &gt; &gt; &gt; # Client includes nonce_value in leadr-client-nonce header"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceserviceget_by_id","title":"# <code>leadr.auth.services.nonce_service.NonceService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceserviceget_by_id_or_raise","title":"# <code>leadr.auth.services.nonce_service.NonceService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicelist_all","title":"# <code>leadr.auth.services.nonce_service.NonceService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicerepository","title":"# <code>leadr.auth.services.nonce_service.NonceService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicesoft_delete","title":"# <code>leadr.auth.services.nonce_service.NonceService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_servicenonceservicevalidate_and_consume_nonce","title":"# <code>leadr.auth.services.nonce_service.NonceService.validate_and_consume_nonce</code>","text":"<pre><code>validate_and_consume_nonce(nonce_value, device_id)\n</code></pre> <p>Validate nonce and mark as used (atomic operation).</p> <p>Parameters:</p> <ul> <li>nonce_value (<code>str</code>) \u2013 The nonce value to validate</li> <li>device_id (<code>DeviceID</code>) \u2013 Expected device ID (must match nonce owner)</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if nonce was valid and consumed</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If nonce is invalid (expired, already used, wrong device, or not found)</li> </ul> Example  &gt; &gt; &gt; try: &gt; &gt; &gt; ... await service.validate_and_consume_nonce(nonce_value, device.id) &gt; &gt; &gt; ... except ValueError as e: &gt; &gt; &gt; ... # Handle invalid nonce (return 412 error to client) &gt; &gt; &gt; ... raise HTTPException(status_code=412, detail=str(e))"},{"location":"api/reference/auth/#leadrauthservicesnonce_tasks","title":"<code>leadr.auth.services.nonce_tasks</code>","text":"<p>Background tasks for nonce cleanup.</p> <p>Contains tasks for:</p> <ul> <li>Cleaning up expired nonces to prevent database bloat</li> </ul> <p>Functions:</p> <ul> <li>cleanup_expired_nonces \u2013 Clean up expired pending nonces.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesnonce_taskscleanup_expired_nonces","title":"<code>leadr.auth.services.nonce_tasks.cleanup_expired_nonces</code>","text":"<pre><code>cleanup_expired_nonces()\n</code></pre> <p>Clean up expired pending nonces.</p> <p>Deletes nonces that are:</p> <ul> <li>Status: PENDING (unused)</li> <li>Expired before current time</li> </ul> <p>Used and expired nonces are kept for audit purposes.</p> <p>This task is designed to be called periodically (e.g., every hour).</p>"},{"location":"api/reference/auth/#leadrauthservicesnonce_taskslogger","title":"<code>leadr.auth.services.nonce_tasks.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositories","title":"<code>leadr.auth.services.repositories</code>","text":"<p>API Key, Device, and Nonce repository services.</p> <p>Classes:</p> <ul> <li>APIKeyRepository \u2013 API Key repository for managing API key persistence.</li> <li>DeviceRepository \u2013 Device repository for managing device persistence.</li> <li>DeviceSessionRepository \u2013 DeviceSession repository for managing device session persistence.</li> <li>NonceRepository \u2013 Nonce repository for managing nonce persistence.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepository","title":"<code>leadr.auth.services.repositories.APIKeyRepository</code>","text":"<p>Bases: <code>BaseRepository[APIKey, APIKeyORM]</code></p> <p>API Key repository for managing API key persistence.</p> <p>Functions:</p> <ul> <li>count_active_by_account \u2013 Count active, non-deleted API keys for a given account.</li> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter API keys by account and optional criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_prefix \u2013 Get API key by prefix, returns None if not found or soft-deleted.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositorysortable_fields","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'name', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositorycount_active_by_account","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.count_active_by_account</code>","text":"<pre><code>count_active_by_account(account_id)\n</code></pre> <p>Count active, non-deleted API keys for a given account.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID to count keys for.</li> </ul> <p>Returns:</p> <ul> <li><code>int</code> \u2013 Number of active, non-deleted API keys for the account.</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositorycreate","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositorydelete","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositoryfilter","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, status=None, active_only=False, pagination, **kwargs)\n</code></pre> <p>Filter API keys by account and optional criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all API keys   (superadmin use case). Regular users should always pass account_id.</li> <li>status (<code>APIKeyStatus | None</code>) \u2013 Optional APIKeyStatus to filter by</li> <li>active_only (<code>bool</code>) \u2013 If True, only return ACTIVE keys (bool)</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[APIKey]</code> \u2013 PaginatedResult containing API keys.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositoryget_by_id","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositoryget_by_prefix","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.get_by_prefix</code>","text":"<pre><code>get_by_prefix(key_prefix)\n</code></pre> <p>Get API key by prefix, returns None if not found or soft-deleted.</p>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositorysession","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesapikeyrepositoryupdate","title":"# <code>leadr.auth.services.repositories.APIKeyRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepository","title":"<code>leadr.auth.services.repositories.DeviceRepository</code>","text":"<p>Bases: <code>BaseRepository[Device, DeviceORM]</code></p> <p>Device repository for managing device persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter devices by account and optional criteria with pagination.</li> <li>get_by_game_and_fingerprint \u2013 Get device by game_id and client_fingerprint, returns None if not found or soft-deleted.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositorysortable_fields","title":"# <code>leadr.auth.services.repositories.DeviceRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'platform', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositorycreate","title":"# <code>leadr.auth.services.repositories.DeviceRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositorydelete","title":"# <code>leadr.auth.services.repositories.DeviceRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositoryfilter","title":"# <code>leadr.auth.services.repositories.DeviceRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, game_id=None, status=None, pagination, **kwargs)\n</code></pre> <p>Filter devices by account and optional criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all devices   (superadmin use case). Regular users should always pass account_id.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>status (<code>str | None</code>) \u2013 Optional status string to filter by (active, banned, suspended)</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Device]</code> \u2013 PaginatedResult containing devices.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositoryget_by_game_and_fingerprint","title":"# <code>leadr.auth.services.repositories.DeviceRepository.get_by_game_and_fingerprint</code>","text":"<pre><code>get_by_game_and_fingerprint(game_id, client_fingerprint)\n</code></pre> <p>Get device by game_id and client_fingerprint, returns None if not found or soft-deleted.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 The game ID</li> <li>client_fingerprint (<code>str</code>) \u2013 The client-generated SHA256 device fingerprint</li> </ul> <p>Returns:</p> <ul> <li><code>Device | None</code> \u2013 Device if found and not deleted, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositoryget_by_id","title":"# <code>leadr.auth.services.repositories.DeviceRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositorysession","title":"# <code>leadr.auth.services.repositories.DeviceRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicerepositoryupdate","title":"# <code>leadr.auth.services.repositories.DeviceRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepository","title":"<code>leadr.auth.services.repositories.DeviceSessionRepository</code>","text":"<p>Bases: <code>BaseRepository[DeviceSession, DeviceSessionORM]</code></p> <p>DeviceSession repository for managing device session persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter sessions by account and optional criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_refresh_token_hash \u2013 Get session by refresh token hash, returns None if not found or soft-deleted.</li> <li>get_by_token_hash \u2013 Get session by access token hash, returns None if not found or soft-deleted.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositorysortable_fields","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositorycreate","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositorydelete","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositoryfilter","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, device_id=None, pagination, **kwargs)\n</code></pre> <p>Filter sessions by account and optional criteria with pagination.</p> <p>Note: account_id is used for multi-tenant safety via JOIN with devices table.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all sessions   (superadmin use case). Regular users should always pass account_id.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[DeviceSession]</code> \u2013 PaginatedResult containing device sessions.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_id","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_refresh_token_hash","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_refresh_token_hash</code>","text":"<pre><code>get_by_refresh_token_hash(refresh_token_hash)\n</code></pre> <p>Get session by refresh token hash, returns None if not found or soft-deleted.</p> <p>Parameters:</p> <ul> <li>refresh_token_hash (<code>str</code>) \u2013 The hashed refresh token</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSession | None</code> \u2013 DeviceSession if found and not deleted, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_token_hash","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_token_hash</code>","text":"<pre><code>get_by_token_hash(token_hash)\n</code></pre> <p>Get session by access token hash, returns None if not found or soft-deleted.</p> <p>Parameters:</p> <ul> <li>token_hash (<code>str</code>) \u2013 The hashed access token</li> </ul> <p>Returns:</p> <ul> <li><code>DeviceSession | None</code> \u2013 DeviceSession if found and not deleted, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositorysession","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesdevicesessionrepositoryupdate","title":"# <code>leadr.auth.services.repositories.DeviceSessionRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepository","title":"<code>leadr.auth.services.repositories.NonceRepository</code>","text":"<p>Bases: <code>BaseRepository[Nonce, NonceORM]</code></p> <p>Nonce repository for managing nonce persistence.</p> <p>Functions:</p> <ul> <li>cleanup_expired_nonces \u2013 Delete expired nonces older than specified time.</li> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter nonces by account and optional criteria.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_nonce_value \u2013 Get nonce by nonce_value, returns None if not found or soft-deleted.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>session \u2013</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositorycleanup_expired_nonces","title":"# <code>leadr.auth.services.repositories.NonceRepository.cleanup_expired_nonces</code>","text":"<pre><code>cleanup_expired_nonces(before)\n</code></pre> <p>Delete expired nonces older than specified time.</p> <p>Only deletes nonces with PENDING status. Used and expired nonces are kept for audit/debugging purposes.</p> <p>Parameters:</p> <ul> <li>before (<code>datetime</code>) \u2013 Delete nonces that expired before this datetime</li> </ul> <p>Returns:</p> <ul> <li><code>int</code> \u2013 Number of nonces deleted</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositorycreate","title":"# <code>leadr.auth.services.repositories.NonceRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositorydelete","title":"# <code>leadr.auth.services.repositories.NonceRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositoryfilter","title":"# <code>leadr.auth.services.repositories.NonceRepository.filter</code>","text":"<pre><code>filter(account_id=None, device_id=None, **kwargs)\n</code></pre> <p>Filter nonces by account and optional criteria.</p> <p>Note: account_id is used for multi-tenant safety via JOIN with devices table.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 REQUIRED - Account ID to filter by (multi-tenant safety)</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> </ul> <p>Returns:</p> <ul> <li><code>list[Nonce]</code> \u2013 List of nonces matching the filter criteria</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If account_id is None (required for multi-tenant safety)</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositoryget_by_id","title":"# <code>leadr.auth.services.repositories.NonceRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositoryget_by_nonce_value","title":"# <code>leadr.auth.services.repositories.NonceRepository.get_by_nonce_value</code>","text":"<pre><code>get_by_nonce_value(nonce_value)\n</code></pre> <p>Get nonce by nonce_value, returns None if not found or soft-deleted.</p> <p>Parameters:</p> <ul> <li>nonce_value (<code>str</code>) \u2013 The unique nonce value to search for</li> </ul> <p>Returns:</p> <ul> <li><code>Nonce | None</code> \u2013 Nonce if found and not deleted, None otherwise</li> </ul>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositorysession","title":"# <code>leadr.auth.services.repositories.NonceRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/auth/#leadrauthservicesrepositoriesnoncerepositoryupdate","title":"# <code>leadr.auth.services.repositories.NonceRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/boards/","title":"Boards","text":""},{"location":"api/reference/boards/#leadrboards","title":"<code>leadr.boards</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadapters","title":"<code>leadr.boards.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Board ORM model.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersorm","title":"<code>leadr.boards.adapters.orm</code>","text":"<p>Board ORM model.</p> <p>Classes:</p> <ul> <li>BoardORM \u2013 Board ORM model.</li> <li>BoardTemplateORM \u2013 BoardTemplate ORM model.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardorm","title":"<code>leadr.boards.adapters.orm.BoardORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Board ORM model.</p> <p>Represents a leaderboard/board that belongs to a game in the database. Maps to the boards table with foreign keys to accounts and games, a unique constraint on short_code (globally unique for direct sharing), and a partial unique constraint on (account_id, game_id, slug) for active boards only.</p> <p>Attributes:</p> <ul> <li>account (<code>Mapped[AccountORM]</code>) \u2013</li> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>created_from_template_id (<code>Mapped[UUID | None]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>description (<code>Mapped[str | None]</code>) \u2013</li> <li>ends_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>game (<code>Mapped[GameORM]</code>) \u2013</li> <li>game_id (<code>Mapped[UUID]</code>) \u2013</li> <li>icon (<code>Mapped[str | None]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>is_active (<code>Mapped[bool]</code>) \u2013</li> <li>is_published (<code>Mapped[bool]</code>) \u2013</li> <li>keep_strategy (<code>Mapped[str]</code>) \u2013</li> <li>name (<code>Mapped[str]</code>) \u2013</li> <li>short_code (<code>Mapped[str]</code>) \u2013</li> <li>slug (<code>Mapped[str]</code>) \u2013</li> <li>sort_direction (<code>Mapped[str]</code>) \u2013</li> <li>starts_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>tags (<code>Mapped[list[str]]</code>) \u2013</li> <li>template_name (<code>Mapped[str | None]</code>) \u2013</li> <li>unit (<code>Mapped[str | None]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormaccount","title":"# <code>leadr.boards.adapters.orm.BoardORM.account</code>","text":"<pre><code>account: Mapped[AccountORM] = relationship('AccountORM')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormaccount_id","title":"# <code>leadr.boards.adapters.orm.BoardORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormcreated_at","title":"# <code>leadr.boards.adapters.orm.BoardORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormcreated_from_template_id","title":"# <code>leadr.boards.adapters.orm.BoardORM.created_from_template_id</code>","text":"<pre><code>created_from_template_id: Mapped[UUID | None] = mapped_column(nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormdeleted_at","title":"# <code>leadr.boards.adapters.orm.BoardORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormdescription","title":"# <code>leadr.boards.adapters.orm.BoardORM.description</code>","text":"<pre><code>description: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormends_at","title":"# <code>leadr.boards.adapters.orm.BoardORM.ends_at</code>","text":"<pre><code>ends_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormgame","title":"# <code>leadr.boards.adapters.orm.BoardORM.game</code>","text":"<pre><code>game: Mapped[GameORM] = relationship('GameORM')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormgame_id","title":"# <code>leadr.boards.adapters.orm.BoardORM.game_id</code>","text":"<pre><code>game_id: Mapped[UUID] = mapped_column(ForeignKey('games.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormicon","title":"# <code>leadr.boards.adapters.orm.BoardORM.icon</code>","text":"<pre><code>icon: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormid","title":"# <code>leadr.boards.adapters.orm.BoardORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormis_active","title":"# <code>leadr.boards.adapters.orm.BoardORM.is_active</code>","text":"<pre><code>is_active: Mapped[bool] = mapped_column(Boolean, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormis_published","title":"# <code>leadr.boards.adapters.orm.BoardORM.is_published</code>","text":"<pre><code>is_published: Mapped[bool] = mapped_column(Boolean, nullable=False, default=True, server_default=(sa.text('true')))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormkeep_strategy","title":"# <code>leadr.boards.adapters.orm.BoardORM.keep_strategy</code>","text":"<pre><code>keep_strategy: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormname","title":"# <code>leadr.boards.adapters.orm.BoardORM.name</code>","text":"<pre><code>name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormshort_code","title":"# <code>leadr.boards.adapters.orm.BoardORM.short_code</code>","text":"<pre><code>short_code: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormslug","title":"# <code>leadr.boards.adapters.orm.BoardORM.slug</code>","text":"<pre><code>slug: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormsort_direction","title":"# <code>leadr.boards.adapters.orm.BoardORM.sort_direction</code>","text":"<pre><code>sort_direction: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormstarts_at","title":"# <code>leadr.boards.adapters.orm.BoardORM.starts_at</code>","text":"<pre><code>starts_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormtags","title":"# <code>leadr.boards.adapters.orm.BoardORM.tags</code>","text":"<pre><code>tags: Mapped[list[str]] = mapped_column(ARRAY(String), nullable=False, default=list, server_default='{}')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormtemplate_name","title":"# <code>leadr.boards.adapters.orm.BoardORM.template_name</code>","text":"<pre><code>template_name: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormunit","title":"# <code>leadr.boards.adapters.orm.BoardORM.unit</code>","text":"<pre><code>unit: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardormupdated_at","title":"# <code>leadr.boards.adapters.orm.BoardORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateorm","title":"<code>leadr.boards.adapters.orm.BoardTemplateORM</code>","text":"<p>Bases: <code>Base</code></p> <p>BoardTemplate ORM model.</p> <p>Represents a template for automatically generating boards at regular intervals. Maps to the board_templates table with foreign keys to accounts and games. Uses JSONB column for config to support flexible procedural generation configuration.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>account (<code>Mapped[AccountORM]</code>) \u2013</li> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>config (<code>Mapped[dict[str, Any]]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>ends_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>game (<code>Mapped[GameORM]</code>) \u2013</li> <li>game_id (<code>Mapped[UUID]</code>) \u2013</li> <li>icon (<code>Mapped[str | None]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>is_active (<code>Mapped[bool]</code>) \u2013</li> <li>is_published (<code>Mapped[bool]</code>) \u2013</li> <li>keep_strategy (<code>Mapped[str]</code>) \u2013</li> <li>name (<code>Mapped[str]</code>) \u2013</li> <li>name_template (<code>Mapped[str | None]</code>) \u2013</li> <li>next_run_at (<code>Mapped[datetime]</code>) \u2013</li> <li>repeat_interval (<code>Mapped[str]</code>) \u2013</li> <li>series (<code>Mapped[str | None]</code>) \u2013</li> <li>slug (<code>Mapped[str | None]</code>) \u2013</li> <li>sort_direction (<code>Mapped[str]</code>) \u2013</li> <li>starts_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>tags (<code>Mapped[list[str]]</code>) \u2013</li> <li>unit (<code>Mapped[str | None]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormaccount","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.account</code>","text":"<pre><code>account: Mapped[AccountORM] = relationship('AccountORM')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormaccount_id","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormconfig","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.config</code>","text":"<pre><code>config: Mapped[dict[str, Any]] = mapped_column(JSONB, nullable=False, default=dict, server_default='{}')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormcreated_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormdeleted_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormends_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.ends_at</code>","text":"<pre><code>ends_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormfrom_domain","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.from_domain</code>","text":"<pre><code>from_domain(entity)\n</code></pre> <p>Convert domain entity to ORM model.</p> <p>Parameters:</p> <ul> <li>entity (<code>BoardTemplate</code>) \u2013 The BoardTemplate domain entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateORM</code> \u2013 BoardTemplateORM model with all fields populated from domain entity.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormgame","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.game</code>","text":"<pre><code>game: Mapped[GameORM] = relationship('GameORM')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormgame_id","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.game_id</code>","text":"<pre><code>game_id: Mapped[UUID] = mapped_column(ForeignKey('games.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormicon","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.icon</code>","text":"<pre><code>icon: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormid","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormis_active","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.is_active</code>","text":"<pre><code>is_active: Mapped[bool] = mapped_column(Boolean, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormis_published","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.is_published</code>","text":"<pre><code>is_published: Mapped[bool] = mapped_column(Boolean, nullable=False, default=True, server_default=(sa.text('true')))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormkeep_strategy","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.keep_strategy</code>","text":"<pre><code>keep_strategy: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormname","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.name</code>","text":"<pre><code>name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormname_template","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.name_template</code>","text":"<pre><code>name_template: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormnext_run_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.next_run_at</code>","text":"<pre><code>next_run_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormrepeat_interval","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.repeat_interval</code>","text":"<pre><code>repeat_interval: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormseries","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.series</code>","text":"<pre><code>series: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormslug","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.slug</code>","text":"<pre><code>slug: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormsort_direction","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.sort_direction</code>","text":"<pre><code>sort_direction: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormstarts_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.starts_at</code>","text":"<pre><code>starts_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormtags","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.tags</code>","text":"<pre><code>tags: Mapped[list[str]] = mapped_column(ARRAY(String), nullable=False, default=list, server_default='{}')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormto_domain","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p> <p>Returns:</p> <ul> <li><code>BoardTemplate</code> \u2013 BoardTemplate domain entity with all fields populated from ORM model.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormunit","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.unit</code>","text":"<pre><code>unit: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsadaptersormboardtemplateormupdated_at","title":"# <code>leadr.boards.adapters.orm.BoardTemplateORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapi","title":"<code>leadr.boards.api</code>","text":"<p>Modules:</p> <ul> <li>board_routes \u2013 Board API routes.</li> <li>board_schemas \u2013 API request and response models for boards.</li> <li>board_template_routes \u2013 Board template API routes.</li> <li>board_template_schemas \u2013 API request and response models for board templates.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routes","title":"<code>leadr.boards.api.board_routes</code>","text":"<p>Board API routes.</p> <p>Functions:</p> <ul> <li>create_board \u2013 Create a new board.</li> <li>get_board \u2013 Get a board by ID.</li> <li>handle_list_boards \u2013 Shared handler for listing boards with filtering.</li> <li>list_boards_admin \u2013 List boards (Admin API).</li> <li>list_boards_client \u2013 List boards (Client API).</li> <li>update_board \u2013 Update a board.</li> </ul> <p>Attributes:</p> <ul> <li>client_router \u2013</li> <li>logger \u2013</li> <li>router \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routesclient_router","title":"<code>leadr.boards.api.board_routes.client_router</code>","text":"<pre><code>client_router = APIRouter()\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_routescreate_board","title":"<code>leadr.boards.api.board_routes.create_board</code>","text":"<pre><code>create_board(request, service, auth)\n</code></pre> <p>Create a new board.</p> <p>Creates a new leaderboard associated with an existing game and account. The game must belong to the specified account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Parameters:</p> <ul> <li>request (<code>BoardCreateRequest</code>) \u2013 Board creation details including account_id, game_id, name, and settings.</li> <li>service (<code>BoardServiceDep</code>) \u2013 Injected board service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardResponse</code> \u2013 BoardResponse with the created board including auto-generated ID and timestamps.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Game or account not found.</li> <li><code>400</code> \u2013 Game doesn't belong to the specified account.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routesget_board","title":"<code>leadr.boards.api.board_routes.get_board</code>","text":"<pre><code>get_board(board_id, service, auth)\n</code></pre> <p>Get a board by ID.</p> <p>Parameters:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013 Unique identifier for the board.</li> <li>service (<code>BoardServiceDep</code>) \u2013 Injected board service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardResponse</code> \u2013 BoardResponse with full board details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this board's account.</li> <li><code>404</code> \u2013 Board not found.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routeshandle_list_boards","title":"<code>leadr.boards.api.board_routes.handle_list_boards</code>","text":"<pre><code>handle_list_boards(auth, service, game_service, pagination, account_id, game_id, code, game_slug, slug, is_active, is_published, starts_before, starts_after, ends_before, ends_after)\n</code></pre> <p>Shared handler for listing boards with filtering.</p> <p>Parameters:</p> <ul> <li>auth (<code>AuthContext</code>) \u2013 Authentication context with user info.</li> <li>service (<code>BoardService</code>) \u2013 Board service instance.</li> <li>game_service (<code>GameService</code>) \u2013 Game service instance for game_slug resolution.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter boards by.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter boards by.</li> <li>code (<code>str | None</code>) \u2013 Optional short code to filter boards by.</li> <li>game_slug (<code>str | None</code>) \u2013 Optional game slug to filter boards by game (resolves to game_id).</li> <li>slug (<code>str | None</code>) \u2013 Optional board slug to filter by specific board (requires game_slug).</li> <li>is_active (<code>bool | None</code>) \u2013 Optional filter for active status.</li> <li>is_published (<code>bool | None</code>) \u2013 Optional filter for published status.</li> <li>starts_before (<code>datetime | None</code>) \u2013 Optional filter for boards starting before this time.</li> <li>starts_after (<code>datetime | None</code>) \u2013 Optional filter for boards starting after this time.</li> <li>ends_before (<code>datetime | None</code>) \u2013 Optional filter for boards ending before this time.</li> <li>ends_after (<code>datetime | None</code>) \u2013 Optional filter for boards ending after this time.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[BoardResponse]</code> \u2013 PaginatedResponse with boards and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>404</code> \u2013 Game or board not found when using slug filters.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routeslist_boards_admin","title":"<code>leadr.boards.api.board_routes.list_boards_admin</code>","text":"<pre><code>list_boards_admin(auth, service, game_service, pagination, account_id=None, game_id=None, code=None, game_slug=None, slug=None, is_active=None, is_published=None, starts_before=None, starts_after=None, ends_before=None, ends_after=None)\n</code></pre> <p>List boards (Admin API).</p> <p>For regular users:</p> <ul> <li>If account_id not provided, defaults to their API key's account</li> <li>If account_id provided and they are superadmin, can access any account</li> <li>If account_id provided and NOT superadmin, must match their account (validated in AuthContext)</li> </ul> <p>Filtering:</p> <ul> <li>Use ?game_id={id} or ?game_slug={slug} to filter boards by game</li> <li>Use ?game_slug={game_slug}&amp;slug={slug} to find a specific board within a game</li> <li>Use ?code={code} to filter boards by short code</li> <li>Use ?is_active=true/false to filter by active status</li> <li>Use ?is_published=true/false to filter by published status</li> <li>Use ?starts_before=&amp;starts_after= for start date range <li>Use ?ends_before=&amp;ends_after= for end date range <li>Note: board slug filter requires game_slug parameter</li> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, slug, short_code, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/boards?account_id=acc_123&amp;limit=50&amp;sort=name:asc GET /v1/boards?game_slug=my-game&amp;is_active=true GET /v1/boards?game_slug=my-game&amp;slug=weekly-challenge GET /v1/boards?starts_after=2025-01-01T00:00:00Z&amp;ends_before=2025-12-31T23:59:59Z   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Admin authentication context with user info.</li> <li>service (<code>BoardServiceDep</code>) \u2013 Injected board service dependency.</li> <li>game_service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Filter by account ID')]</code>) \u2013 Optional account ID to filter boards by.</li> <li>game_id (<code>Annotated[GameID | None, Query(description='Filter by game ID')]</code>) \u2013 Optional game ID to filter boards by.</li> <li>code (<code>Annotated[str | None, Query(description='Filter by short code')]</code>) \u2013 Optional short code to filter boards by.</li> <li>game_slug (<code>Annotated[str | None, Query(description='Filter by game slug')]</code>) \u2013 Optional game slug to filter boards by game (resolves to game_id).</li> <li>slug (<code>Annotated[str | None, Query(description='Filter by board slug (requires game_slug)')]</code>) \u2013 Optional board slug to filter by specific board (requires game_slug).</li> <li>is_active (<code>Annotated[bool | None, Query(description='Filter by active status')]</code>) \u2013 Optional filter for active status.</li> <li>is_published (<code>Annotated[bool | None, Query(description='Filter by published status')]</code>) \u2013 Optional filter for published status.</li> <li>starts_before (<code>Annotated[datetime | None, Query(description='Filter boards starting before this time (ISO 8601)')]</code>) \u2013 Optional filter for boards starting before this time.</li> <li>starts_after (<code>Annotated[datetime | None, Query(description='Filter boards starting after this time (ISO 8601)')]</code>) \u2013 Optional filter for boards starting after this time.</li> <li>ends_before (<code>Annotated[datetime | None, Query(description='Filter boards ending before this time (ISO 8601)')]</code>) \u2013 Optional filter for boards ending before this time.</li> <li>ends_after (<code>Annotated[datetime | None, Query(description='Filter boards ending after this time (ISO 8601)')]</code>) \u2013 Optional filter for boards ending after this time.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[BoardResponse]</code> \u2013 PaginatedResponse with boards and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, cursor state mismatch, or slug without game_slug.</li> <li><code>404</code> \u2013 Game or board not found when using slug filters.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routeslist_boards_client","title":"<code>leadr.boards.api.board_routes.list_boards_client</code>","text":"<pre><code>list_boards_client(auth, service, game_service, pagination, game_id=None, code=None, game_slug=None, slug=None, is_published=None, starts_before=None, starts_after=None, ends_before=None, ends_after=None)\n</code></pre> <p>List boards (Client API).</p> <p>Account ID is automatically derived from the authenticated device's account. Clients can optionally filter by various criteria to find specific boards.</p> <p>Filtering:</p> <ul> <li>Use ?game_id={id} or ?game_slug={slug} to filter boards by game</li> <li>Use ?game_slug={game_slug}&amp;slug={slug} to find a specific board within a game</li> <li>Use ?code={code} to filter boards by short code</li> <li>Use ?is_published=true/false to filter by published status</li> <li>Use ?starts_before=&amp;starts_after= for start date range <li>Use ?ends_before=&amp;ends_after= for end date range <li>Note: board slug filter requires game_slug parameter</li> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, slug, short_code, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/client/boards?code=WEEKLY-CHALLENGE&amp;limit=50 GET /v1/client/boards?game_slug=my-game&amp;is_published=true GET /v1/client/boards?game_slug=my-game&amp;slug=weekly-challenge GET /v1/client/boards?starts_after=2025-01-01T00:00:00Z   <p>Parameters:</p> <ul> <li>auth (<code>ClientAuthContextDep</code>) \u2013 Client authentication context with device info.</li> <li>service (<code>BoardServiceDep</code>) \u2013 Injected board service dependency.</li> <li>game_service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>game_id (<code>Annotated[GameID | None, Query(description='Filter by game ID')]</code>) \u2013 Optional game ID to filter boards by.</li> <li>code (<code>Annotated[str | None, Query(description='Filter by short code')]</code>) \u2013 Optional short code to filter boards by.</li> <li>game_slug (<code>Annotated[str | None, Query(description='Filter by game slug')]</code>) \u2013 Optional game slug to filter boards by game (resolves to game_id).</li> <li>slug (<code>Annotated[str | None, Query(description='Filter by board slug (requires game_slug)')]</code>) \u2013 Optional board slug to filter by specific board (requires game_slug).</li> <li>is_published (<code>Annotated[bool | None, Query(description='Filter by published status')]</code>) \u2013 Optional filter for published status.</li> <li>starts_before (<code>Annotated[datetime | None, Query(description='Filter boards starting before this time (ISO 8601)')]</code>) \u2013 Optional filter for boards starting before this time.</li> <li>starts_after (<code>Annotated[datetime | None, Query(description='Filter boards starting after this time (ISO 8601)')]</code>) \u2013 Optional filter for boards starting after this time.</li> <li>ends_before (<code>Annotated[datetime | None, Query(description='Filter boards ending before this time (ISO 8601)')]</code>) \u2013 Optional filter for boards ending before this time.</li> <li>ends_after (<code>Annotated[datetime | None, Query(description='Filter boards ending after this time (ISO 8601)')]</code>) \u2013 Optional filter for boards ending after this time.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[BoardResponse]</code> \u2013 PaginatedResponse with boards and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, cursor state mismatch, or slug without game_slug.</li> <li><code>404</code> \u2013 Game or board not found when using slug filters.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_routeslogger","title":"<code>leadr.boards.api.board_routes.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_routesrouter","title":"<code>leadr.boards.api.board_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_routesupdate_board","title":"<code>leadr.boards.api.board_routes.update_board</code>","text":"<pre><code>update_board(board_id, request, service, auth)\n</code></pre> <p>Update a board.</p> <p>Supports updating any board field or soft-deleting the board.</p> <p>Parameters:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013 Unique identifier for the board.</li> <li>request (<code>BoardUpdateRequest</code>) \u2013 Board update details (all fields optional).</li> <li>service (<code>BoardServiceDep</code>) \u2013 Injected board service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardResponse</code> \u2013 BoardResponse with the updated board details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this board's account.</li> <li><code>404</code> \u2013 Board not found.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemas","title":"<code>leadr.boards.api.board_schemas</code>","text":"<p>API request and response models for boards.</p> <p>Classes:</p> <ul> <li>BoardCreateRequest \u2013 Request model for creating a board.</li> <li>BoardResponse \u2013 Response model for a board.</li> <li>BoardUpdateRequest \u2013 Request model for updating a board.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequest","title":"<code>leadr.boards.api.board_schemas.BoardCreateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for creating a board.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>short_code (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> <li>template_name (<code>str | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestaccount_id","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this board belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestcreated_from_template_id","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.created_from_template_id</code>","text":"<pre><code>created_from_template_id: BoardTemplateID | None = Field(default=None, description='Optional template ID this board was created from')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestdescription","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Optional short description of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestends_at","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Optional end time for time-bounded boards (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestgame_id","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this board belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequesticon","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.icon</code>","text":"<pre><code>icon: str | None = Field(default='fa-crown', description=\"Icon identifier for the board. Defaults to 'fa-crown'\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestis_active","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.is_active</code>","text":"<pre><code>is_active: bool = Field(default=True, description='Whether the board is currently active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestis_published","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.is_published</code>","text":"<pre><code>is_published: bool = Field(default=True, description='Whether the board is published and visible on public web views')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestkeep_strategy","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(default=(KeepStrategy.ALL), description='Strategy for keeping multiple scores from the same user')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestname","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.name</code>","text":"<pre><code>name: str = Field(description='Name of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestshort_code","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.short_code</code>","text":"<pre><code>short_code: str | None = Field(default=None, description='Globally unique short code for direct sharing. Auto-generated if not provided')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestslug","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='Optional URL-friendly slug. If not provided, will be auto-generated from name')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestsort_direction","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(default=(SortDirection.DESCENDING), description='Direction to sort scores')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequeststarts_at","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Optional start time for time-bounded boards (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequesttags","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='Optional list of tags for categorization')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequesttemplate_name","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.template_name</code>","text":"<pre><code>template_name: str | None = Field(default=None, description='Optional template name this board was created from')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardcreaterequestunit","title":"# <code>leadr.boards.api.board_schemas.BoardCreateRequest.unit</code>","text":"<pre><code>unit: str | None = Field(default=None, description=\"Unit of measurement for scores (e.g., 'seconds', 'points'). Optional\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponse","title":"<code>leadr.boards.api.board_schemas.BoardResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a board.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>id (<code>BoardID</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>short_code (<code>str</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>template_name (<code>str | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>url_short (<code>str | None</code>) \u2013 Short URL for direct board access via short_code.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseaccount_id","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this board belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsecreated_at","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the board was created (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsecreated_from_template_id","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.created_from_template_id</code>","text":"<pre><code>created_from_template_id: BoardTemplateID | None = Field(default=None, description='Template ID this board was created from, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsedescription","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Short description of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseends_at","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='End time for time-bounded boards (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsefrom_domain","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.from_domain</code>","text":"<pre><code>from_domain(board)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>board (<code>Board</code>) \u2013 The domain Board entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardResponse</code> \u2013 BoardResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsegame_id","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this board belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseicon","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.icon</code>","text":"<pre><code>icon: str | None = Field(description='Icon identifier for the board, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseid","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.id</code>","text":"<pre><code>id: BoardID = Field(description='Unique identifier for the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseis_active","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.is_active</code>","text":"<pre><code>is_active: bool = Field(description='Whether the board is currently active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseis_published","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.is_published</code>","text":"<pre><code>is_published: bool = Field(description='Whether the board is published and visible on public web views')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsekeep_strategy","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(description='Strategy for keeping scores from same user')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsename","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.name</code>","text":"<pre><code>name: str = Field(description='Name of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseshort_code","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.short_code</code>","text":"<pre><code>short_code: str = Field(description='Globally unique short code for direct sharing')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseslug","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.slug</code>","text":"<pre><code>slug: str = Field(description='URL-friendly slug for the board (auto-generated, read-only)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsesort_direction","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(description='Direction to sort scores')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsestarts_at","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Start time for time-bounded boards (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsetags","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.tags</code>","text":"<pre><code>tags: list[str] = Field(default_factory=list, description='List of tags for categorization')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponsetemplate_name","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.template_name</code>","text":"<pre><code>template_name: str | None = Field(default=None, description='Template name this board was created from, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseunit","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.unit</code>","text":"<pre><code>unit: str | None = Field(description='Unit of measurement for scores, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseupdated_at","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardresponseurl_short","title":"# <code>leadr.boards.api.board_schemas.BoardResponse.url_short</code>","text":"<pre><code>url_short: str | None\n</code></pre> <p>Short URL for direct board access via short_code.</p> <p>Returns the URL if BOARDS_UI_DOMAIN is configured and the board is published, otherwise None.</p>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequest","title":"<code>leadr.boards.api.board_schemas.BoardUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a board.</p> <p>Attributes:</p> <ul> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013</li> <li>deleted (<code>bool | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>is_active (<code>bool | None</code>) \u2013</li> <li>is_published (<code>bool | None</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy | None</code>) \u2013</li> <li>name (<code>str | None</code>) \u2013</li> <li>short_code (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection | None</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> <li>template_name (<code>str | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestcreated_from_template_id","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.created_from_template_id</code>","text":"<pre><code>created_from_template_id: BoardTemplateID | None = Field(default=None, description='Updated template ID')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestdeleted","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestdescription","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Updated board description')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestends_at","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Updated end time')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequesticon","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.icon</code>","text":"<pre><code>icon: str | None = Field(default=None, description='Updated icon identifier')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestis_active","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.is_active</code>","text":"<pre><code>is_active: bool | None = Field(default=None, description='Updated active status')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestis_published","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.is_published</code>","text":"<pre><code>is_published: bool | None = Field(default=None, description='Updated published status')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestkeep_strategy","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy | None = Field(default=None, description='Updated keep strategy')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestname","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.name</code>","text":"<pre><code>name: str | None = Field(default=None, description='Updated board name')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestshort_code","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.short_code</code>","text":"<pre><code>short_code: str | None = Field(default=None, description='Updated short code')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestsort_direction","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection | None = Field(default=None, description='Updated sort direction')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequeststarts_at","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Updated start time')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequesttags","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='Updated tags list')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequesttemplate_name","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.template_name</code>","text":"<pre><code>template_name: str | None = Field(default=None, description='Updated template name')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_schemasboardupdaterequestunit","title":"# <code>leadr.boards.api.board_schemas.BoardUpdateRequest.unit</code>","text":"<pre><code>unit: str | None = Field(default=None, description='Updated unit of measurement')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routes","title":"<code>leadr.boards.api.board_template_routes</code>","text":"<p>Board template API routes.</p> <p>Functions:</p> <ul> <li>create_board_template \u2013 Create a new board template.</li> <li>get_board_template \u2013 Get a board template by ID.</li> <li>list_board_templates \u2013 List board templates for an account with pagination, optionally filtered by game.</li> <li>update_board_template \u2013 Update a board template.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routescreate_board_template","title":"<code>leadr.boards.api.board_template_routes.create_board_template</code>","text":"<pre><code>create_board_template(request, service, auth)\n</code></pre> <p>Create a new board template.</p> <p>Creates a template for automatically generating boards at regular intervals. The game must belong to the specified account.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Parameters:</p> <ul> <li>request (<code>BoardTemplateCreateRequest</code>) \u2013 Template creation details including repeat_interval and configuration.</li> <li>service (<code>BoardTemplateServiceDep</code>) \u2013 Injected board template service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateResponse</code> \u2013 BoardTemplateResponse with the created template including auto-generated ID.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Game or account not found.</li> <li><code>400</code> \u2013 Game doesn't belong to the specified account.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routesget_board_template","title":"<code>leadr.boards.api.board_template_routes.get_board_template</code>","text":"<pre><code>get_board_template(template_id, service, auth)\n</code></pre> <p>Get a board template by ID.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 Unique identifier for the template.</li> <li>service (<code>BoardTemplateServiceDep</code>) \u2013 Injected board template service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateResponse</code> \u2013 BoardTemplateResponse with full template details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this template's account.</li> <li><code>404</code> \u2013 Template not found.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routeslist_board_templates","title":"<code>leadr.boards.api.board_template_routes.list_board_templates</code>","text":"<pre><code>list_board_templates(auth, service, pagination, account_id=None, game_id=None)\n</code></pre> <p>List board templates for an account with pagination, optionally filtered by game.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns templates from all accounts.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/board-templates?account_id=acc_123&amp;game_id=gam_456&amp;limit=50&amp;sort=name:asc   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>BoardTemplateServiceDep</code>) \u2013 Injected board template service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>game_id (<code>Annotated[GameID | None, Query(description='Filter by game ID')]</code>) \u2013 Optional game ID to filter templates by.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[BoardTemplateResponse]</code> \u2013 PaginatedResponse with board templates and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routesrouter","title":"<code>leadr.boards.api.board_template_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_routesupdate_board_template","title":"<code>leadr.boards.api.board_template_routes.update_board_template</code>","text":"<pre><code>update_board_template(template_id, request, service, auth)\n</code></pre> <p>Update a board template.</p> <p>Supports updating any template field or soft-deleting the template.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 Unique identifier for the template.</li> <li>request (<code>BoardTemplateUpdateRequest</code>) \u2013 Template update details (all fields optional).</li> <li>service (<code>BoardTemplateServiceDep</code>) \u2013 Injected board template service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateResponse</code> \u2013 BoardTemplateResponse with the updated template details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this template's account.</li> <li><code>404</code> \u2013 Template not found.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemas","title":"<code>leadr.boards.api.board_template_schemas</code>","text":"<p>API request and response models for board templates.</p> <p>Classes:</p> <ul> <li>BoardTemplateCreateRequest \u2013 Request model for creating a board template.</li> <li>BoardTemplateResponse \u2013 Response model for a board template.</li> <li>BoardTemplateUpdateRequest \u2013 Request model for updating a board template.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequest","title":"<code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for creating a board template.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>config (<code>dict[str, Any] | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>name_template (<code>str | None</code>) \u2013</li> <li>next_run_at (<code>datetime</code>) \u2013</li> <li>repeat_interval (<code>str</code>) \u2013</li> <li>series (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestaccount_id","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this template belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestconfig","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.config</code>","text":"<pre><code>config: dict[str, Any] | None = Field(default=None, description='Reserved for future procedural generation (bounds, variables, randomization rules)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestends_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Optional end time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestgame_id","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this template belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequesticon","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.icon</code>","text":"<pre><code>icon: str | None = Field(default='fa-crown', description='Icon identifier for boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestis_active","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.is_active</code>","text":"<pre><code>is_active: bool = Field(description='Whether the template is currently active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestis_published","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.is_published</code>","text":"<pre><code>is_published: bool = Field(default=True, description='Whether boards created from this template should be published')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestkeep_strategy","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(default=(KeepStrategy.ALL), description='Strategy for keeping multiple scores from the same user')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestname","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.name</code>","text":"<pre><code>name: str = Field(description='Name of the template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestname_template","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.name_template</code>","text":"<pre><code>name_template: str | None = Field(default=None, description='Optional template string for generating board names')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestnext_run_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.next_run_at</code>","text":"<pre><code>next_run_at: datetime = Field(description='Next scheduled time to create a board from this template (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestrepeat_interval","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.repeat_interval</code>","text":"<pre><code>repeat_interval: str = Field(description=\"PostgreSQL interval syntax for repeat frequency (e.g., '7 days', '1 month')\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestseries","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.series</code>","text":"<pre><code>series: str | None = Field(default=None, description='Optional series identifier for sequential board naming')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestslug","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='URL-friendly slug for boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestsort_direction","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(default=(SortDirection.DESCENDING), description='Direction to sort scores (ascending/descending)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequeststarts_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Optional start time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequesttags","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='List of tags for categorizing boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplatecreaterequestunit","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateCreateRequest.unit</code>","text":"<pre><code>unit: str | None = Field(default=None, description=\"Unit of measurement for scores (e.g., 'seconds', 'points')\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponse","title":"<code>leadr.boards.api.board_template_schemas.BoardTemplateResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a board template.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>config (<code>dict[str, Any]</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>id (<code>BoardTemplateID</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>name_template (<code>str | None</code>) \u2013</li> <li>next_run_at (<code>datetime</code>) \u2013</li> <li>repeat_interval (<code>str</code>) \u2013</li> <li>series (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseaccount_id","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this template belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseconfig","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.config</code>","text":"<pre><code>config: dict[str, Any] = Field(default_factory=dict, description='Reserved for future procedural generation (bounds, variables, randomization rules)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsecreated_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the template was created (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseends_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(description='Optional end time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsefrom_domain","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.from_domain</code>","text":"<pre><code>from_domain(template)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>template (<code>BoardTemplate</code>) \u2013 The domain BoardTemplate entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateResponse</code> \u2013 BoardTemplateResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsegame_id","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this template belongs to')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseicon","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.icon</code>","text":"<pre><code>icon: str | None = Field(description='Icon identifier for boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseid","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.id</code>","text":"<pre><code>id: BoardTemplateID = Field(description='Unique identifier for the template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseis_active","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.is_active</code>","text":"<pre><code>is_active: bool = Field(description='Whether the template is currently active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseis_published","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.is_published</code>","text":"<pre><code>is_published: bool = Field(description='Whether boards created from this template should be published')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsekeep_strategy","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(description='Strategy for keeping multiple scores from the same user')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsename","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.name</code>","text":"<pre><code>name: str = Field(description='Name of the template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsename_template","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.name_template</code>","text":"<pre><code>name_template: str | None = Field(default=None, description='Template string for generating board names, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsenext_run_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.next_run_at</code>","text":"<pre><code>next_run_at: datetime = Field(description='Next scheduled run time (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponserepeat_interval","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.repeat_interval</code>","text":"<pre><code>repeat_interval: str = Field(description='Repeat frequency in PostgreSQL interval syntax')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseseries","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.series</code>","text":"<pre><code>series: str | None = Field(default=None, description='Series identifier for sequential board naming, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseslug","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.slug</code>","text":"<pre><code>slug: str | None = Field(description='URL-friendly slug for boards created from this template, or null')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsesort_direction","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(description='Direction to sort scores (ascending/descending)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsestarts_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(description='Optional start time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponsetags","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.tags</code>","text":"<pre><code>tags: list[str] = Field(description='List of tags for categorizing boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseunit","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.unit</code>","text":"<pre><code>unit: str | None = Field(description=\"Unit of measurement for scores (e.g., 'seconds', 'points')\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateresponseupdated_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequest","title":"<code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a board template.</p> <p>Attributes:</p> <ul> <li>config (<code>dict[str, Any] | None</code>) \u2013</li> <li>deleted (<code>bool | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>is_active (<code>bool | None</code>) \u2013</li> <li>is_published (<code>bool | None</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy | None</code>) \u2013</li> <li>name (<code>str | None</code>) \u2013</li> <li>name_template (<code>str | None</code>) \u2013</li> <li>next_run_at (<code>datetime | None</code>) \u2013</li> <li>repeat_interval (<code>str | None</code>) \u2013</li> <li>series (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection | None</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestconfig","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.config</code>","text":"<pre><code>config: dict[str, Any] | None = Field(default=None, description='Updated config (reserved for procedural generation)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestdeleted","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestends_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Updated end time')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequesticon","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.icon</code>","text":"<pre><code>icon: str | None = Field(default=None, description='Updated icon identifier')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestis_active","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.is_active</code>","text":"<pre><code>is_active: bool | None = Field(default=None, description='Updated active status')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestis_published","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.is_published</code>","text":"<pre><code>is_published: bool | None = Field(default=None, description='Updated published status')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestkeep_strategy","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy | None = Field(default=None, description='Updated keep strategy')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestname","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.name</code>","text":"<pre><code>name: str | None = Field(default=None, description='Updated template name')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestname_template","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.name_template</code>","text":"<pre><code>name_template: str | None = Field(default=None, description='Updated name template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestnext_run_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.next_run_at</code>","text":"<pre><code>next_run_at: datetime | None = Field(default=None, description='Updated next run time')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestrepeat_interval","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.repeat_interval</code>","text":"<pre><code>repeat_interval: str | None = Field(default=None, description='Updated repeat interval')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestseries","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.series</code>","text":"<pre><code>series: str | None = Field(default=None, description='Updated series identifier')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestslug","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='Updated slug')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestsort_direction","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection | None = Field(default=None, description='Updated sort direction')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequeststarts_at","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Updated start time')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequesttags","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='Updated tags list')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsapiboard_template_schemasboardtemplateupdaterequestunit","title":"# <code>leadr.boards.api.board_template_schemas.BoardTemplateUpdateRequest.unit</code>","text":"<pre><code>unit: str | None = Field(default=None, description='Updated unit of measurement')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomain","title":"<code>leadr.boards.domain</code>","text":"<p>Modules:</p> <ul> <li>board \u2013 Board domain model.</li> <li>board_template \u2013 BoardTemplate domain model.</li> <li>interval_parser \u2013 Utilities for parsing PostgreSQL interval syntax.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard","title":"<code>leadr.boards.domain.board</code>","text":"<p>Board domain model.</p> <p>Classes:</p> <ul> <li>Board \u2013 Board domain entity.</li> <li>KeepStrategy \u2013 Strategy for keeping scores from the same user.</li> <li>SortDirection \u2013 Sort direction for board scores.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardboard","title":"<code>leadr.boards.domain.board.Board</code>","text":"<p>Bases: <code>Entity</code></p> <p>Board domain entity.</p> <p>Represents a leaderboard/board that belongs to a game. Boards define how scores are tracked, sorted, and displayed. Each board has a globally unique short_code for direct sharing and can be time-bounded with start/end dates.</p> <p>Each board belongs to exactly one game and inherits the game's account for multi-tenancy. Boards can be created from templates and can have custom tags for categorization.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_name \u2013 Validate board name is not empty.</li> <li>validate_short_code \u2013 Validate short_code is not empty.</li> <li>validate_slug \u2013 Validate slug format (lowercase alphanumeric with hyphens).</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>id (<code>BoardID</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>short_code (<code>str</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>template_name (<code>str | None</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardaccount_id","title":"# <code>leadr.boards.domain.board.Board.account_id</code>","text":"<pre><code>account_id: AccountID = Field(frozen=True, description='ID of the account this board belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardcreated_at","title":"# <code>leadr.boards.domain.board.Board.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardcreated_from_template_id","title":"# <code>leadr.boards.domain.board.Board.created_from_template_id</code>","text":"<pre><code>created_from_template_id: BoardTemplateID | None = Field(default=None, description='Optional template ID this board was created from')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboarddeleted_at","title":"# <code>leadr.boards.domain.board.Board.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboarddescription","title":"# <code>leadr.boards.domain.board.Board.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Short description of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardends_at","title":"# <code>leadr.boards.domain.board.Board.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Optional end time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardgame_id","title":"# <code>leadr.boards.domain.board.Board.game_id</code>","text":"<pre><code>game_id: GameID = Field(frozen=True, description='ID of the game this board belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardicon","title":"# <code>leadr.boards.domain.board.Board.icon</code>","text":"<pre><code>icon: str | None = Field(description='Icon identifier for the board', default='fa-crown')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardid","title":"# <code>leadr.boards.domain.board.Board.id</code>","text":"<pre><code>id: BoardID = Field(frozen=True, default_factory=BoardID, description='Unique board identifier')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardis_active","title":"# <code>leadr.boards.domain.board.Board.is_active</code>","text":"<pre><code>is_active: bool = Field(description='Whether the board is currently active', default=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardis_deleted","title":"# <code>leadr.boards.domain.board.Board.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardis_published","title":"# <code>leadr.boards.domain.board.Board.is_published</code>","text":"<pre><code>is_published: bool = Field(description='Whether the board is published and visible on public web views', default=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardkeep_strategy","title":"# <code>leadr.boards.domain.board.Board.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(description='Strategy for keeping multiple scores from the same user', default=(KeepStrategy.ALL))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardmodel_config","title":"# <code>leadr.boards.domain.board.Board.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardname","title":"# <code>leadr.boards.domain.board.Board.name</code>","text":"<pre><code>name: str = Field(description='Name of the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardrestore","title":"# <code>leadr.boards.domain.board.Board.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/boards/#leadrboardsdomainboardboardshort_code","title":"# <code>leadr.boards.domain.board.Board.short_code</code>","text":"<pre><code>short_code: str = Field(description='Globally unique short code for direct board sharing')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardslug","title":"# <code>leadr.boards.domain.board.Board.slug</code>","text":"<pre><code>slug: str = Field(description='URL-friendly slug for the board (unique per game when active)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardsoft_delete","title":"# <code>leadr.boards.domain.board.Board.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/boards/#leadrboardsdomainboardboardsort_direction","title":"# <code>leadr.boards.domain.board.Board.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(description='Direction to sort scores (ascending/descending)', default=(SortDirection.DESCENDING))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardstarts_at","title":"# <code>leadr.boards.domain.board.Board.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Optional start time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardtags","title":"# <code>leadr.boards.domain.board.Board.tags</code>","text":"<pre><code>tags: list[str] = Field(default_factory=list, description='List of tags for categorizing the board')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardtemplate_name","title":"# <code>leadr.boards.domain.board.Board.template_name</code>","text":"<pre><code>template_name: str | None = Field(default=None, description='Optional name of the template this board was created from')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardunit","title":"# <code>leadr.boards.domain.board.Board.unit</code>","text":"<pre><code>unit: str | None = Field(description=\"Unit of measurement for scores (e.g., 'seconds', 'points')\", default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardupdated_at","title":"# <code>leadr.boards.domain.board.Board.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardvalidate_name","title":"# <code>leadr.boards.domain.board.Board.validate_name</code>","text":"<pre><code>validate_name(value)\n</code></pre> <p>Validate board name is not empty.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The board name to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed board name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If board name is empty or whitespace only.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardvalidate_short_code","title":"# <code>leadr.boards.domain.board.Board.validate_short_code</code>","text":"<pre><code>validate_short_code(value)\n</code></pre> <p>Validate short_code is not empty.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The short_code to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed short_code.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If short_code is empty or whitespace only.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardboardvalidate_slug","title":"# <code>leadr.boards.domain.board.Board.validate_slug</code>","text":"<pre><code>validate_slug(value)\n</code></pre> <p>Validate slug format (lowercase alphanumeric with hyphens).</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The slug to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated slug.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If slug is invalid.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardkeepstrategy","title":"<code>leadr.boards.domain.board.KeepStrategy</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Strategy for keeping scores from the same user.</p> <p>Attributes:</p> <ul> <li>ALL \u2013</li> <li>BEST_ONLY \u2013</li> <li>FIRST_ONLY \u2013</li> <li>LATEST_ONLY \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardkeepstrategyall","title":"# <code>leadr.boards.domain.board.KeepStrategy.ALL</code>","text":"<pre><code>ALL = 'ALL'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardkeepstrategybest_only","title":"# <code>leadr.boards.domain.board.KeepStrategy.BEST_ONLY</code>","text":"<pre><code>BEST_ONLY = 'BEST_ONLY'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardkeepstrategyfirst_only","title":"# <code>leadr.boards.domain.board.KeepStrategy.FIRST_ONLY</code>","text":"<pre><code>FIRST_ONLY = 'FIRST_ONLY'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardkeepstrategylatest_only","title":"# <code>leadr.boards.domain.board.KeepStrategy.LATEST_ONLY</code>","text":"<pre><code>LATEST_ONLY = 'LATEST_ONLY'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardsortdirection","title":"<code>leadr.boards.domain.board.SortDirection</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Sort direction for board scores.</p> <p>Attributes:</p> <ul> <li>ASCENDING \u2013</li> <li>DESCENDING \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboardsortdirectionascending","title":"# <code>leadr.boards.domain.board.SortDirection.ASCENDING</code>","text":"<pre><code>ASCENDING = 'ASCENDING'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboardsortdirectiondescending","title":"# <code>leadr.boards.domain.board.SortDirection.DESCENDING</code>","text":"<pre><code>DESCENDING = 'DESCENDING'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_template","title":"<code>leadr.boards.domain.board_template</code>","text":"<p>BoardTemplate domain model.</p> <p>Classes:</p> <ul> <li>BoardTemplate \u2013 BoardTemplate domain entity.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplate","title":"<code>leadr.boards.domain.board_template.BoardTemplate</code>","text":"<p>Bases: <code>Entity</code></p> <p>BoardTemplate domain entity.</p> <p>Represents a template for automatically generating boards at regular intervals. Templates belong to a game and define the configuration for boards that will be created by the pg_cron scheduler.</p> <p>Each template specifies a repeat interval (PostgreSQL interval syntax), configuration for boards to be created, and can optionally use template variables in the name generation. Templates can be activated/deactivated and track the next scheduled run.</p> <p>Functions:</p> <ul> <li>generate_name \u2013 Generate a board name using the name template.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_name \u2013 Validate template name is not empty.</li> <li>validate_repeat_interval \u2013 Validate repeat_interval uses PostgreSQL interval syntax.</li> <li>validate_slug \u2013 Validate slug format (lowercase alphanumeric with hyphens).</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>config (<code>dict[str, Any]</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>ends_at (<code>datetime | None</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>icon (<code>str | None</code>) \u2013</li> <li>id (<code>BoardTemplateID</code>) \u2013</li> <li>is_active (<code>bool</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>is_published (<code>bool</code>) \u2013</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>name_template (<code>str | None</code>) \u2013</li> <li>next_run_at (<code>datetime</code>) \u2013</li> <li>repeat_interval (<code>str</code>) \u2013</li> <li>series (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>sort_direction (<code>SortDirection</code>) \u2013</li> <li>starts_at (<code>datetime | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>unit (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateaccount_id","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.account_id</code>","text":"<pre><code>account_id: AccountID = Field(frozen=True, description='ID of the account this template belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateconfig","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.config</code>","text":"<pre><code>config: dict[str, Any] = Field(default_factory=dict, description='Reserved for future procedural generation (bounds, variables, randomization rules)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatecreated_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatedeleted_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateends_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.ends_at</code>","text":"<pre><code>ends_at: datetime | None = Field(default=None, description='Optional end time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplategame_id","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.game_id</code>","text":"<pre><code>game_id: GameID = Field(frozen=True, description='ID of the game this template belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplategenerate_name","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.generate_name</code>","text":"<pre><code>generate_name(timestamp, series_value)\n</code></pre> <p>Generate a board name using the name template.</p> <p>If name_template is None, returns the template's name. Otherwise, substitutes placeholders with values derived from the timestamp and series.</p> <p>Supported placeholders:</p> <ul> <li>{year}: 4-digit year (e.g., 2025)</li> <li>{month}: Full month name (e.g., July)</li> <li>{month_short}: Abbreviated month (e.g., Jul)</li> <li>{week}: ISO week number (e.g., 29)</li> <li>{quarter}: Quarter (e.g., Q1, Q2, Q3, Q4)</li> <li>{date}: ISO date (e.g., 2025-07-15)</li> <li>{series}: Sequential series value</li> </ul> <p>Parameters:</p> <ul> <li>timestamp (<code>datetime</code>) \u2013 The datetime to use for generating time-based placeholders.</li> <li>series_value (<code>int | None</code>) \u2013 Optional series value for {series} placeholder.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The generated board name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the name_template contains invalid placeholders or if   {series} is used but series_value is None.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateicon","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.icon</code>","text":"<pre><code>icon: str | None = Field(description='Icon identifier for boards created from this template', default='fa-crown')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateid","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.id</code>","text":"<pre><code>id: BoardTemplateID = Field(frozen=True, default_factory=BoardTemplateID, description='Unique board template identifier')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateis_active","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.is_active</code>","text":"<pre><code>is_active: bool = Field(description='Whether the template is currently active')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateis_deleted","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateis_published","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.is_published</code>","text":"<pre><code>is_published: bool = Field(description='Whether boards created from this template should be published', default=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatekeep_strategy","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.keep_strategy</code>","text":"<pre><code>keep_strategy: KeepStrategy = Field(description='Strategy for keeping multiple scores from the same user', default=(KeepStrategy.ALL))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatemodel_config","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatename","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.name</code>","text":"<pre><code>name: str = Field(description='Name of the template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatename_template","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.name_template</code>","text":"<pre><code>name_template: str | None = Field(default=None, description='Optional template string for generating board names')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatenext_run_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.next_run_at</code>","text":"<pre><code>next_run_at: datetime = Field(description='Next scheduled time to create a board from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplaterepeat_interval","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.repeat_interval</code>","text":"<pre><code>repeat_interval: str = Field(description=\"PostgreSQL interval syntax for repeat frequency (e.g., '7 days', '1 month')\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplaterestore","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateseries","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.series</code>","text":"<pre><code>series: str | None = Field(default=None, description=\"Optional series identifier for sequential board naming (e.g., 'weekly', 'seasonal')\")\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateslug","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='URL-friendly slug for boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatesoft_delete","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatesort_direction","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.sort_direction</code>","text":"<pre><code>sort_direction: SortDirection = Field(description='Direction to sort scores (ascending/descending)', default=(SortDirection.DESCENDING))\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatestarts_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.starts_at</code>","text":"<pre><code>starts_at: datetime | None = Field(default=None, description='Optional start time for time-bounded boards')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatetags","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.tags</code>","text":"<pre><code>tags: list[str] = Field(default_factory=list, description='List of tags for categorizing boards created from this template')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateunit","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.unit</code>","text":"<pre><code>unit: str | None = Field(description=\"Unit of measurement for scores (e.g., 'seconds', 'points')\", default=None)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplateupdated_at","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatevalidate_name","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.validate_name</code>","text":"<pre><code>validate_name(value)\n</code></pre> <p>Validate template name is not empty.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The template name to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed template name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If template name is empty or whitespace only.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatevalidate_repeat_interval","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.validate_repeat_interval</code>","text":"<pre><code>validate_repeat_interval(value)\n</code></pre> <p>Validate repeat_interval uses PostgreSQL interval syntax.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The interval string to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated interval string.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If interval syntax is invalid.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomainboard_templateboardtemplatevalidate_slug","title":"# <code>leadr.boards.domain.board_template.BoardTemplate.validate_slug</code>","text":"<pre><code>validate_slug(value)\n</code></pre> <p>Validate slug format (lowercase alphanumeric with hyphens).</p> <p>Parameters:</p> <ul> <li>value (<code>str | None</code>) \u2013 The slug to validate, or None.</li> </ul> <p>Returns:</p> <ul> <li><code>str | None</code> \u2013 The validated slug, or None if not provided.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If slug is invalid.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomaininterval_parser","title":"<code>leadr.boards.domain.interval_parser</code>","text":"<p>Utilities for parsing PostgreSQL interval syntax.</p> <p>Functions:</p> <ul> <li>parse_interval_to_timedelta \u2013 Parse PostgreSQL interval syntax to Python timedelta.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsdomaininterval_parserparse_interval_to_timedelta","title":"<code>leadr.boards.domain.interval_parser.parse_interval_to_timedelta</code>","text":"<pre><code>parse_interval_to_timedelta(interval_string)\n</code></pre> <p>Parse PostgreSQL interval syntax to Python timedelta.</p> <p>Supports formats like:</p> <ul> <li>\"7 days\"</li> <li>\"1 week\"</li> <li>\"2 hours\"</li> <li>\"30 minutes\"</li> </ul> <p>Parameters:</p> <ul> <li>interval_string (<code>str</code>) \u2013 PostgreSQL interval syntax string.</li> </ul> <p>Returns:</p> <ul> <li><code>timedelta</code> \u2013 Equivalent Python timedelta.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If interval format is invalid or unsupported.</li> </ul> Example  &gt; &gt; &gt; parse_interval_to_timedelta(\"7 days\") &gt; &gt; &gt; timedelta(days=7) &gt; &gt; &gt; parse_interval_to_timedelta(\"1 week\") &gt; &gt; &gt; timedelta(weeks=1)"},{"location":"api/reference/boards/#leadrboardsservices","title":"<code>leadr.boards.services</code>","text":"<p>Modules:</p> <ul> <li>board_service \u2013 Board service for managing board operations.</li> <li>board_tasks \u2013 Background tasks for board processing.</li> <li>board_template_service \u2013 BoardTemplate service for managing board template operations.</li> <li>dependencies \u2013 Board service dependency injection.</li> <li>repositories \u2013 Board repository services.</li> <li>short_code_generator \u2013 Utility for generating unique short codes for boards.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_service","title":"<code>leadr.boards.services.board_service</code>","text":"<p>Board service for managing board operations.</p> <p>Classes:</p> <ul> <li>BoardService \u2013 Service for managing board lifecycle and operations.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservice","title":"<code>leadr.boards.services.board_service.BoardService</code>","text":"<p>Bases: <code>BaseService[Board, BoardRepository]</code></p> <p>Service for managing board lifecycle and operations.</p> <p>This service orchestrates board creation, updates, and retrieval by coordinating between the domain models and repository layer. Ensures business rules like game validation are enforced.</p> <p>Functions:</p> <ul> <li>create_board \u2013 Create a new board.</li> <li>create_board_from_template \u2013 Create a new board from a board template.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_board \u2013 Get a board by its ID.</li> <li>get_board_by_short_code \u2013 Get a board by its short_code.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_boards \u2013 List boards with optional filtering and pagination.</li> <li>list_boards_by_account \u2013 List all boards for an account.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_board \u2013 Update board fields.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicecreate_board","title":"# <code>leadr.boards.services.board_service.BoardService.create_board</code>","text":"<pre><code>create_board(account_id, game_id, name, icon='fa-crown', unit=None, is_active=True, is_published=True, sort_direction=SortDirection.DESCENDING, keep_strategy=KeepStrategy.ALL, slug=None, short_code=None, created_from_template_id=None, template_name=None, starts_at=None, ends_at=None, tags=None, description=None)\n</code></pre> <p>Create a new board.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The ID of the account that owns this board.</li> <li>game_id (<code>GameID</code>) \u2013 The ID of the game this board belongs to.</li> <li>name (<code>str</code>) \u2013 The board name.</li> <li>icon (<code>str | None</code>) \u2013 Icon identifier for the board. Defaults to \"fa-crown\".</li> <li>unit (<code>str | None</code>) \u2013 Unit of measurement for scores. Defaults to None.</li> <li>is_active (<code>bool</code>) \u2013 Whether the board is currently active. Defaults to True.</li> <li>is_published (<code>bool</code>) \u2013 Whether the board is published and visible on public web views.   Defaults to True.</li> <li>sort_direction (<code>SortDirection</code>) \u2013 Direction to sort scores. Defaults to DESCENDING.</li> <li>keep_strategy (<code>KeepStrategy</code>) \u2013 Strategy for keeping multiple scores from same user. Defaults to ALL.</li> <li>slug (<code>str | None</code>) \u2013 Optional URL-friendly slug. If not provided, auto-generated from name.</li> <li>short_code (<code>str | None</code>) \u2013 Globally unique short code for direct sharing.</li> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013 Optional template ID this board was created from.</li> <li>template_name (<code>str | None</code>) \u2013 Optional template name.</li> <li>starts_at (<code>datetime | None</code>) \u2013 Optional start time for time-bounded boards.</li> <li>ends_at (<code>datetime | None</code>) \u2013 Optional end time for time-bounded boards.</li> <li>tags (<code>list[str] | None</code>) \u2013 Optional list of tags for categorization.</li> <li>description (<code>str | None</code>) \u2013 Optional short description of the board.</li> </ul> <p>Returns:</p> <ul> <li><code>Board</code> \u2013 The created Board domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the game doesn't exist.</li> <li><code>ValueError</code> \u2013 If the game doesn't belong to the specified account or slug is invalid.</li> </ul> Example  &gt; &gt; &gt; board = await service.create_board( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... game_id=game.id, &gt; &gt; &gt; ... name=\"Speed Run Board\", &gt; &gt; &gt; ... icon=\"trophy\", &gt; &gt; &gt; ... unit=\"seconds\", &gt; &gt; &gt; ... is_active=True, &gt; &gt; &gt; ... sort_direction=SortDirection.ASCENDING, &gt; &gt; &gt; ... keep_strategy=KeepStrategy.BEST_ONLY, &gt; &gt; &gt; ... )"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicecreate_board_from_template","title":"# <code>leadr.boards.services.board_service.BoardService.create_board_from_template</code>","text":"<pre><code>create_board_from_template(template)\n</code></pre> <p>Create a new board from a board template.</p> <p>Extracts configuration from the template and calculates time boundaries based on the template's repeat_interval. Automatically generates a unique short code for the board. If the template has a series field, generates a sequential series value and uses it in the board name.</p> <p>Parameters:</p> <ul> <li>template (<code>BoardTemplate</code>) \u2013 The BoardTemplate to create a board from.</li> </ul> <p>Returns:</p> <ul> <li><code>Board</code> \u2013 The created Board domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If interval parsing fails, game doesn't belong to account,   or name generation fails.</li> </ul> Example  &gt; &gt; &gt; board = await service.create_board_from_template(template)"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicedelete","title":"# <code>leadr.boards.services.board_service.BoardService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardserviceget_board","title":"# <code>leadr.boards.services.board_service.BoardService.get_board</code>","text":"<pre><code>get_board(board_id)\n</code></pre> <p>Get a board by its ID.</p> <p>Parameters:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013 The ID of the board to retrieve.</li> </ul> <p>Returns:</p> <ul> <li><code>Board | None</code> \u2013 The Board domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardserviceget_board_by_short_code","title":"# <code>leadr.boards.services.board_service.BoardService.get_board_by_short_code</code>","text":"<pre><code>get_board_by_short_code(short_code)\n</code></pre> <p>Get a board by its short_code.</p> <p>Parameters:</p> <ul> <li>short_code (<code>str</code>) \u2013 The short_code to search for.</li> </ul> <p>Returns:</p> <ul> <li><code>Board | None</code> \u2013 The Board domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardserviceget_by_id","title":"# <code>leadr.boards.services.board_service.BoardService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardserviceget_by_id_or_raise","title":"# <code>leadr.boards.services.board_service.BoardService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicelist_all","title":"# <code>leadr.boards.services.board_service.BoardService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicelist_boards","title":"# <code>leadr.boards.services.board_service.BoardService.list_boards</code>","text":"<pre><code>list_boards(account_id=None, game_id=None, code=None, slug=None, is_active=None, is_published=None, starts_before=None, starts_after=None, ends_before=None, ends_after=None, *, pagination)\n</code></pre> <p>List boards with optional filtering and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>code (<code>str | None</code>) \u2013 Optional short code to filter by</li> <li>slug (<code>str | None</code>) \u2013 Optional slug to filter by</li> <li>is_active (<code>bool | None</code>) \u2013 Optional filter for active status</li> <li>is_published (<code>bool | None</code>) \u2013 Optional filter for published status</li> <li>starts_before (<code>datetime | None</code>) \u2013 Optional filter for boards starting before this time</li> <li>starts_after (<code>datetime | None</code>) \u2013 Optional filter for boards starting after this time</li> <li>ends_before (<code>datetime | None</code>) \u2013 Optional filter for boards ending before this time</li> <li>ends_after (<code>datetime | None</code>) \u2013 Optional filter for boards ending after this time</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Board]</code> \u2013 PaginatedResult containing Board entities matching the filter criteria.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicelist_boards_by_account","title":"# <code>leadr.boards.services.board_service.BoardService.list_boards_by_account</code>","text":"<pre><code>list_boards_by_account(account_id)\n</code></pre> <p>List all boards for an account.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The ID of the account to list boards for.</li> </ul> <p>Returns:</p> <ul> <li><code>list[Board]</code> \u2013 List of Board domain entities for the account.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicerepository","title":"# <code>leadr.boards.services.board_service.BoardService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardservicesoft_delete","title":"# <code>leadr.boards.services.board_service.BoardService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_serviceboardserviceupdate_board","title":"# <code>leadr.boards.services.board_service.BoardService.update_board</code>","text":"<pre><code>update_board(board_id, name=None, icon=None, short_code=None, unit=None, is_active=None, is_published=None, sort_direction=None, keep_strategy=None, created_from_template_id=None, template_name=None, starts_at=None, ends_at=None, tags=None, description=None)\n</code></pre> <p>Update board fields.</p> <p>Parameters:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013 The ID of the board to update</li> <li>name (<code>str | None</code>) \u2013 New board name, if provided</li> <li>icon (<code>str | None</code>) \u2013 New icon, if provided</li> <li>short_code (<code>str | None</code>) \u2013 New short_code, if provided</li> <li>unit (<code>str | None</code>) \u2013 New unit, if provided</li> <li>is_active (<code>bool | None</code>) \u2013 New is_active status, if provided</li> <li>is_published (<code>bool | None</code>) \u2013 New is_published status, if provided</li> <li>sort_direction (<code>SortDirection | None</code>) \u2013 New sort_direction, if provided</li> <li>keep_strategy (<code>KeepStrategy | None</code>) \u2013 New keep_strategy, if provided</li> <li>created_from_template_id (<code>BoardTemplateID | None</code>) \u2013 New created_from_template_id, if provided</li> <li>template_name (<code>str | None</code>) \u2013 New template_name, if provided</li> <li>starts_at (<code>datetime | None</code>) \u2013 New starts_at, if provided</li> <li>ends_at (<code>datetime | None</code>) \u2013 New ends_at, if provided</li> <li>tags (<code>list[str] | None</code>) \u2013 New tags list, if provided</li> <li>description (<code>str | None</code>) \u2013 New description, if provided</li> </ul> <p>Returns:</p> <ul> <li><code>Board</code> \u2013 The updated Board domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the board doesn't exist</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_tasks","title":"<code>leadr.boards.services.board_tasks</code>","text":"<p>Background tasks for board processing.</p> <p>Contains tasks for:</p> <ul> <li>Processing due board templates and creating boards</li> <li>Expiring boards past their end date</li> </ul> <p>Functions:</p> <ul> <li>expire_boards \u2013 Expire boards that have passed their end date.</li> <li>process_due_templates \u2013 Process all due board templates and create boards.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_tasksexpire_boards","title":"<code>leadr.boards.services.board_tasks.expire_boards</code>","text":"<pre><code>expire_boards()\n</code></pre> <p>Expire boards that have passed their end date.</p> <p>Queries for active boards where ends_at \\&lt;= now() and sets is_active=False.</p> <p>This task is designed to be called periodically (e.g., every minute).</p>"},{"location":"api/reference/boards/#leadrboardsservicesboard_taskslogger","title":"<code>leadr.boards.services.board_tasks.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesboard_tasksprocess_due_templates","title":"<code>leadr.boards.services.board_tasks.process_due_templates</code>","text":"<pre><code>process_due_templates()\n</code></pre> <p>Process all due board templates and create boards.</p> <p>Queries for active templates where next_run_at \\&lt;= now(), creates boards from each template, and updates the template's next_run_at.</p> <p>This task is designed to be called periodically (e.g., every minute).</p>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_service","title":"<code>leadr.boards.services.board_template_service</code>","text":"<p>BoardTemplate service for managing board template operations.</p> <p>Classes:</p> <ul> <li>BoardTemplateService \u2013 Service for managing board template lifecycle and operations.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservice","title":"<code>leadr.boards.services.board_template_service.BoardTemplateService</code>","text":"<p>Bases: <code>BaseService[BoardTemplate, BoardTemplateRepository]</code></p> <p>Service for managing board template lifecycle and operations.</p> <p>This service orchestrates board template creation, updates, and retrieval by coordinating between the domain models and repository layer. Ensures business rules like game validation are enforced.</p> <p>Functions:</p> <ul> <li>advance_template_schedule \u2013 Advance a template's next_run_at by its repeat_interval.</li> <li>create_board_template \u2013 Create a new board template.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_board_template \u2013 Get a board template by its ID.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_board_templates_by_account \u2013 List all board templates for an account with pagination.</li> <li>list_board_templates_by_game \u2013 List all board templates for a specific game with pagination.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_board_template \u2013 Update board template fields.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateserviceadvance_template_schedule","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.advance_template_schedule</code>","text":"<pre><code>advance_template_schedule(template_id)\n</code></pre> <p>Advance a template's next_run_at by its repeat_interval.</p> <p>This is typically called after successfully creating a board from the template.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 The ID of the template to advance.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplate</code> \u2013 The updated BoardTemplate with advanced next_run_at.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the template doesn't exist.</li> <li><code>ValueError</code> \u2013 If the repeat_interval cannot be parsed.</li> </ul> Example  &gt; &gt; &gt; template = await service.advance_template_schedule(template.id) &gt; &gt; &gt; &gt; &gt; &gt; # template.next_run_at is now advanced by repeat_interval"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicecreate_board_template","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.create_board_template</code>","text":"<pre><code>create_board_template(account_id, game_id, name, slug, repeat_interval, next_run_at, is_active, is_published=True, name_template=None, series=None, icon='fa-crown', unit=None, sort_direction=SortDirection.DESCENDING, keep_strategy=KeepStrategy.ALL, starts_at=None, ends_at=None, tags=None, config=None)\n</code></pre> <p>Create a new board template.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The ID of the account that owns this template.</li> <li>game_id (<code>GameID</code>) \u2013 The ID of the game this template belongs to.</li> <li>name (<code>str</code>) \u2013 The template name.</li> <li>repeat_interval (<code>str</code>) \u2013 PostgreSQL interval syntax for repeat frequency.</li> <li>next_run_at (<code>datetime</code>) \u2013 Next scheduled time to create a board.</li> <li>is_active (<code>bool</code>) \u2013 Whether the template is currently active.</li> <li>name_template (<code>str | None</code>) \u2013 Optional template string for generating board names.</li> <li>series (<code>str | None</code>) \u2013 Optional series identifier for sequential board naming.</li> <li>config (<code>dict[str, Any] | None</code>) \u2013 Optional configuration object for boards created from this template.</li> <li>config_template \u2013 Optional template configuration for random generation.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplate</code> \u2013 The created BoardTemplate domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the game doesn't exist.</li> <li><code>ValueError</code> \u2013 If the game doesn't belong to the specified account or   if name_template contains invalid placeholders.</li> </ul> Example  &gt; &gt; &gt; template = await service.create_board_template( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... game_id=game.id, &gt; &gt; &gt; ... name=\"Weekly Speed Run Template\", &gt; &gt; &gt; ... name_template=\"Week {series} - {year}\", &gt; &gt; &gt; ... series=\"weekly\", &gt; &gt; &gt; ... repeat_interval=\"7 days\", &gt; &gt; &gt; ... next_run_at=datetime.now(UTC) + timedelta(days=7), &gt; &gt; &gt; ... is_active=True, &gt; &gt; &gt; ... )"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicedelete","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateserviceget_board_template","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.get_board_template</code>","text":"<pre><code>get_board_template(template_id)\n</code></pre> <p>Get a board template by its ID.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 The ID of the template to retrieve.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplate | None</code> \u2013 The BoardTemplate domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateserviceget_by_id","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateserviceget_by_id_or_raise","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicelist_all","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicelist_board_templates_by_account","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.list_board_templates_by_account</code>","text":"<pre><code>list_board_templates_by_account(account_id, *, pagination)\n</code></pre> <p>List all board templates for an account with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 The ID of the account to list templates for. If None, returns all   templates (superadmin use case).</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[BoardTemplate]</code> \u2013 PaginatedResult containing BoardTemplate entities matching the filter criteria.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicelist_board_templates_by_game","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.list_board_templates_by_game</code>","text":"<pre><code>list_board_templates_by_game(account_id, game_id, *, pagination)\n</code></pre> <p>List all board templates for a specific game with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 The ID of the account. If None, returns templates from all accounts   (superadmin use case).</li> <li>game_id (<code>GameID</code>) \u2013 The ID of the game to list templates for.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[BoardTemplate]</code> \u2013 PaginatedResult containing BoardTemplate entities matching the filter criteria.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicerepository","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateservicesoft_delete","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesboard_template_serviceboardtemplateserviceupdate_board_template","title":"# <code>leadr.boards.services.board_template_service.BoardTemplateService.update_board_template</code>","text":"<pre><code>update_board_template(template_id, name=None, slug=None, name_template=None, series=None, icon=None, unit=None, sort_direction=None, keep_strategy=None, starts_at=None, ends_at=None, tags=None, repeat_interval=None, config=None, next_run_at=None, is_active=None, is_published=None)\n</code></pre> <p>Update board template fields.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 The ID of the template to update.</li> <li>name (<code>str | None</code>) \u2013 New template name, if provided.</li> <li>name_template (<code>str | None</code>) \u2013 New name template, if provided.</li> <li>series (<code>str | None</code>) \u2013 New series identifier, if provided.</li> <li>repeat_interval (<code>str | None</code>) \u2013 New repeat interval, if provided.</li> <li>config (<code>dict[str, Any] | None</code>) \u2013 New config, if provided.</li> <li>config_template \u2013 New config template, if provided.</li> <li>next_run_at (<code>datetime | None</code>) \u2013 New next_run_at, if provided.</li> <li>is_active (<code>bool | None</code>) \u2013 New is_active status, if provided.</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplate</code> \u2013 The updated BoardTemplate domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the template doesn't exist.</li> <li><code>ValueError</code> \u2013 If name_template contains invalid placeholders.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesdependencies","title":"<code>leadr.boards.services.dependencies</code>","text":"<p>Board service dependency injection.</p> <p>Functions:</p> <ul> <li>get_board_service \u2013 Get BoardService dependency.</li> <li>get_board_template_service \u2013 Get BoardTemplateService dependency.</li> </ul> <p>Attributes:</p> <ul> <li>BoardServiceDep \u2013</li> <li>BoardTemplateServiceDep \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesdependenciesboardservicedep","title":"<code>leadr.boards.services.dependencies.BoardServiceDep</code>","text":"<pre><code>BoardServiceDep = Annotated[BoardService, Depends(get_board_service)]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesdependenciesboardtemplateservicedep","title":"<code>leadr.boards.services.dependencies.BoardTemplateServiceDep</code>","text":"<pre><code>BoardTemplateServiceDep = Annotated[BoardTemplateService, Depends(get_board_template_service)]\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesdependenciesget_board_service","title":"<code>leadr.boards.services.dependencies.get_board_service</code>","text":"<pre><code>get_board_service(db)\n</code></pre> <p>Get BoardService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session from dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>BoardService</code> \u2013 BoardService instance for handling board operations</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesdependenciesget_board_template_service","title":"<code>leadr.boards.services.dependencies.get_board_template_service</code>","text":"<pre><code>get_board_template_service(db)\n</code></pre> <p>Get BoardTemplateService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session from dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>BoardTemplateService</code> \u2013 BoardTemplateService instance for handling board template operations</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositories","title":"<code>leadr.boards.services.repositories</code>","text":"<p>Board repository services.</p> <p>Classes:</p> <ul> <li>BoardRepository \u2013 Board repository for managing board persistence.</li> <li>BoardTemplateRepository \u2013 BoardTemplate repository for managing board template persistence.</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepository","title":"<code>leadr.boards.services.repositories.BoardRepository</code>","text":"<p>Bases: <code>BaseRepository[Board, BoardORM]</code></p> <p>Board repository for managing board persistence.</p> <p>Functions:</p> <ul> <li>count_boards_by_template \u2013 Count boards created from a specific template.</li> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter boards with optional criteria and pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_short_code \u2013 Get board by short_code.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositorysortable_fields","title":"# <code>leadr.boards.services.repositories.BoardRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'name', 'slug', 'short_code', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositorycount_boards_by_template","title":"# <code>leadr.boards.services.repositories.BoardRepository.count_boards_by_template</code>","text":"<pre><code>count_boards_by_template(template_id)\n</code></pre> <p>Count boards created from a specific template.</p> <p>Parameters:</p> <ul> <li>template_id (<code>BoardTemplateID</code>) \u2013 The template ID to count boards for</li> </ul> <p>Returns:</p> <ul> <li><code>int</code> \u2013 Number of boards created from this template</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositorycreate","title":"# <code>leadr.boards.services.repositories.BoardRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositorydelete","title":"# <code>leadr.boards.services.repositories.BoardRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositoryfilter","title":"# <code>leadr.boards.services.repositories.BoardRepository.filter</code>","text":"<pre><code>filter(account_id=None, game_id=None, code=None, slug=None, is_active=None, is_published=None, starts_before=None, starts_after=None, ends_before=None, ends_after=None, *, pagination, **kwargs)\n</code></pre> <p>Filter boards with optional criteria and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>code (<code>str | None</code>) \u2013 Optional short code to filter by</li> <li>slug (<code>str | None</code>) \u2013 Optional slug to filter by</li> <li>is_active (<code>bool | None</code>) \u2013 Optional filter for active status</li> <li>is_published (<code>bool | None</code>) \u2013 Optional filter for published status</li> <li>starts_before (<code>datetime | None</code>) \u2013 Optional filter for boards starting before this time</li> <li>starts_after (<code>datetime | None</code>) \u2013 Optional filter for boards starting after this time</li> <li>ends_before (<code>datetime | None</code>) \u2013 Optional filter for boards ending before this time</li> <li>ends_after (<code>datetime | None</code>) \u2013 Optional filter for boards ending after this time</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Board]</code> \u2013 PaginatedResult containing boards matching the filter criteria</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositoryget_by_id","title":"# <code>leadr.boards.services.repositories.BoardRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositoryget_by_short_code","title":"# <code>leadr.boards.services.repositories.BoardRepository.get_by_short_code</code>","text":"<pre><code>get_by_short_code(short_code)\n</code></pre> <p>Get board by short_code.</p> <p>Parameters:</p> <ul> <li>short_code (<code>str</code>) \u2013 The short_code to search for</li> </ul> <p>Returns:</p> <ul> <li><code>Board | None</code> \u2013 Board entity if found, None otherwise</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositorysession","title":"# <code>leadr.boards.services.repositories.BoardRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardrepositoryupdate","title":"# <code>leadr.boards.services.repositories.BoardRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepository","title":"<code>leadr.boards.services.repositories.BoardTemplateRepository</code>","text":"<p>Bases: <code>BaseRepository[BoardTemplate, BoardTemplateORM]</code></p> <p>BoardTemplate repository for managing board template persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter board templates by account and optional game with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositorysortable_fields","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'name', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositorycreate","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositorydelete","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositoryfilter","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.filter</code>","text":"<pre><code>filter(account_id=None, game_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter board templates by account and optional game with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all templates   (superadmin use case). Regular users should always pass account_id.</li> <li>game_id (<code>GameID | None</code>) \u2013 OPTIONAL - Game ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[BoardTemplate]</code> \u2013 PaginatedResult containing board templates matching the filter criteria</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositoryget_by_id","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositorysession","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesrepositoriesboardtemplaterepositoryupdate","title":"# <code>leadr.boards.services.repositories.BoardTemplateRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesshort_code_generator","title":"<code>leadr.boards.services.short_code_generator</code>","text":"<p>Utility for generating unique short codes for boards.</p> <p>Short codes are used for direct board sharing (e.g., example.com/board/ABC123XY). They must be globally unique across all boards.</p> <p>Functions:</p> <ul> <li>generate_short_code \u2013 Generate a random 8-character alphanumeric short code.</li> <li>generate_unique_short_code \u2013 Generate a globally unique short code with collision retry logic.</li> </ul> <p>Attributes:</p> <ul> <li>CHARSET \u2013</li> <li>CODE_LENGTH \u2013</li> </ul>"},{"location":"api/reference/boards/#leadrboardsservicesshort_code_generatorcharset","title":"<code>leadr.boards.services.short_code_generator.CHARSET</code>","text":"<pre><code>CHARSET = '23456789ABCDEFGHJKMNPQRSTUVWXYZ'\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesshort_code_generatorcode_length","title":"<code>leadr.boards.services.short_code_generator.CODE_LENGTH</code>","text":"<pre><code>CODE_LENGTH = 5\n</code></pre>"},{"location":"api/reference/boards/#leadrboardsservicesshort_code_generatorgenerate_short_code","title":"<code>leadr.boards.services.short_code_generator.generate_short_code</code>","text":"<pre><code>generate_short_code()\n</code></pre> <p>Generate a random 8-character alphanumeric short code.</p> <p>Uses cryptographically strong random number generator for security. Excludes ambiguous characters (0/O, 1/I/l) for better readability.</p> <p>Returns:</p> <ul> <li><code>str</code> \u2013 5-character uppercase alphanumeric code (e.g., 'A7B3X').</li> </ul> Example  &gt; &gt; &gt; code = generate_short_code() &gt; &gt; &gt; len(code) &gt; &gt; &gt; 5 &gt; &gt; &gt; code.isupper() &gt; &gt; &gt; True"},{"location":"api/reference/boards/#leadrboardsservicesshort_code_generatorgenerate_unique_short_code","title":"<code>leadr.boards.services.short_code_generator.generate_unique_short_code</code>","text":"<pre><code>generate_unique_short_code(session, max_retries=10)\n</code></pre> <p>Generate a globally unique short code with collision retry logic.</p> <p>Generates random codes and checks database for uniqueness. If a collision is detected, retries up to max_retries times before raising an error.</p> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 Database session for uniqueness checking.</li> <li>max_retries (<code>int</code>) \u2013 Maximum number of generation attempts (default 10).</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 Unique 5-character short code guaranteed not to exist in database.</li> </ul> <p>Raises:</p> <ul> <li><code>RuntimeError</code> \u2013 If unable to generate unique code within max_retries attempts.</li> </ul> Example  &gt; &gt; &gt; code = await generate_unique_short_code(session) &gt; &gt; &gt; &gt; &gt; &gt; # Code is guaranteed to be unique in database"},{"location":"api/reference/common/","title":"Common","text":""},{"location":"api/reference/common/#leadrcommon","title":"<code>leadr.common</code>","text":"<p>Modules:</p> <ul> <li>api \u2013 API utilities and exception handlers.</li> <li>background_tasks \u2013 Background task scheduler using asyncio.</li> <li>database \u2013 Database connection and session management.</li> <li>dependencies \u2013 Shared FastAPI dependencies for the application.</li> <li>domain \u2013</li> <li>geoip \u2013 GeoIP service for IP address geolocation using MaxMind databases.</li> <li>orm \u2013 Common ORM base classes and utilities.</li> <li>repositories \u2013 Base repository abstraction for common CRUD operations.</li> <li>services \u2013 Base service abstraction for common business logic patterns.</li> <li>utils \u2013 Common utility functions.</li> </ul>"},{"location":"api/reference/common/#leadrcommonapi","title":"<code>leadr.common.api</code>","text":"<p>API utilities and exception handlers.</p> <p>Modules:</p> <ul> <li>exceptions \u2013 Global exception handlers for API layer.</li> <li>pagination \u2013 API pagination models and dependencies.</li> </ul>"},{"location":"api/reference/common/#leadrcommonapiexceptions","title":"<code>leadr.common.api.exceptions</code>","text":"<p>Global exception handlers for API layer.</p> <p>Functions:</p> <ul> <li>catchall_exception_handler \u2013 Convert all unhandled Exceptions to a 500 HTTP response with</li> <li>entity_not_found_handler \u2013 Convert EntityNotFoundError to 404 HTTP response.</li> <li>http_exception_handler \u2013 Convert all FastAPI HTTPExceptions to ensure our response envelope.</li> <li>validation_error_handler \u2013 Convert RequestValidationError to 422 HTTP response with our</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonapiexceptionscatchall_exception_handler","title":"<code>leadr.common.api.exceptions.catchall_exception_handler</code>","text":"<pre><code>catchall_exception_handler(request, exc)\n</code></pre> <p>Convert all unhandled Exceptions to a 500 HTTP response with our response envelope.</p> <p>Parameters:</p> <ul> <li>request (<code>Request</code>) \u2013 The incoming request</li> <li>exc (<code>Exception</code>) \u2013 The exception</li> </ul> <p>Returns:</p> <ul> <li><code>JSONResponse</code> \u2013 JSONResponse with 500 status and error detail</li> </ul>"},{"location":"api/reference/common/#leadrcommonapiexceptionsentity_not_found_handler","title":"<code>leadr.common.api.exceptions.entity_not_found_handler</code>","text":"<pre><code>entity_not_found_handler(request, exc)\n</code></pre> <p>Convert EntityNotFoundError to 404 HTTP response.</p> <p>Parameters:</p> <ul> <li>request (<code>Request</code>) \u2013 The incoming request</li> <li>exc (<code>EntityNotFoundError</code>) \u2013 The domain exception</li> </ul> <p>Returns:</p> <ul> <li><code>JSONResponse</code> \u2013 JSONResponse with 404 status and error detail</li> </ul>"},{"location":"api/reference/common/#leadrcommonapiexceptionshttp_exception_handler","title":"<code>leadr.common.api.exceptions.http_exception_handler</code>","text":"<pre><code>http_exception_handler(request, exc)\n</code></pre> <p>Convert all FastAPI HTTPExceptions to ensure our response envelope.</p> <p>Parameters:</p> <ul> <li>request (<code>Request</code>) \u2013 The incoming request</li> <li>exc (<code>HTTPException</code>) \u2013 The exception</li> </ul> <p>Returns:</p> <ul> <li><code>JSONResponse</code> \u2013 JSONResponse with HTTP status code and error detail</li> </ul>"},{"location":"api/reference/common/#leadrcommonapiexceptionslogger","title":"<code>leadr.common.api.exceptions.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapiexceptionsvalidation_error_handler","title":"<code>leadr.common.api.exceptions.validation_error_handler</code>","text":"<pre><code>validation_error_handler(request, exc)\n</code></pre> <p>Convert RequestValidationError to 422 HTTP response with our error response envelope.</p> <p>Parameters:</p> <ul> <li>request (<code>Request</code>) \u2013 The incoming request</li> <li>exc (<code>RequestValidationError</code>) \u2013 The validation exception</li> </ul> <p>Returns:</p> <ul> <li><code>JSONResponse</code> \u2013 JSONResponse with 422 status and list of validation errors</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipagination","title":"<code>leadr.common.api.pagination</code>","text":"<p>API pagination models and dependencies.</p> <p>Classes:</p> <ul> <li>PaginatedResponse \u2013 Generic paginated response wrapper.</li> <li>PaginationMeta \u2013 Pagination metadata in API responses.</li> <li>PaginationParams \u2013 FastAPI dependency for parsing pagination query parameters.</li> </ul> <p>Attributes:</p> <ul> <li>DomainT \u2013</li> <li>ResponseT \u2013</li> <li>T \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipaginationdomaint","title":"<code>leadr.common.api.pagination.DomainT</code>","text":"<pre><code>DomainT = TypeVar('DomainT')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginatedresponse","title":"<code>leadr.common.api.pagination.PaginatedResponse</code>","text":"<p>Bases: <code>BaseModel</code>, <code>Generic[T]</code></p> <p>Generic paginated response wrapper.</p> <p>Wraps a list of items with pagination metadata.</p> <p>Functions:</p> <ul> <li>from_paginated_result \u2013 Create a PaginatedResponse from a PaginatedResult.</li> </ul> <p>Attributes:</p> <ul> <li>data (<code>list[T]</code>) \u2013</li> <li>model_config \u2013</li> <li>pagination (<code>PaginationMeta</code>) \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginatedresponsedata","title":"# <code>leadr.common.api.pagination.PaginatedResponse.data</code>","text":"<pre><code>data: list[T] = Field(description='List of items in this page')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginatedresponsefrom_paginated_result","title":"# <code>leadr.common.api.pagination.PaginatedResponse.from_paginated_result</code>","text":"<pre><code>from_paginated_result(result, pagination, filters, response_model)\n</code></pre> <p>Create a PaginatedResponse from a PaginatedResult.</p> <p>This factory method abstracts away cursor construction, converting a repository-layer PaginatedResult into an API-layer PaginatedResponse with encoded cursors.</p> <p>Parameters:</p> <ul> <li>result (<code>PaginatedResult[DomainT]</code>) \u2013 The paginated result from the repository layer</li> <li>pagination (<code>PaginationParams</code>) \u2013 The pagination parameters from the request</li> <li>filters (<code>dict[str, Any]</code>) \u2013 Dict of active filters to include in cursors (e.g., {\"game_id\": \"123\"})</li> <li>response_model (<code>type[ResponseT]</code>) \u2013 The response model class with a from_domain() method</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ResponseT]</code> \u2013 A fully constructed PaginatedResponse with encoded cursors and converted items</li> </ul> Example  &gt; &gt; &gt; return PaginatedResponse.from_paginated_result( &gt; &gt; &gt; ... result=result, &gt; &gt; &gt; ... pagination=pagination, &gt; &gt; &gt; ... filters={\"game_id\": str(game_id)} if game_id else {}, &gt; &gt; &gt; ... response_model=ScoreResponse, &gt; &gt; &gt; ... )"},{"location":"api/reference/common/#leadrcommonapipaginationpaginatedresponsemodel_config","title":"# <code>leadr.common.api.pagination.PaginatedResponse.model_config</code>","text":"<pre><code>model_config = ConfigDict(json_schema_extra={'example': {'data': [{'id': 'scr_123', 'value': 1000}], 'pagination': {'next_cursor': 'eyJwdiI6WzEwMDAsMTIzXX0=', 'prev_cursor': None, 'has_next': True, 'has_prev': False, 'count': 20}}})\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginatedresponsepagination","title":"# <code>leadr.common.api.pagination.PaginatedResponse.pagination</code>","text":"<pre><code>pagination: PaginationMeta = Field(description='Pagination metadata')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmeta","title":"<code>leadr.common.api.pagination.PaginationMeta</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Pagination metadata in API responses.</p> <p>Attributes:</p> <ul> <li>count (<code>int</code>) \u2013</li> <li>has_next (<code>bool</code>) \u2013</li> <li>has_prev (<code>bool</code>) \u2013</li> <li>next_cursor (<code>str | None</code>) \u2013</li> <li>prev_cursor (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmetacount","title":"# <code>leadr.common.api.pagination.PaginationMeta.count</code>","text":"<pre><code>count: int = Field(description='Number of items in this page')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmetahas_next","title":"# <code>leadr.common.api.pagination.PaginationMeta.has_next</code>","text":"<pre><code>has_next: bool = Field(description='Whether there are more results after this page')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmetahas_prev","title":"# <code>leadr.common.api.pagination.PaginationMeta.has_prev</code>","text":"<pre><code>has_prev: bool = Field(description='Whether there are results before this page')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmetanext_cursor","title":"# <code>leadr.common.api.pagination.PaginationMeta.next_cursor</code>","text":"<pre><code>next_cursor: str | None = Field(None, description='Cursor for the next page of results')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationmetaprev_cursor","title":"# <code>leadr.common.api.pagination.PaginationMeta.prev_cursor</code>","text":"<pre><code>prev_cursor: str | None = Field(None, description='Cursor for the previous page of results')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparams","title":"<code>leadr.common.api.pagination.PaginationParams</code>","text":"<pre><code>PaginationParams(cursor=Query(None, description='Pagination cursor for navigating results'), limit=Query(20, ge=1, le=100, description='Number of items per page (1-100)'), sort=Query(None, description=\"Sort specification (e.g., 'value:desc,created_at:asc')\"))\n</code></pre> <p>FastAPI dependency for parsing pagination query parameters.</p> <p>Parses cursor, limit, and sort parameters from the query string. Always appends 'id:asc' to sort specification for stable sorting.</p> <p>Functions:</p> <ul> <li>decode_cursor \u2013 Decode the cursor if present.</li> <li>has_cursor \u2013 Check if a cursor is present.</li> </ul> <p>Attributes:</p> <ul> <li>cursor_str \u2013</li> <li>limit \u2013</li> <li>sort_spec \u2013</li> </ul> <p>Parameters:</p> <ul> <li>cursor (<code>str | None</code>) \u2013 Optional base64-encoded cursor string</li> <li>limit (<code>int</code>) \u2013 Page size (1-100, default 20)</li> <li>sort (<code>str | None</code>) \u2013 Comma-separated sort spec (e.g., \"score:desc,created_at:asc\")</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparamscursor_str","title":"# <code>leadr.common.api.pagination.PaginationParams.cursor_str</code>","text":"<pre><code>cursor_str = cursor\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparamsdecode_cursor","title":"# <code>leadr.common.api.pagination.PaginationParams.decode_cursor</code>","text":"<pre><code>decode_cursor()\n</code></pre> <p>Decode the cursor if present.</p> <p>Returns:</p> <ul> <li><code>Cursor | None</code> \u2013 Decoded Cursor object or None if no cursor</li> </ul> <p>Raises:</p> <ul> <li><code>CursorValidationError</code> \u2013 If cursor is invalid</li> </ul>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparamshas_cursor","title":"# <code>leadr.common.api.pagination.PaginationParams.has_cursor</code>","text":"<pre><code>has_cursor()\n</code></pre> <p>Check if a cursor is present.</p>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparamslimit","title":"# <code>leadr.common.api.pagination.PaginationParams.limit</code>","text":"<pre><code>limit = limit\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationpaginationparamssort_spec","title":"# <code>leadr.common.api.pagination.PaginationParams.sort_spec</code>","text":"<pre><code>sort_spec = self._parse_sort(sort)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationresponset","title":"<code>leadr.common.api.pagination.ResponseT</code>","text":"<pre><code>ResponseT = TypeVar('ResponseT', bound=BaseModel)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonapipaginationt","title":"<code>leadr.common.api.pagination.T</code>","text":"<pre><code>T = TypeVar('T')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonbackground_tasks","title":"<code>leadr.common.background_tasks</code>","text":"<p>Background task scheduler using asyncio.</p> <p>Provides a simple background task scheduler that runs periodic tasks within the FastAPI application process.</p> <p>Classes:</p> <ul> <li>BackgroundTaskScheduler \u2013 Manages periodic background tasks using asyncio.</li> </ul> <p>Functions:</p> <ul> <li>get_scheduler \u2013 Get the global scheduler instance.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskscheduler","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler</code>","text":"<pre><code>BackgroundTaskScheduler()\n</code></pre> <p>Manages periodic background tasks using asyncio.</p> <p>Tasks run in the same process as the FastAPI application, making them easy to test and deploy without additional infrastructure.</p> Example  &gt; &gt; &gt; scheduler = BackgroundTaskScheduler() &gt; &gt; &gt; async def my_task(): &gt; &gt; &gt; ... print(\"Task running\") &gt; &gt; &gt; scheduler.add_task(\"my-task\", my_task, interval_seconds=60) &gt; &gt; &gt; await scheduler.start()   <p>Functions:</p> <ul> <li>add_task \u2013 Register a periodic task.</li> <li>start \u2013 Start all registered tasks.</li> <li>stop \u2013 Stop all running tasks gracefully.</li> </ul> <p>Attributes:</p> <ul> <li>running \u2013</li> <li>tasks (<code>dict[str, dict[str, Any]]</code>) \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskscheduleradd_task","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler.add_task</code>","text":"<pre><code>add_task(name, func, interval_seconds)\n</code></pre> <p>Register a periodic task.</p> <p>Parameters:</p> <ul> <li>name (<code>str</code>) \u2013 Unique identifier for the task.</li> <li>func (<code>Callable[[], Awaitable[None]]</code>) \u2013 Async function to call periodically.</li> <li>interval_seconds (<code>int</code>) \u2013 How often to run the task (in seconds).</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If task with the same name already exists.</li> </ul>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskschedulerrunning","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler.running</code>","text":"<pre><code>running = False\n</code></pre>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskschedulerstart","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler.start</code>","text":"<pre><code>start()\n</code></pre> <p>Start all registered tasks.</p> <p>This method starts all background task loops concurrently. It returns immediately after starting the tasks.</p>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskschedulerstop","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler.stop</code>","text":"<pre><code>stop()\n</code></pre> <p>Stop all running tasks gracefully.</p> <p>Waits for currently executing tasks to complete before stopping.</p>"},{"location":"api/reference/common/#leadrcommonbackground_tasksbackgroundtaskschedulertasks","title":"<code>leadr.common.background_tasks.BackgroundTaskScheduler.tasks</code>","text":"<pre><code>tasks: dict[str, dict[str, Any]] = {}\n</code></pre>"},{"location":"api/reference/common/#leadrcommonbackground_tasksget_scheduler","title":"<code>leadr.common.background_tasks.get_scheduler</code>","text":"<pre><code>get_scheduler()\n</code></pre> <p>Get the global scheduler instance.</p> <p>Returns:</p> <ul> <li><code>BackgroundTaskScheduler</code> \u2013 The singleton BackgroundTaskScheduler instance.</li> </ul>"},{"location":"api/reference/common/#leadrcommonbackground_taskslogger","title":"<code>leadr.common.background_tasks.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/common/#leadrcommondatabase","title":"<code>leadr.common.database</code>","text":"<p>Database connection and session management.</p> <p>Functions:</p> <ul> <li>build_database_url \u2013 Build async database URL from settings.</li> <li>build_direct_database_url \u2013 Build async database URL for direct connections (migrations).</li> <li>get_db \u2013 FastAPI dependency for async database session.</li> </ul> <p>Attributes:</p> <ul> <li>async_session_factory \u2013</li> <li>engine \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondatabaseasync_session_factory","title":"<code>leadr.common.database.async_session_factory</code>","text":"<pre><code>async_session_factory = async_sessionmaker(engine, class_=AsyncSession, expire_on_commit=False)\n</code></pre>"},{"location":"api/reference/common/#leadrcommondatabasebuild_database_url","title":"<code>leadr.common.database.build_database_url</code>","text":"<pre><code>build_database_url()\n</code></pre> <p>Build async database URL from settings.</p>"},{"location":"api/reference/common/#leadrcommondatabasebuild_direct_database_url","title":"<code>leadr.common.database.build_direct_database_url</code>","text":"<pre><code>build_direct_database_url()\n</code></pre> <p>Build async database URL for direct connections (migrations).</p> <p>Uses DB_HOST_DIRECT if set, otherwise falls back to DB_HOST. For Neon, DB_HOST_DIRECT should be the non-pooler endpoint to avoid connecting through PgBouncer during migrations.</p>"},{"location":"api/reference/common/#leadrcommondatabaseengine","title":"<code>leadr.common.database.engine</code>","text":"<pre><code>engine = create_async_engine(build_database_url(), connect_args=(_get_connect_args()), poolclass=(_get_pool_class()), **(_get_pool_options()), echo=(settings.DB_ECHO))\n</code></pre>"},{"location":"api/reference/common/#leadrcommondatabaseget_db","title":"<code>leadr.common.database.get_db</code>","text":"<pre><code>get_db()\n</code></pre> <p>FastAPI dependency for async database session.</p> <p>The session is yielded to the caller, who is responsible for committing transactions explicitly. The context manager automatically handles cleanup and rollback on exceptions.</p>"},{"location":"api/reference/common/#leadrcommondependencies","title":"<code>leadr.common.dependencies</code>","text":"<p>Shared FastAPI dependencies for the application.</p> <p>Attributes:</p> <ul> <li>DatabaseSession \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondependenciesdatabasesession","title":"<code>leadr.common.dependencies.DatabaseSession</code>","text":"<pre><code>DatabaseSession = Annotated[AsyncSession, Depends(get_db)]\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomain","title":"<code>leadr.common.domain</code>","text":"<p>Modules:</p> <ul> <li>cursor \u2013 Cursor-based pagination implementation.</li> <li>exceptions \u2013 Domain-specific exceptions for LEADR.</li> <li>ids \u2013 Prefixed ID types for entity identification.</li> <li>models \u2013 Common domain models and value objects.</li> <li>pagination \u2013 Pagination domain models.</li> <li>pagination_result \u2013 Pagination result from repository layer.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursor","title":"<code>leadr.common.domain.cursor</code>","text":"<p>Cursor-based pagination implementation.</p> <p>Classes:</p> <ul> <li>Cursor \u2013 Opaque cursor for pagination that encodes position, sort, filters, and direction.</li> <li>CursorValidationError \u2013 Raised when cursor validation fails.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursorcursor","title":"<code>leadr.common.domain.cursor.Cursor</code>","text":"<pre><code>Cursor(position, sort_fields, filters, direction)\n</code></pre> <p>Opaque cursor for pagination that encodes position, sort, filters, and direction.</p> <p>The cursor ensures that pagination state (sort order, filters) remains consistent across page requests. If the client changes sort/filter parameters while using a cursor, validation will fail.</p> <p>Functions:</p> <ul> <li>decode \u2013 Decode cursor from base64 string.</li> <li>encode \u2013 Encode cursor to base64 string.</li> <li>validate_state \u2013 Validate that current query state matches cursor state.</li> </ul> <p>Attributes:</p> <ul> <li>direction \u2013</li> <li>filters \u2013</li> <li>position \u2013</li> <li>sort_fields \u2013</li> </ul> <p>Parameters:</p> <ul> <li>position (<code>CursorPosition</code>) \u2013 The position in the result set (values + entity_id)</li> <li>sort_fields (<code>list[SortField]</code>) \u2013 List of sort fields that were applied</li> <li>filters (<code>dict[str, Any]</code>) \u2013 Dictionary of filter parameters that were applied</li> <li>direction (<code>PaginationDirection</code>) \u2013 Direction of pagination (forward or backward)</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursorcursordecode","title":"# <code>leadr.common.domain.cursor.Cursor.decode</code>","text":"<pre><code>decode(cursor_str)\n</code></pre> <p>Decode cursor from base64 string.</p> <p>Parameters:</p> <ul> <li>cursor_str (<code>str</code>) \u2013 Base64-encoded cursor string</li> </ul> <p>Returns:</p> <ul> <li><code>Cursor</code> \u2013 Decoded Cursor object</li> </ul> <p>Raises:</p> <ul> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or malformed</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursorcursordirection","title":"# <code>leadr.common.domain.cursor.Cursor.direction</code>","text":"<pre><code>direction = direction\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorencode","title":"# <code>leadr.common.domain.cursor.Cursor.encode</code>","text":"<pre><code>encode()\n</code></pre> <p>Encode cursor to base64 string.</p> <p>Returns:</p> <ul> <li><code>str</code> \u2013 Base64-encoded JSON string representing the cursor state</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorfilters","title":"# <code>leadr.common.domain.cursor.Cursor.filters</code>","text":"<pre><code>filters = filters\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorposition","title":"# <code>leadr.common.domain.cursor.Cursor.position</code>","text":"<pre><code>position = position\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorsort_fields","title":"# <code>leadr.common.domain.cursor.Cursor.sort_fields</code>","text":"<pre><code>sort_fields = sort_fields\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorvalidate_state","title":"# <code>leadr.common.domain.cursor.Cursor.validate_state</code>","text":"<pre><code>validate_state(sort_fields, filters)\n</code></pre> <p>Validate that current query state matches cursor state.</p> <p>Parameters:</p> <ul> <li>sort_fields (<code>list[SortField]</code>) \u2013 Current sort fields</li> <li>filters (<code>dict[str, Any]</code>) \u2013 Current filter parameters</li> </ul> <p>Raises:</p> <ul> <li><code>CursorValidationError</code> \u2013 If state doesn't match</li> </ul>"},{"location":"api/reference/common/#leadrcommondomaincursorcursorvalidationerror","title":"<code>leadr.common.domain.cursor.CursorValidationError</code>","text":"<p>Bases: <code>ValueError</code></p> <p>Raised when cursor validation fails.</p>"},{"location":"api/reference/common/#leadrcommondomaincursorlogger","title":"<code>leadr.common.domain.cursor.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptions","title":"<code>leadr.common.domain.exceptions</code>","text":"<p>Domain-specific exceptions for LEADR.</p> <p>Classes:</p> <ul> <li>DomainError \u2013 Base exception for all domain-level errors.</li> <li>EntityNotFoundError \u2013 Raised when an entity cannot be found in the repository.</li> <li>InvalidEntityStateError \u2013 Raised when an entity is in an invalid state for the requested operation.</li> <li>ValidationError \u2013 Raised when entity validation fails.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainexceptionsdomainerror","title":"<code>leadr.common.domain.exceptions.DomainError</code>","text":"<pre><code>DomainError(message)\n</code></pre> <p>Bases: <code>Exception</code></p> <p>Base exception for all domain-level errors.</p> <p>All custom domain exceptions should inherit from this base class. This allows catching all domain errors with a single except clause.</p> <p>Parameters:</p> <ul> <li>message (<code>str</code>) \u2013 Human-readable error message.</li> </ul> Example  &gt; &gt; &gt; try: &gt; &gt; &gt; ... raise DomainError(\"Something went wrong\") &gt; &gt; &gt; ... except DomainError as e: &gt; &gt; &gt; ... print(e.message)   <p>Attributes:</p> <ul> <li>message \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainexceptionsdomainerrormessage","title":"# <code>leadr.common.domain.exceptions.DomainError.message</code>","text":"<pre><code>message = message\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsentitynotfounderror","title":"<code>leadr.common.domain.exceptions.EntityNotFoundError</code>","text":"<pre><code>EntityNotFoundError(entity_type, entity_id)\n</code></pre> <p>Bases: <code>DomainError</code></p> <p>Raised when an entity cannot be found in the repository.</p> <p>This exception is raised by repository queries when an entity with the specified ID does not exist in the database.</p> <p>Parameters:</p> <ul> <li>entity_type (<code>str</code>) \u2013 Name of the entity type (e.g., \"Account\", \"User\").</li> <li>entity_id (<code>str</code>) \u2013 The ID that was not found.</li> </ul> Example  &gt; &gt; &gt; raise EntityNotFoundError(\"Account\", \"123e4567-e89b-12d3-a456-426614174000\") &gt; &gt; &gt; EntityNotFoundError: Account not found: 123e4567-e89b-12d3-a456-426614174000   <p>Attributes:</p> <ul> <li>entity_id \u2013</li> <li>entity_type \u2013</li> <li>message \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainexceptionsentitynotfounderrorentity_id","title":"# <code>leadr.common.domain.exceptions.EntityNotFoundError.entity_id</code>","text":"<pre><code>entity_id = entity_id\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsentitynotfounderrorentity_type","title":"# <code>leadr.common.domain.exceptions.EntityNotFoundError.entity_type</code>","text":"<pre><code>entity_type = entity_type\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsentitynotfounderrormessage","title":"# <code>leadr.common.domain.exceptions.EntityNotFoundError.message</code>","text":"<pre><code>message = message\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsinvalidentitystateerror","title":"<code>leadr.common.domain.exceptions.InvalidEntityStateError</code>","text":"<pre><code>InvalidEntityStateError(entity_type, reason)\n</code></pre> <p>Bases: <code>DomainError</code></p> <p>Raised when an entity is in an invalid state for the requested operation.</p> <p>Use this exception when business rules prevent an operation due to the current state of an entity. For example, activating an already-active account, or modifying a deleted entity.</p> <p>Parameters:</p> <ul> <li>entity_type (<code>str</code>) \u2013 Name of the entity type (e.g., \"Account\", \"User\").</li> <li>reason (<code>str</code>) \u2013 Explanation of why the state is invalid.</li> </ul> Example  &gt; &gt; &gt; raise InvalidEntityStateError(\"Account\", \"Cannot activate already active account\") &gt; &gt; &gt; InvalidEntityStateError: Invalid Account state: Cannot activate already active account   <p>Attributes:</p> <ul> <li>entity_type \u2013</li> <li>message \u2013</li> <li>reason \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainexceptionsinvalidentitystateerrorentity_type","title":"# <code>leadr.common.domain.exceptions.InvalidEntityStateError.entity_type</code>","text":"<pre><code>entity_type = entity_type\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsinvalidentitystateerrormessage","title":"# <code>leadr.common.domain.exceptions.InvalidEntityStateError.message</code>","text":"<pre><code>message = message\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsinvalidentitystateerrorreason","title":"# <code>leadr.common.domain.exceptions.InvalidEntityStateError.reason</code>","text":"<pre><code>reason = reason\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsvalidationerror","title":"<code>leadr.common.domain.exceptions.ValidationError</code>","text":"<pre><code>ValidationError(entity_type, field, reason)\n</code></pre> <p>Bases: <code>DomainError</code></p> <p>Raised when entity validation fails.</p> <p>Use this exception when field-level validation fails, such as invalid format, out-of-range values, or constraint violations.</p> <p>Parameters:</p> <ul> <li>entity_type (<code>str</code>) \u2013 Name of the entity type (e.g., \"Account\", \"User\").</li> <li>field (<code>str</code>) \u2013 Name of the field that failed validation.</li> <li>reason (<code>str</code>) \u2013 Explanation of why validation failed.</li> </ul> Example  &gt; &gt; &gt; raise ValidationError(\"Account\", \"slug\", \"Must be lowercase alphanumeric\") &gt; &gt; &gt; ValidationError: Account.slug: Must be lowercase alphanumeric   <p>Attributes:</p> <ul> <li>entity_type \u2013</li> <li>field \u2013</li> <li>message \u2013</li> <li>reason \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainexceptionsvalidationerrorentity_type","title":"# <code>leadr.common.domain.exceptions.ValidationError.entity_type</code>","text":"<pre><code>entity_type = entity_type\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsvalidationerrorfield","title":"# <code>leadr.common.domain.exceptions.ValidationError.field</code>","text":"<pre><code>field = field\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsvalidationerrormessage","title":"# <code>leadr.common.domain.exceptions.ValidationError.message</code>","text":"<pre><code>message = message\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainexceptionsvalidationerrorreason","title":"# <code>leadr.common.domain.exceptions.ValidationError.reason</code>","text":"<pre><code>reason = reason\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainids","title":"<code>leadr.common.domain.ids</code>","text":"<p>Prefixed ID types for entity identification.</p> <p>Classes:</p> <ul> <li>APIKeyID \u2013 API key entity identifier.</li> <li>AccountID \u2013 Account entity identifier.</li> <li>BoardID \u2013 Board entity identifier.</li> <li>BoardTemplateID \u2013 Board template entity identifier.</li> <li>DeviceID \u2013 Device entity identifier.</li> <li>DeviceSessionID \u2013 Device session entity identifier.</li> <li>EmailID \u2013 Email entity identifier.</li> <li>GameID \u2013 Game entity identifier.</li> <li>JamCodeID \u2013 Jam Code entity identifier.</li> <li>JamCodeRedemptionID \u2013 Jam Code Redemption entity identifier.</li> <li>NonceID \u2013 Nonce entity identifier.</li> <li>PrefixedID \u2013 Base class for entity IDs with type prefixes.</li> <li>ScoreFlagID \u2013 Score flag entity identifier.</li> <li>ScoreID \u2013 Score entity identifier.</li> <li>ScoreSubmissionMetaID \u2013 Score submission metadata entity identifier.</li> <li>UserID \u2013 User entity identifier.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsapikeyid","title":"<code>leadr.common.domain.ids.APIKeyID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>API key entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsapikeyidprefix","title":"# <code>leadr.common.domain.ids.APIKeyID.prefix</code>","text":"<pre><code>prefix = 'key'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsapikeyiduuid","title":"# <code>leadr.common.domain.ids.APIKeyID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsaccountid","title":"<code>leadr.common.domain.ids.AccountID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Account entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsaccountidprefix","title":"# <code>leadr.common.domain.ids.AccountID.prefix</code>","text":"<pre><code>prefix = 'acc'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsaccountiduuid","title":"# <code>leadr.common.domain.ids.AccountID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsboardid","title":"<code>leadr.common.domain.ids.BoardID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Board entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsboardidprefix","title":"# <code>leadr.common.domain.ids.BoardID.prefix</code>","text":"<pre><code>prefix = 'brd'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsboardiduuid","title":"# <code>leadr.common.domain.ids.BoardID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsboardtemplateid","title":"<code>leadr.common.domain.ids.BoardTemplateID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Board template entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsboardtemplateidprefix","title":"# <code>leadr.common.domain.ids.BoardTemplateID.prefix</code>","text":"<pre><code>prefix = 'tpl'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsboardtemplateiduuid","title":"# <code>leadr.common.domain.ids.BoardTemplateID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsdeviceid","title":"<code>leadr.common.domain.ids.DeviceID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Device entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsdeviceidprefix","title":"# <code>leadr.common.domain.ids.DeviceID.prefix</code>","text":"<pre><code>prefix = 'dev'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsdeviceiduuid","title":"# <code>leadr.common.domain.ids.DeviceID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsdevicesessionid","title":"<code>leadr.common.domain.ids.DeviceSessionID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Device session entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsdevicesessionidprefix","title":"# <code>leadr.common.domain.ids.DeviceSessionID.prefix</code>","text":"<pre><code>prefix = 'ses'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsdevicesessioniduuid","title":"# <code>leadr.common.domain.ids.DeviceSessionID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsemailid","title":"<code>leadr.common.domain.ids.EmailID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Email entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsemailidprefix","title":"# <code>leadr.common.domain.ids.EmailID.prefix</code>","text":"<pre><code>prefix = 'eml'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsemailiduuid","title":"# <code>leadr.common.domain.ids.EmailID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsgameid","title":"<code>leadr.common.domain.ids.GameID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Game entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsgameidprefix","title":"# <code>leadr.common.domain.ids.GameID.prefix</code>","text":"<pre><code>prefix = 'gam'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsgameiduuid","title":"# <code>leadr.common.domain.ids.GameID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsjamcodeid","title":"<code>leadr.common.domain.ids.JamCodeID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Jam Code entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsjamcodeidprefix","title":"# <code>leadr.common.domain.ids.JamCodeID.prefix</code>","text":"<pre><code>prefix = 'jam'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsjamcodeiduuid","title":"# <code>leadr.common.domain.ids.JamCodeID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsjamcoderedemptionid","title":"<code>leadr.common.domain.ids.JamCodeRedemptionID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Jam Code Redemption entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsjamcoderedemptionidprefix","title":"# <code>leadr.common.domain.ids.JamCodeRedemptionID.prefix</code>","text":"<pre><code>prefix = 'red'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsjamcoderedemptioniduuid","title":"# <code>leadr.common.domain.ids.JamCodeRedemptionID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsnonceid","title":"<code>leadr.common.domain.ids.NonceID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Nonce entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsnonceidprefix","title":"# <code>leadr.common.domain.ids.NonceID.prefix</code>","text":"<pre><code>prefix = 'non'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsnonceiduuid","title":"# <code>leadr.common.domain.ids.NonceID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsprefixedid","title":"<code>leadr.common.domain.ids.PrefixedID</code>","text":"<pre><code>PrefixedID(value=None)\n</code></pre> <p>Base class for entity IDs with type prefixes.</p> <p>Provides Stripe-style prefixed UUIDs (e.g., \"acc_123e4567-e89b-...\") while maintaining internal UUID representation for database efficiency.</p> Usage  - AccountID() \u2192 generates new ID - AccountID(\"acc_123...\") \u2192 parses prefixed string - AccountID(uuid_obj) \u2192 wraps existing UUID   <p>Attributes:</p> <ul> <li>prefix (<code>str</code>) \u2013</li> <li>uuid \u2013</li> </ul> <p>Parameters:</p> <ul> <li>value (<code>str | UUID | Self | None</code>) \u2013 Optional value to initialize from:</li> <li>None: Generate new UUID</li> <li>str: Parse \"prefix_uuid\" format</li> <li>UUID: Wrap existing UUID</li> <li>PrefixedID: Extract UUID from another PrefixedID</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If string format is invalid or prefix doesn't match</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsprefixedidprefix","title":"# <code>leadr.common.domain.ids.PrefixedID.prefix</code>","text":"<pre><code>prefix: str = ''\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsprefixediduuid","title":"# <code>leadr.common.domain.ids.PrefixedID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoreflagid","title":"<code>leadr.common.domain.ids.ScoreFlagID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Score flag entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsscoreflagidprefix","title":"# <code>leadr.common.domain.ids.ScoreFlagID.prefix</code>","text":"<pre><code>prefix = 'flg'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoreflagiduuid","title":"# <code>leadr.common.domain.ids.ScoreFlagID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoreid","title":"<code>leadr.common.domain.ids.ScoreID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Score entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsscoreidprefix","title":"# <code>leadr.common.domain.ids.ScoreID.prefix</code>","text":"<pre><code>prefix = 'scr'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoreiduuid","title":"# <code>leadr.common.domain.ids.ScoreID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoresubmissionmetaid","title":"<code>leadr.common.domain.ids.ScoreSubmissionMetaID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>Score submission metadata entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsscoresubmissionmetaidprefix","title":"# <code>leadr.common.domain.ids.ScoreSubmissionMetaID.prefix</code>","text":"<pre><code>prefix = 'sub'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsscoresubmissionmetaiduuid","title":"# <code>leadr.common.domain.ids.ScoreSubmissionMetaID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsuserid","title":"<code>leadr.common.domain.ids.UserID</code>","text":"<p>Bases: <code>PrefixedID</code></p> <p>User entity identifier.</p> <p>Attributes:</p> <ul> <li>prefix \u2013</li> <li>uuid \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainidsuseridprefix","title":"# <code>leadr.common.domain.ids.UserID.prefix</code>","text":"<pre><code>prefix = 'usr'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainidsuseriduuid","title":"# <code>leadr.common.domain.ids.UserID.uuid</code>","text":"<pre><code>uuid = uuid4()\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainmodels","title":"<code>leadr.common.domain.models</code>","text":"<p>Common domain models and value objects.</p> <p>Classes:</p> <ul> <li>Entity \u2013 Base class for all domain entities with ID and timestamps.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainmodelsentity","title":"<code>leadr.common.domain.models.Entity</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Base class for all domain entities with ID and timestamps.</p> <p>Provides common functionality for domain entities including:</p> <ul> <li>Auto-generated UUID primary key (or typed prefixed ID in subclasses)</li> <li>Created/updated timestamps (UTC)</li> <li>Soft delete support with deleted_at timestamp</li> <li>Equality and hashing based on ID</li> </ul> <p>All domain entities should extend this base class. The ID and timestamps are automatically populated on entity creation and don't need to be provided by consumers.</p> <p>Subclasses can override the <code>id</code> field with a typed PrefixedID for better type safety and API clarity.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>Any</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainmodelsentitycreated_at","title":"# <code>leadr.common.domain.models.Entity.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainmodelsentitydeleted_at","title":"# <code>leadr.common.domain.models.Entity.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainmodelsentityid","title":"# <code>leadr.common.domain.models.Entity.id</code>","text":"<pre><code>id: Any = Field(frozen=True, default_factory=uuid4, description='Unique identifier (auto-generated UUID or typed ID)')\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainmodelsentityis_deleted","title":"# <code>leadr.common.domain.models.Entity.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainmodelsentitymodel_config","title":"# <code>leadr.common.domain.models.Entity.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainmodelsentityrestore","title":"# <code>leadr.common.domain.models.Entity.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/common/#leadrcommondomainmodelsentitysoft_delete","title":"# <code>leadr.common.domain.models.Entity.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/common/#leadrcommondomainmodelsentityupdated_at","title":"# <code>leadr.common.domain.models.Entity.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination","title":"<code>leadr.common.domain.pagination</code>","text":"<p>Pagination domain models.</p> <p>Classes:</p> <ul> <li>CursorPosition \u2013 Position in a paginated result set.</li> <li>PaginationDirection \u2013 Direction of pagination.</li> <li>SortDirection \u2013 Sort direction for fields.</li> <li>SortField \u2013 Specification for sorting a field.</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpaginationcursorposition","title":"<code>leadr.common.domain.pagination.CursorPosition</code>","text":"<pre><code>CursorPosition(values, entity_id)\n</code></pre> <p>Position in a paginated result set.</p> <p>Attributes:</p> <ul> <li>values (<code>tuple[Any, ...]</code>) \u2013 List of values for each sort field at this position</li> <li>entity_id (<code>str</code>) \u2013 The ID of the entity at this position (for stable sorting)</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpaginationcursorpositionentity_id","title":"# <code>leadr.common.domain.pagination.CursorPosition.entity_id</code>","text":"<pre><code>entity_id: str\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationcursorpositionvalues","title":"# <code>leadr.common.domain.pagination.CursorPosition.values</code>","text":"<pre><code>values: tuple[Any, ...]\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationpaginationdirection","title":"<code>leadr.common.domain.pagination.PaginationDirection</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Direction of pagination.</p> <p>Attributes:</p> <ul> <li>BACKWARD \u2013</li> <li>FORWARD \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpaginationpaginationdirectionbackward","title":"# <code>leadr.common.domain.pagination.PaginationDirection.BACKWARD</code>","text":"<pre><code>BACKWARD = 'backward'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationpaginationdirectionforward","title":"# <code>leadr.common.domain.pagination.PaginationDirection.FORWARD</code>","text":"<pre><code>FORWARD = 'forward'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortdirection","title":"<code>leadr.common.domain.pagination.SortDirection</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Sort direction for fields.</p> <p>Attributes:</p> <ul> <li>ASC \u2013</li> <li>DESC \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortdirectionasc","title":"# <code>leadr.common.domain.pagination.SortDirection.ASC</code>","text":"<pre><code>ASC = 'asc'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortdirectiondesc","title":"# <code>leadr.common.domain.pagination.SortDirection.DESC</code>","text":"<pre><code>DESC = 'desc'\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortfield","title":"<code>leadr.common.domain.pagination.SortField</code>","text":"<pre><code>SortField(name, direction)\n</code></pre> <p>Specification for sorting a field.</p> <p>Attributes:</p> <ul> <li>name (<code>str</code>) \u2013 Field name to sort by</li> <li>direction (<code>SortDirection</code>) \u2013 ASC or DESC</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortfielddirection","title":"# <code>leadr.common.domain.pagination.SortField.direction</code>","text":"<pre><code>direction: SortDirection\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpaginationsortfieldname","title":"# <code>leadr.common.domain.pagination.SortField.name</code>","text":"<pre><code>name: str\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_result","title":"<code>leadr.common.domain.pagination_result</code>","text":"<p>Pagination result from repository layer.</p> <p>Classes:</p> <ul> <li>PaginatedResult \u2013 Result of a paginated query from the repository layer.</li> </ul> <p>Attributes:</p> <ul> <li>T \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresult","title":"<code>leadr.common.domain.pagination_result.PaginatedResult</code>","text":"<pre><code>PaginatedResult(items, has_next, has_prev, next_position, prev_position)\n</code></pre> <p>Bases: <code>Generic[T]</code></p> <p>Result of a paginated query from the repository layer.</p> <p>Attributes:</p> <ul> <li>items (<code>list[T]</code>) \u2013 List of entities returned by the query</li> <li>has_next (<code>bool</code>) \u2013 Whether there are more results after these items</li> <li>has_prev (<code>bool</code>) \u2013 Whether there are results before these items</li> <li>next_position (<code>CursorPosition | None</code>) \u2013 Position for the next page cursor (if has_next)</li> <li>prev_position (<code>CursorPosition | None</code>) \u2013 Position for the previous page cursor (if has_prev)</li> </ul>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresultcount","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.count</code>","text":"<pre><code>count: int\n</code></pre> <p>Return the number of items in this page.</p>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresulthas_next","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.has_next</code>","text":"<pre><code>has_next: bool\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresulthas_prev","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.has_prev</code>","text":"<pre><code>has_prev: bool\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresultitems","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.items</code>","text":"<pre><code>items: list[T]\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresultnext_position","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.next_position</code>","text":"<pre><code>next_position: CursorPosition | None\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultpaginatedresultprev_position","title":"# <code>leadr.common.domain.pagination_result.PaginatedResult.prev_position</code>","text":"<pre><code>prev_position: CursorPosition | None\n</code></pre>"},{"location":"api/reference/common/#leadrcommondomainpagination_resultt","title":"<code>leadr.common.domain.pagination_result.T</code>","text":"<pre><code>T = TypeVar('T')\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoip","title":"<code>leadr.common.geoip</code>","text":"<p>GeoIP service for IP address geolocation using MaxMind databases.</p> <p>Classes:</p> <ul> <li>GeoIPService \u2013 Service for IP address geolocation using MaxMind GeoLite2 databases.</li> <li>GeoInfo \u2013 Geolocation information extracted from IP address.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservice","title":"<code>leadr.common.geoip.GeoIPService</code>","text":"<pre><code>GeoIPService(account_id, license_key, city_db_url, country_db_url, database_path, refresh_days=7)\n</code></pre> <p>Service for IP address geolocation using MaxMind GeoLite2 databases.</p> <p>This service downloads and manages MaxMind GeoLite2 databases for IP geolocation. Databases are cached locally and refreshed periodically.</p> Example  &gt; &gt; &gt; service = GeoIPService( &gt; &gt; &gt; ... account_id=\"12345\", &gt; &gt; &gt; ... license_key=\"your_key\", &gt; &gt; &gt; ... city_db_url=\"https://download.maxmind.com/...\", &gt; &gt; &gt; ... country_db_url=\"https://download.maxmind.com/...\", &gt; &gt; &gt; ... database_path=Path(\".geoip\"), &gt; &gt; &gt; ... refresh_days=7, &gt; &gt; &gt; ... ) &gt; &gt; &gt; await service.initialize() &gt; &gt; &gt; geo_info = service.get_geo_info(\"8.8.8.8\") &gt; &gt; &gt; print(geo_info.country) &gt; &gt; &gt; 'US'   <p>Functions:</p> <ul> <li>close \u2013 Close database readers and release resources.</li> <li>get_geo_info \u2013 Look up geolocation information for an IP address.</li> <li>initialize \u2013 Initialize the GeoIP service by downloading and loading databases.</li> </ul> <p>Attributes:</p> <ul> <li>account_id \u2013</li> <li>city_db_url \u2013</li> <li>country_db_url \u2013</li> <li>database_path \u2013</li> <li>license_key \u2013</li> <li>refresh_days \u2013</li> </ul> <p>Parameters:</p> <ul> <li>account_id (<code>str</code>) \u2013 MaxMind account ID for basic auth</li> <li>license_key (<code>str</code>) \u2013 MaxMind license key for basic auth</li> <li>city_db_url (<code>str</code>) \u2013 URL to download GeoLite2 City database (tar.gz)</li> <li>country_db_url (<code>str</code>) \u2013 URL to download GeoLite2 Country database (tar.gz)</li> <li>database_path (<code>Path</code>) \u2013 Directory path to store database files</li> <li>refresh_days (<code>int</code>) \u2013 Number of days before refreshing databases (default: 7)</li> </ul>"},{"location":"api/reference/common/#leadrcommongeoipgeoipserviceaccount_id","title":"<code>leadr.common.geoip.GeoIPService.account_id</code>","text":"<pre><code>account_id = account_id\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservicecity_db_url","title":"<code>leadr.common.geoip.GeoIPService.city_db_url</code>","text":"<pre><code>city_db_url = city_db_url\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoipserviceclose","title":"<code>leadr.common.geoip.GeoIPService.close</code>","text":"<pre><code>close()\n</code></pre> <p>Close database readers and release resources.</p>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservicecountry_db_url","title":"<code>leadr.common.geoip.GeoIPService.country_db_url</code>","text":"<pre><code>country_db_url = country_db_url\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservicedatabase_path","title":"<code>leadr.common.geoip.GeoIPService.database_path</code>","text":"<pre><code>database_path = database_path\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoipserviceget_geo_info","title":"<code>leadr.common.geoip.GeoIPService.get_geo_info</code>","text":"<pre><code>get_geo_info(ip_address)\n</code></pre> <p>Look up geolocation information for an IP address.</p> <p>Parameters:</p> <ul> <li>ip_address (<code>str</code>) \u2013 IP address to look up (e.g., '8.8.8.8')</li> </ul> <p>Returns:</p> <ul> <li><code>GeoInfo | None</code> \u2013 GeoInfo with timezone, country, and city, or None if lookup fails</li> </ul>"},{"location":"api/reference/common/#leadrcommongeoipgeoipserviceinitialize","title":"<code>leadr.common.geoip.GeoIPService.initialize</code>","text":"<pre><code>initialize()\n</code></pre> <p>Initialize the GeoIP service by downloading and loading databases.</p> <p>This method:</p> <ol> <li>Creates the database directory if it doesn't exist</li> <li>Downloads databases if they don't exist or are stale</li> <li>Extracts tar.gz files to get .mmdb files</li> <li>Opens database readers</li> </ol> <p>Errors are logged but not raised - the service will work without databases (get_geo_info will return None).</p>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservicelicense_key","title":"<code>leadr.common.geoip.GeoIPService.license_key</code>","text":"<pre><code>license_key = license_key\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoipservicerefresh_days","title":"<code>leadr.common.geoip.GeoIPService.refresh_days</code>","text":"<pre><code>refresh_days = refresh_days\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoinfo","title":"<code>leadr.common.geoip.GeoInfo</code>","text":"<pre><code>GeoInfo(timezone, country, city)\n</code></pre> <p>Geolocation information extracted from IP address.</p> <p>Attributes:</p> <ul> <li>timezone (<code>str | None</code>) \u2013 IANA timezone identifier (e.g., 'America/New_York')</li> <li>country (<code>str | None</code>) \u2013 ISO country code (e.g., 'US')</li> <li>city (<code>str | None</code>) \u2013 City name (e.g., 'New York')</li> </ul>"},{"location":"api/reference/common/#leadrcommongeoipgeoinfocity","title":"<code>leadr.common.geoip.GeoInfo.city</code>","text":"<pre><code>city: str | None\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoinfocountry","title":"<code>leadr.common.geoip.GeoInfo.country</code>","text":"<pre><code>country: str | None\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoipgeoinfotimezone","title":"<code>leadr.common.geoip.GeoInfo.timezone</code>","text":"<pre><code>timezone: str | None\n</code></pre>"},{"location":"api/reference/common/#leadrcommongeoiplogger","title":"<code>leadr.common.geoip.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonorm","title":"<code>leadr.common.orm</code>","text":"<p>Common ORM base classes and utilities.</p> <p>Classes:</p> <ul> <li>Base \u2013 Base class for all database models with UUID primary key and timestamps.</li> </ul> <p>Attributes:</p> <ul> <li>nullable_timestamp \u2013</li> <li>timestamp \u2013</li> <li>uuid_pk \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonormbase","title":"<code>leadr.common.orm.Base</code>","text":"<p>Bases: <code>DeclarativeBase</code></p> <p>Base class for all database models with UUID primary key and timestamps.</p> <p>Attributes:</p> <ul> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonormbasecreated_at","title":"<code>leadr.common.orm.Base.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormbasedeleted_at","title":"<code>leadr.common.orm.Base.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormbaseid","title":"<code>leadr.common.orm.Base.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormbaseupdated_at","title":"<code>leadr.common.orm.Base.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormnullable_timestamp","title":"<code>leadr.common.orm.nullable_timestamp</code>","text":"<pre><code>nullable_timestamp = Annotated[datetime | None, mapped_column(DateTime(timezone=True), nullable=True, default=None)]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormtimestamp","title":"<code>leadr.common.orm.timestamp</code>","text":"<pre><code>timestamp = Annotated[datetime, mapped_column(DateTime(timezone=True), nullable=False, server_default=(func.now()), default=(lambda: datetime.now(UTC)))]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonormuuid_pk","title":"<code>leadr.common.orm.uuid_pk</code>","text":"<pre><code>uuid_pk = Annotated[UUID, mapped_column(primary_key=True, default=uuid4, server_default=(func.gen_random_uuid()))]\n</code></pre>"},{"location":"api/reference/common/#leadrcommonrepositories","title":"<code>leadr.common.repositories</code>","text":"<p>Base repository abstraction for common CRUD operations.</p> <p>Classes:</p> <ul> <li>BaseRepository \u2013 Abstract base repository providing common CRUD operations.</li> </ul> <p>Attributes:</p> <ul> <li>DomainEntityT \u2013</li> <li>ORMModelT \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepository","title":"<code>leadr.common.repositories.BaseRepository</code>","text":"<pre><code>BaseRepository(session)\n</code></pre> <p>Bases: <code>ABC</code>, <code>Generic[DomainEntityT, ORMModelT]</code></p> <p>Abstract base repository providing common CRUD operations.</p> <p>All repositories should extend this class and implement the abstract methods for converting between domain entities and ORM models.</p> <p>All delete operations are soft deletes by default, setting deleted_at timestamp.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter entities based on criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>session \u2013</li> </ul> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 SQLAlchemy async session</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositorycreate","title":"<code>leadr.common.repositories.BaseRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositorydelete","title":"<code>leadr.common.repositories.BaseRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositoryfilter","title":"<code>leadr.common.repositories.BaseRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter entities based on criteria with pagination.</p> <p>All filter operations return paginated results. The pagination parameter is required to enforce consistent API behavior across the codebase.</p> <p>For multi-tenant entities, implementations should make account_id required (no default). For top-level entities like Account, account_id can remain optional and unused.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID for filtering. Multi-tenant entities   should override to make this required.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Required pagination parameters (cursor, limit, sort).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters specific to the entity type.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[DomainEntityT]</code> \u2013 PaginatedResult containing matching entities and pagination metadata.</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositoryget_by_id","title":"<code>leadr.common.repositories.BaseRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositorysession","title":"<code>leadr.common.repositories.BaseRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/common/#leadrcommonrepositoriesbaserepositoryupdate","title":"<code>leadr.common.repositories.BaseRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/common/#leadrcommonrepositoriesdomainentityt","title":"<code>leadr.common.repositories.DomainEntityT</code>","text":"<pre><code>DomainEntityT = TypeVar('DomainEntityT', bound=Entity)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonrepositoriesormmodelt","title":"<code>leadr.common.repositories.ORMModelT</code>","text":"<pre><code>ORMModelT = TypeVar('ORMModelT', bound=Base)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonservices","title":"<code>leadr.common.services</code>","text":"<p>Base service abstraction for common business logic patterns.</p> <p>Classes:</p> <ul> <li>BaseService \u2013 Abstract base service providing common business logic patterns.</li> </ul> <p>Attributes:</p> <ul> <li>DomainEntityT \u2013</li> <li>RepositoryT \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseservice","title":"<code>leadr.common.services.BaseService</code>","text":"<pre><code>BaseService(session)\n</code></pre> <p>Bases: <code>ABC</code>, <code>Generic[DomainEntityT, RepositoryT]</code></p> <p>Abstract base service providing common business logic patterns.</p> <p>All services should extend this class to ensure consistent patterns for:</p> <ul> <li>Repository initialization</li> <li>Standard CRUD operations</li> <li>Error handling with domain exceptions</li> </ul> <p>The service layer sits between API routes and repositories, providing:</p> <ul> <li>Business logic orchestration</li> <li>Domain validation</li> <li>Transaction boundaries</li> <li>Consistent error handling</li> </ul> <p>Functions:</p> <ul> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 SQLAlchemy async session for database operations</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseservicedelete","title":"<code>leadr.common.services.BaseService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseserviceget_by_id","title":"<code>leadr.common.services.BaseService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseserviceget_by_id_or_raise","title":"<code>leadr.common.services.BaseService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseservicelist_all","title":"<code>leadr.common.services.BaseService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesbaseservicerepository","title":"<code>leadr.common.services.BaseService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonservicesbaseservicesoft_delete","title":"<code>leadr.common.services.BaseService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/common/#leadrcommonservicesdomainentityt","title":"<code>leadr.common.services.DomainEntityT</code>","text":"<pre><code>DomainEntityT = TypeVar('DomainEntityT', bound=Entity)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonservicesrepositoryt","title":"<code>leadr.common.services.RepositoryT</code>","text":"<pre><code>RepositoryT = TypeVar('RepositoryT', bound=BaseRepository)\n</code></pre>"},{"location":"api/reference/common/#leadrcommonutils","title":"<code>leadr.common.utils</code>","text":"<p>Common utility functions.</p> <p>Modules:</p> <ul> <li>ip \u2013 IP address extraction utilities.</li> <li>slug \u2013 Slug generation utilities.</li> </ul>"},{"location":"api/reference/common/#leadrcommonutilsip","title":"<code>leadr.common.utils.ip</code>","text":"<p>IP address extraction utilities.</p> <p>Functions:</p> <ul> <li>extract_client_ip \u2013 Extract client IP address from request headers.</li> </ul>"},{"location":"api/reference/common/#leadrcommonutilsipextract_client_ip","title":"<code>leadr.common.utils.ip.extract_client_ip</code>","text":"<pre><code>extract_client_ip(request)\n</code></pre> <p>Extract client IP address from request headers.</p> <p>Checks headers in priority order:</p> <ol> <li>X-Real-IP - common proxy header</li> <li>X-Forwarded-For - standard proxy header (uses leftmost IP)</li> <li>CF-Connecting-IP - Cloudflare header</li> <li>request.client.host - fallback to direct connection</li> </ol> <p>Parameters:</p> <ul> <li>request (<code>Request</code>) \u2013 The incoming FastAPI/Starlette request</li> </ul> <p>Returns:</p> <ul> <li><code>str | None</code> \u2013 IP address string, or None if unable to extract</li> </ul>"},{"location":"api/reference/common/#leadrcommonutilsslug","title":"<code>leadr.common.utils.slug</code>","text":"<p>Slug generation utilities.</p> <p>Provides utilities for generating URL-friendly slugs from text, with support for collision handling and uniqueness constraints.</p> <p>Functions:</p> <ul> <li>generate_slug \u2013 Generate a URL-friendly slug from text.</li> <li>generate_unique_slug_with_retry \u2013 Generate a unique slug with collision handling.</li> </ul> <p>Attributes:</p> <ul> <li>T \u2013</li> </ul>"},{"location":"api/reference/common/#leadrcommonutilsslugt","title":"<code>leadr.common.utils.slug.T</code>","text":"<pre><code>T = TypeVar('T')\n</code></pre>"},{"location":"api/reference/common/#leadrcommonutilssluggenerate_slug","title":"<code>leadr.common.utils.slug.generate_slug</code>","text":"<pre><code>generate_slug(text, max_length=50)\n</code></pre> <p>Generate a URL-friendly slug from text.</p> <p>Converts text to lowercase, replaces spaces with hyphens, removes special characters, and handles unicode by transliterating accented characters.</p> <p>Parameters:</p> <ul> <li>text (<code>str</code>) \u2013 The text to convert to a slug</li> <li>max_length (<code>int</code>) \u2013 Maximum length of the generated slug (default: 50)</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A lowercase slug with alphanumeric characters, hyphens, and underscores</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If text is empty or contains no valid characters after processing</li> </ul> <p>Examples:</p> <pre><code>&gt;&gt;&gt; generate_slug(\"Hello World\")\n\"hello-world\"\n&gt;&gt;&gt; generate_slug(\"Caf\u00e9 Board\")\n\"cafe-board\"\n&gt;&gt;&gt; generate_slug(\"Speed-Run 2024\")\n\"speed-run-2024\"\n</code></pre>"},{"location":"api/reference/common/#leadrcommonutilssluggenerate_unique_slug_with_retry","title":"<code>leadr.common.utils.slug.generate_unique_slug_with_retry</code>","text":"<pre><code>generate_unique_slug_with_retry(base_text, check_exists, max_retries=10, max_length=50)\n</code></pre> <p>Generate a unique slug with collision handling.</p> <p>Attempts to generate a unique slug from the base text. If a collision is detected (slug already exists), appends a numeric suffix and retries.</p> <p>Parameters:</p> <ul> <li>base_text (<code>str</code>) \u2013 The text to convert to a slug</li> <li>check_exists (<code>Callable[[str], Awaitable[bool]]</code>) \u2013 Async function that returns True if slug already exists</li> <li>max_retries (<code>int</code>) \u2013 Maximum number of collision retries (default: 10)</li> <li>max_length (<code>int</code>) \u2013 Maximum length of the generated slug (default: 50)</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A unique slug that doesn't collide with existing slugs</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If unable to generate unique slug after max_retries</li> <li><code>ValueError</code> \u2013 If base_text is invalid for slug generation</li> </ul> <p>Examples:</p> <pre><code>&gt;&gt;&gt; async def check(slug: str) -&gt; bool:\n...     return slug in [\"my-board\", \"my-board-2\"]\n&gt;&gt;&gt; await generate_unique_slug_with_retry(\"My Board\", check)\n\"my-board-3\"\n</code></pre>"},{"location":"api/reference/config/","title":"Config","text":""},{"location":"api/reference/config/#leadrconfig","title":"<code>leadr.config</code>","text":"<p>Application configuration management.</p> <p>This module defines the configuration settings for the LEADR application using Pydantic Settings. Configuration values are loaded from environment variables and .env files, with validation and type checking.</p> Environment files  - .env: Production/development configuration (default) - .env.test: Test environment configuration (when ENV=TEST)   Example  Settings are automatically loaded based on the ENV variable:  &gt; &gt; &gt; from leadr.config import settings &gt; &gt; &gt; settings.API_PREFIX &gt; &gt; &gt; '/v1'   <p>Classes:</p> <ul> <li>CommonSettings \u2013 Base configuration settings shared across all environments.</li> <li>Settings \u2013 Production/development environment settings.</li> <li>TestSettings \u2013 Test environment settings.</li> </ul> <p>Attributes:</p> <ul> <li>PROJ_ROOT \u2013</li> <li>settings \u2013</li> </ul>"},{"location":"api/reference/config/#leadrconfigcommonsettings","title":"<code>leadr.config.CommonSettings</code>","text":"<p>Bases: <code>BaseSettings</code></p> <p>Base configuration settings shared across all environments.</p> <p>This class defines all configuration fields that are common to both production and test environments. Specific environment classes can override defaults or add environment-specific settings.</p> <p>All settings can be configured via environment variables matching the field names (case-sensitive).</p> <p>Functions:</p> <ul> <li>validate_api_enabled \u2013 Ensure at least one API (Admin or Client) is enabled.</li> </ul> <p>Attributes:</p> <ul> <li>ACCESS_TOKEN_EXPIRY_HOURS (<code>int</code>) \u2013</li> <li>ANTICHEAT_DUPLICATE_WINDOW_SECONDS (<code>int</code>) \u2013</li> <li>ANTICHEAT_ENABLED (<code>bool</code>) \u2013</li> <li>ANTICHEAT_LOGGING_ONLY (<code>bool</code>) \u2013</li> <li>ANTICHEAT_MIN_SAMPLES_FOR_STATS (<code>int</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_A (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_B (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_C (<code>float</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_A (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_B (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_C (<code>int</code>) \u2013</li> <li>ANTICHEAT_VELOCITY_THRESHOLD_SECONDS (<code>float</code>) \u2013</li> <li>API_KEY_SECRET (<code>str</code>) \u2013</li> <li>API_PREFIX (<code>str</code>) \u2013</li> <li>APP (<code>str</code>) \u2013</li> <li>BACKGROUND_TASK_EXPIRE_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_TEMPLATE_INTERVAL (<code>int</code>) \u2013</li> <li>BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>BOARDS_UI_DOMAIN (<code>str | None</code>) \u2013</li> <li>DASHBOARD_URL (<code>HttpUrl</code>) \u2013</li> <li>DB_ECHO (<code>bool</code>) \u2013</li> <li>DB_HOST (<code>str</code>) \u2013</li> <li>DB_HOST_DIRECT (<code>str | None</code>) \u2013</li> <li>DB_NAME (<code>str</code>) \u2013</li> <li>DB_PASSWORD (<code>str</code>) \u2013</li> <li>DB_POOL_MAX_OVERFLOW (<code>int</code>) \u2013</li> <li>DB_POOL_RECYCLE (<code>int</code>) \u2013</li> <li>DB_POOL_SIZE (<code>int</code>) \u2013</li> <li>DB_PORT (<code>int</code>) \u2013</li> <li>DB_USER (<code>str</code>) \u2013</li> <li>DEBUG (<code>bool</code>) \u2013</li> <li>DEV_OVERRIDE_IP (<code>str | None</code>) \u2013</li> <li>ENABLE_ADMIN_API (<code>bool</code>) \u2013</li> <li>ENABLE_CLIENT_API (<code>bool</code>) \u2013</li> <li>ENV (<code>str</code>) \u2013</li> <li>GEOIP_DATABASE_PATH (<code>Path</code>) \u2013</li> <li>GEOIP_REFRESH_DAYS (<code>int</code>) \u2013</li> <li>JWT_LIFETIME_SECONDS (<code>int</code>) \u2013</li> <li>JWT_SECRET (<code>str</code>) \u2013</li> <li>KEYS_PATH (<code>Path</code>) \u2013</li> <li>LOG_DIR (<code>Path</code>) \u2013</li> <li>LOG_JSON (<code>bool</code>) \u2013</li> <li>LOG_TO_FILE (<code>bool</code>) \u2013</li> <li>MAILGUN_API_KEY (<code>str</code>) \u2013</li> <li>MAILGUN_DOMAIN (<code>str</code>) \u2013</li> <li>MAXMIND_ACCOUNT_ID (<code>str</code>) \u2013</li> <li>MAXMIND_CITY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_COUNTRY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_LICENSE_KEY (<code>str</code>) \u2013</li> <li>REFRESH_TOKEN_EXPIRY_DAYS (<code>int</code>) \u2013</li> <li>REGISTRATION_RATE_LIMIT_PER_HOUR (<code>int</code>) \u2013</li> <li>SCORE_METADATA_MAX_SIZE_BYTES (<code>int</code>) \u2013</li> <li>SOURCE_OAUTH_BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_SLUG (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_DISPLAY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_EMAIL (<code>str</code>) \u2013</li> <li>TESTING_EMAIL (<code>str</code>) \u2013</li> <li>VERIFICATION_CODE_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>VERIFICATION_TOKEN_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>model_config \u2013</li> </ul>"},{"location":"api/reference/config/#leadrconfigcommonsettingsaccess_token_expiry_hours","title":"<code>leadr.config.CommonSettings.ACCESS_TOKEN_EXPIRY_HOURS</code>","text":"<pre><code>ACCESS_TOKEN_EXPIRY_HOURS: int = Field(default=24, description='Device access token expiration time in hours (default: 24 hours)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_duplicate_window_seconds","title":"<code>leadr.config.CommonSettings.ANTICHEAT_DUPLICATE_WINDOW_SECONDS</code>","text":"<pre><code>ANTICHEAT_DUPLICATE_WINDOW_SECONDS: int = Field(default=300, description='Time window in seconds for detecting duplicate score submissions (default: 5 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_enabled","title":"<code>leadr.config.CommonSettings.ANTICHEAT_ENABLED</code>","text":"<pre><code>ANTICHEAT_ENABLED: bool = Field(default=False, description='Enable anti-cheat checks on score submissions')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_logging_only","title":"<code>leadr.config.CommonSettings.ANTICHEAT_LOGGING_ONLY</code>","text":"<pre><code>ANTICHEAT_LOGGING_ONLY: bool = Field(default=True, description=\"Log anti-cheat detections but don't reject/flag submissions (dry-run mode)\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_min_samples_for_stats","title":"<code>leadr.config.CommonSettings.ANTICHEAT_MIN_SAMPLES_FOR_STATS</code>","text":"<pre><code>ANTICHEAT_MIN_SAMPLES_FOR_STATS: int = Field(default=10, description='Minimum number of scores required before statistical outlier detection is enabled')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_outlier_threshold_tier_a","title":"<code>leadr.config.CommonSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_A</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_A: float = Field(default=4.0, description='Outlier threshold for Tier A devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_outlier_threshold_tier_b","title":"<code>leadr.config.CommonSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_B</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_B: float = Field(default=3.0, description='Outlier threshold for Tier B devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_outlier_threshold_tier_c","title":"<code>leadr.config.CommonSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_C</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_C: float = Field(default=2.5, description='Outlier threshold for Tier C devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_rate_limit_tier_a","title":"<code>leadr.config.CommonSettings.ANTICHEAT_RATE_LIMIT_TIER_A</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_A: int = Field(default=100, description='Rate limit for Tier A (trusted) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_rate_limit_tier_b","title":"<code>leadr.config.CommonSettings.ANTICHEAT_RATE_LIMIT_TIER_B</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_B: int = Field(default=50, description='Rate limit for Tier B (verified) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_rate_limit_tier_c","title":"<code>leadr.config.CommonSettings.ANTICHEAT_RATE_LIMIT_TIER_C</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_C: int = Field(default=20, description='Rate limit for Tier C (unverified) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsanticheat_velocity_threshold_seconds","title":"<code>leadr.config.CommonSettings.ANTICHEAT_VELOCITY_THRESHOLD_SECONDS</code>","text":"<pre><code>ANTICHEAT_VELOCITY_THRESHOLD_SECONDS: float = Field(default=2.0, description='Minimum time between submissions to avoid velocity detection (in seconds)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsapi_key_secret","title":"<code>leadr.config.CommonSettings.API_KEY_SECRET</code>","text":"<pre><code>API_KEY_SECRET: str = Field(default='your-super-secret-api-key-pepper-change-in-production', description='Secret pepper for API key hashing. MUST be changed in production.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsapi_prefix","title":"<code>leadr.config.CommonSettings.API_PREFIX</code>","text":"<pre><code>API_PREFIX: str = Field(default='/v1', description=\"API route prefix for versioning (e.g., '/v1')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsapp","title":"<code>leadr.config.CommonSettings.APP</code>","text":"<pre><code>APP: str = Field(default='LEADR', description='Application name identifier')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsbackground_task_expire_interval","title":"<code>leadr.config.CommonSettings.BACKGROUND_TASK_EXPIRE_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_EXPIRE_INTERVAL: int = Field(default=60, description='Interval in seconds for expiring boards (default: 60s)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsbackground_task_nonce_cleanup_interval","title":"<code>leadr.config.CommonSettings.BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL: int = Field(default=3600, description='Interval in seconds for cleaning up expired nonces (default: 3600s / 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsbackground_task_template_interval","title":"<code>leadr.config.CommonSettings.BACKGROUND_TASK_TEMPLATE_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_TEMPLATE_INTERVAL: int = Field(default=60, description='Interval in seconds for processing due board templates (default: 60s)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsbase_url","title":"<code>leadr.config.CommonSettings.BASE_URL</code>","text":"<pre><code>BASE_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description=\"Base URL for the API server (e.g., 'https://api.leadr.gg')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsboards_ui_domain","title":"<code>leadr.config.CommonSettings.BOARDS_UI_DOMAIN</code>","text":"<pre><code>BOARDS_UI_DOMAIN: str | None = Field(default=None, description=\"Base URL for public board UI (e.g., 'https://boards.leadr.gg'). When set, enables url/url_short fields in Game and Board API responses.\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdashboard_url","title":"<code>leadr.config.CommonSettings.DASHBOARD_URL</code>","text":"<pre><code>DASHBOARD_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description=\"URL for the web dashboard (e.g., 'https://dashboard.leadr.gg')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_echo","title":"<code>leadr.config.CommonSettings.DB_ECHO</code>","text":"<pre><code>DB_ECHO: bool = Field(default=False, description='Log all SQL queries to stdout (useful for debugging)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_host","title":"<code>leadr.config.CommonSettings.DB_HOST</code>","text":"<pre><code>DB_HOST: str = Field(default='localhost', description='PostgreSQL database host')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_host_direct","title":"<code>leadr.config.CommonSettings.DB_HOST_DIRECT</code>","text":"<pre><code>DB_HOST_DIRECT: str | None = Field(default=None, description='Direct PostgreSQL host for migrations (bypasses connection pooler). If not set, falls back to DB_HOST. For Neon, use the non-pooler endpoint.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_name","title":"<code>leadr.config.CommonSettings.DB_NAME</code>","text":"<pre><code>DB_NAME: str = Field(default='leadr', description='PostgreSQL database name')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_password","title":"<code>leadr.config.CommonSettings.DB_PASSWORD</code>","text":"<pre><code>DB_PASSWORD: str = Field(default='leadr', description='PostgreSQL database password')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_pool_max_overflow","title":"<code>leadr.config.CommonSettings.DB_POOL_MAX_OVERFLOW</code>","text":"<pre><code>DB_POOL_MAX_OVERFLOW: int = Field(default=10, description='Maximum overflow connections beyond pool size')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_pool_recycle","title":"<code>leadr.config.CommonSettings.DB_POOL_RECYCLE</code>","text":"<pre><code>DB_POOL_RECYCLE: int = Field(default=3600, description='Recycle database connections after this many seconds (default: 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_pool_size","title":"<code>leadr.config.CommonSettings.DB_POOL_SIZE</code>","text":"<pre><code>DB_POOL_SIZE: int = Field(default=20, description='Number of database connections to maintain in the pool')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_port","title":"<code>leadr.config.CommonSettings.DB_PORT</code>","text":"<pre><code>DB_PORT: int = Field(default=5432, description='PostgreSQL database port')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdb_user","title":"<code>leadr.config.CommonSettings.DB_USER</code>","text":"<pre><code>DB_USER: str = Field(default='leadr', description='PostgreSQL database user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdebug","title":"<code>leadr.config.CommonSettings.DEBUG</code>","text":"<pre><code>DEBUG: bool = Field(default=False, description='Enable debug mode with verbose logging and error details')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsdev_override_ip","title":"<code>leadr.config.CommonSettings.DEV_OVERRIDE_IP</code>","text":"<pre><code>DEV_OVERRIDE_IP: str | None = Field(default=None, description='Override IP address for development/testing (bypasses localhost detection)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsenable_admin_api","title":"<code>leadr.config.CommonSettings.ENABLE_ADMIN_API</code>","text":"<pre><code>ENABLE_ADMIN_API: bool = Field(default=False, description='Enable admin API endpoints')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsenable_client_api","title":"<code>leadr.config.CommonSettings.ENABLE_CLIENT_API</code>","text":"<pre><code>ENABLE_CLIENT_API: bool = Field(default=False, description='Enable client API endpoints')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsenv","title":"<code>leadr.config.CommonSettings.ENV</code>","text":"<pre><code>ENV: str = Field(default=..., description=\"Environment name (e.g., 'DEV', 'PROD', 'TEST'). Required.\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsgeoip_database_path","title":"<code>leadr.config.CommonSettings.GEOIP_DATABASE_PATH</code>","text":"<pre><code>GEOIP_DATABASE_PATH: Path = Field(default=(PROJ_ROOT / '.geoip'), description='Directory path for storing GeoIP databases')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsgeoip_refresh_days","title":"<code>leadr.config.CommonSettings.GEOIP_REFRESH_DAYS</code>","text":"<pre><code>GEOIP_REFRESH_DAYS: int = Field(default=7, description='Number of days between GeoIP database refresh downloads (default: 7 days)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsjwt_lifetime_seconds","title":"<code>leadr.config.CommonSettings.JWT_LIFETIME_SECONDS</code>","text":"<pre><code>JWT_LIFETIME_SECONDS: int = Field(default=3600, description='JWT token lifetime in seconds (default: 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsjwt_secret","title":"<code>leadr.config.CommonSettings.JWT_SECRET</code>","text":"<pre><code>JWT_SECRET: str = Field(default='your-super-secret-jwt-key-change-in-production', description='Secret key for JWT token signing. MUST be changed in production.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingskeys_path","title":"<code>leadr.config.CommonSettings.KEYS_PATH</code>","text":"<pre><code>KEYS_PATH: Path = Field(default=(PROJ_ROOT / '.keys'), description='Directory path for storing cryptographic keys')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingslog_dir","title":"<code>leadr.config.CommonSettings.LOG_DIR</code>","text":"<pre><code>LOG_DIR: Path = Field(default=(Path('/var/log/leadr')), description='Directory for log files when LOG_TO_FILE is enabled')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingslog_json","title":"<code>leadr.config.CommonSettings.LOG_JSON</code>","text":"<pre><code>LOG_JSON: bool = Field(default=True, description='Use JSON format for logs (disable for colored console in dev)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingslog_to_file","title":"<code>leadr.config.CommonSettings.LOG_TO_FILE</code>","text":"<pre><code>LOG_TO_FILE: bool = Field(default=False, description='Enable file logging in addition to stdout')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmailgun_api_key","title":"<code>leadr.config.CommonSettings.MAILGUN_API_KEY</code>","text":"<pre><code>MAILGUN_API_KEY: str = Field(default='mailgun_api_key', description='Mailgun API key for email sending')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmailgun_domain","title":"<code>leadr.config.CommonSettings.MAILGUN_DOMAIN</code>","text":"<pre><code>MAILGUN_DOMAIN: str = Field(default='example.mailgun.org', description='Mailgun domain for email sending')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmaxmind_account_id","title":"<code>leadr.config.CommonSettings.MAXMIND_ACCOUNT_ID</code>","text":"<pre><code>MAXMIND_ACCOUNT_ID: str = Field(default='', description='MaxMind account ID for database downloads (used for basic auth)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmaxmind_city_db_url","title":"<code>leadr.config.CommonSettings.MAXMIND_CITY_DB_URL</code>","text":"<pre><code>MAXMIND_CITY_DB_URL: str = Field(default='https://download.maxmind.com/geoip/databases/GeoLite2-City/download?suffix=tar.gz', description='MaxMind GeoLite2 City database download URL')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmaxmind_country_db_url","title":"<code>leadr.config.CommonSettings.MAXMIND_COUNTRY_DB_URL</code>","text":"<pre><code>MAXMIND_COUNTRY_DB_URL: str = Field(default='https://download.maxmind.com/geoip/databases/GeoLite2-Country/download?suffix=tar.gz', description='MaxMind GeoLite2 Country database download URL')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmaxmind_license_key","title":"<code>leadr.config.CommonSettings.MAXMIND_LICENSE_KEY</code>","text":"<pre><code>MAXMIND_LICENSE_KEY: str = Field(default='', description='MaxMind license key for database downloads (used for basic auth)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsrefresh_token_expiry_days","title":"<code>leadr.config.CommonSettings.REFRESH_TOKEN_EXPIRY_DAYS</code>","text":"<pre><code>REFRESH_TOKEN_EXPIRY_DAYS: int = Field(default=30, description='Device refresh token expiration time in days (default: 30 days)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsregistration_rate_limit_per_hour","title":"<code>leadr.config.CommonSettings.REGISTRATION_RATE_LIMIT_PER_HOUR</code>","text":"<pre><code>REGISTRATION_RATE_LIMIT_PER_HOUR: int = Field(default=3, description='Maximum verification code requests per email per hour (default: 3)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsscore_metadata_max_size_bytes","title":"<code>leadr.config.CommonSettings.SCORE_METADATA_MAX_SIZE_BYTES</code>","text":"<pre><code>SCORE_METADATA_MAX_SIZE_BYTES: int = Field(default=1024, description='Maximum size in bytes for score metadata JSON (default: 1KB)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssource_oauth_base_url","title":"<code>leadr.config.CommonSettings.SOURCE_OAUTH_BASE_URL</code>","text":"<pre><code>SOURCE_OAUTH_BASE_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description='Base URL for OAuth provider')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_account_name","title":"<code>leadr.config.CommonSettings.SUPERADMIN_ACCOUNT_NAME</code>","text":"<pre><code>SUPERADMIN_ACCOUNT_NAME: str = Field(default='LEADR', description='Name of the system account for superadmin users')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_account_slug","title":"<code>leadr.config.CommonSettings.SUPERADMIN_ACCOUNT_SLUG</code>","text":"<pre><code>SUPERADMIN_ACCOUNT_SLUG: str = Field(default='leadr', description='URL-friendly slug for the superadmin system account')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_api_key","title":"<code>leadr.config.CommonSettings.SUPERADMIN_API_KEY</code>","text":"<pre><code>SUPERADMIN_API_KEY: str = Field(default=..., description='API key for the superadmin user. REQUIRED for bootstrap.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_api_key_name","title":"<code>leadr.config.CommonSettings.SUPERADMIN_API_KEY_NAME</code>","text":"<pre><code>SUPERADMIN_API_KEY_NAME: str = Field(default='Superadmin Key', description='Display name for the superadmin API key')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_display_name","title":"<code>leadr.config.CommonSettings.SUPERADMIN_DISPLAY_NAME</code>","text":"<pre><code>SUPERADMIN_DISPLAY_NAME: str = Field(default='LEADR Admin', description='Display name for the superadmin user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingssuperadmin_email","title":"<code>leadr.config.CommonSettings.SUPERADMIN_EMAIL</code>","text":"<pre><code>SUPERADMIN_EMAIL: str = Field(default='admin@leadr.gg', description='Email address for the superadmin user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingstesting_email","title":"<code>leadr.config.CommonSettings.TESTING_EMAIL</code>","text":"<pre><code>TESTING_EMAIL: str = Field(default='hello@example.com', description='Email address used for testing purposes')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsverification_code_expiry_seconds","title":"<code>leadr.config.CommonSettings.VERIFICATION_CODE_EXPIRY_SECONDS</code>","text":"<pre><code>VERIFICATION_CODE_EXPIRY_SECONDS: int = Field(default=600, description='Expiry time for email verification codes in seconds (default: 10 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsverification_token_expiry_seconds","title":"<code>leadr.config.CommonSettings.VERIFICATION_TOKEN_EXPIRY_SECONDS</code>","text":"<pre><code>VERIFICATION_TOKEN_EXPIRY_SECONDS: int = Field(default=600, description='Expiry time for verification JWT tokens in seconds (default: 10 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsmodel_config","title":"<code>leadr.config.CommonSettings.model_config</code>","text":"<pre><code>model_config = SettingsConfigDict(case_sensitive=True, extra='ignore')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigcommonsettingsvalidate_api_enabled","title":"<code>leadr.config.CommonSettings.validate_api_enabled</code>","text":"<pre><code>validate_api_enabled()\n</code></pre> <p>Ensure at least one API (Admin or Client) is enabled.</p>"},{"location":"api/reference/config/#leadrconfigproj_root","title":"<code>leadr.config.PROJ_ROOT</code>","text":"<pre><code>PROJ_ROOT = Path.cwd()\n</code></pre>"},{"location":"api/reference/config/#leadrconfigsettings","title":"<code>leadr.config.Settings</code>","text":"<p>Bases: <code>CommonSettings</code></p> <p>Production/development environment settings.</p> <p>Inherits all settings from CommonSettings. Loads configuration from the .env file at the project root.</p> <p>This is the default settings class used when ENV != 'TEST'.</p> <p>Functions:</p> <ul> <li>validate_api_enabled \u2013 Ensure at least one API (Admin or Client) is enabled.</li> </ul> <p>Attributes:</p> <ul> <li>ACCESS_TOKEN_EXPIRY_HOURS (<code>int</code>) \u2013</li> <li>ANTICHEAT_DUPLICATE_WINDOW_SECONDS (<code>int</code>) \u2013</li> <li>ANTICHEAT_ENABLED (<code>bool</code>) \u2013</li> <li>ANTICHEAT_LOGGING_ONLY (<code>bool</code>) \u2013</li> <li>ANTICHEAT_MIN_SAMPLES_FOR_STATS (<code>int</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_A (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_B (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_C (<code>float</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_A (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_B (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_C (<code>int</code>) \u2013</li> <li>ANTICHEAT_VELOCITY_THRESHOLD_SECONDS (<code>float</code>) \u2013</li> <li>API_KEY_SECRET (<code>str</code>) \u2013</li> <li>API_PREFIX (<code>str</code>) \u2013</li> <li>APP (<code>str</code>) \u2013</li> <li>BACKGROUND_TASK_EXPIRE_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_TEMPLATE_INTERVAL (<code>int</code>) \u2013</li> <li>BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>BOARDS_UI_DOMAIN (<code>str | None</code>) \u2013</li> <li>DASHBOARD_URL (<code>HttpUrl</code>) \u2013</li> <li>DB_ECHO (<code>bool</code>) \u2013</li> <li>DB_HOST (<code>str</code>) \u2013</li> <li>DB_HOST_DIRECT (<code>str | None</code>) \u2013</li> <li>DB_NAME (<code>str</code>) \u2013</li> <li>DB_PASSWORD (<code>str</code>) \u2013</li> <li>DB_POOL_MAX_OVERFLOW (<code>int</code>) \u2013</li> <li>DB_POOL_RECYCLE (<code>int</code>) \u2013</li> <li>DB_POOL_SIZE (<code>int</code>) \u2013</li> <li>DB_PORT (<code>int</code>) \u2013</li> <li>DB_USER (<code>str</code>) \u2013</li> <li>DEBUG (<code>bool</code>) \u2013</li> <li>DEV_OVERRIDE_IP (<code>str | None</code>) \u2013</li> <li>ENABLE_ADMIN_API (<code>bool</code>) \u2013</li> <li>ENABLE_CLIENT_API (<code>bool</code>) \u2013</li> <li>ENV (<code>str</code>) \u2013</li> <li>GEOIP_DATABASE_PATH (<code>Path</code>) \u2013</li> <li>GEOIP_REFRESH_DAYS (<code>int</code>) \u2013</li> <li>JWT_LIFETIME_SECONDS (<code>int</code>) \u2013</li> <li>JWT_SECRET (<code>str</code>) \u2013</li> <li>KEYS_PATH (<code>Path</code>) \u2013</li> <li>LOG_DIR (<code>Path</code>) \u2013</li> <li>LOG_JSON (<code>bool</code>) \u2013</li> <li>LOG_TO_FILE (<code>bool</code>) \u2013</li> <li>MAILGUN_API_KEY (<code>str</code>) \u2013</li> <li>MAILGUN_DOMAIN (<code>str</code>) \u2013</li> <li>MAXMIND_ACCOUNT_ID (<code>str</code>) \u2013</li> <li>MAXMIND_CITY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_COUNTRY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_LICENSE_KEY (<code>str</code>) \u2013</li> <li>REFRESH_TOKEN_EXPIRY_DAYS (<code>int</code>) \u2013</li> <li>REGISTRATION_RATE_LIMIT_PER_HOUR (<code>int</code>) \u2013</li> <li>SCORE_METADATA_MAX_SIZE_BYTES (<code>int</code>) \u2013</li> <li>SOURCE_OAUTH_BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_SLUG (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_DISPLAY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_EMAIL (<code>str</code>) \u2013</li> <li>TESTING_EMAIL (<code>str</code>) \u2013</li> <li>VERIFICATION_CODE_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>VERIFICATION_TOKEN_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>model_config \u2013</li> </ul>"},{"location":"api/reference/config/#leadrconfigtestsettings","title":"<code>leadr.config.TestSettings</code>","text":"<p>Bases: <code>CommonSettings</code></p> <p>Test environment settings.</p> <p>Inherits all settings from CommonSettings. Loads configuration from the .env.test file at the project root.</p> <p>Used automatically when ENV='TEST' (set by test.sh script). Test-specific overrides can be added here.</p> <p>Functions:</p> <ul> <li>validate_api_enabled \u2013 Ensure at least one API (Admin or Client) is enabled.</li> </ul> <p>Attributes:</p> <ul> <li>ACCESS_TOKEN_EXPIRY_HOURS (<code>int</code>) \u2013</li> <li>ANTICHEAT_DUPLICATE_WINDOW_SECONDS (<code>int</code>) \u2013</li> <li>ANTICHEAT_ENABLED (<code>bool</code>) \u2013</li> <li>ANTICHEAT_LOGGING_ONLY (<code>bool</code>) \u2013</li> <li>ANTICHEAT_MIN_SAMPLES_FOR_STATS (<code>int</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_A (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_B (<code>float</code>) \u2013</li> <li>ANTICHEAT_OUTLIER_THRESHOLD_TIER_C (<code>float</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_A (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_B (<code>int</code>) \u2013</li> <li>ANTICHEAT_RATE_LIMIT_TIER_C (<code>int</code>) \u2013</li> <li>ANTICHEAT_VELOCITY_THRESHOLD_SECONDS (<code>float</code>) \u2013</li> <li>API_KEY_SECRET (<code>str</code>) \u2013</li> <li>API_PREFIX (<code>str</code>) \u2013</li> <li>APP (<code>str</code>) \u2013</li> <li>BACKGROUND_TASK_EXPIRE_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL (<code>int</code>) \u2013</li> <li>BACKGROUND_TASK_TEMPLATE_INTERVAL (<code>int</code>) \u2013</li> <li>BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>BOARDS_UI_DOMAIN (<code>str | None</code>) \u2013</li> <li>DASHBOARD_URL (<code>HttpUrl</code>) \u2013</li> <li>DB_ECHO (<code>bool</code>) \u2013</li> <li>DB_HOST (<code>str</code>) \u2013</li> <li>DB_HOST_DIRECT (<code>str | None</code>) \u2013</li> <li>DB_NAME (<code>str</code>) \u2013</li> <li>DB_PASSWORD (<code>str</code>) \u2013</li> <li>DB_POOL_MAX_OVERFLOW (<code>int</code>) \u2013</li> <li>DB_POOL_RECYCLE (<code>int</code>) \u2013</li> <li>DB_POOL_SIZE (<code>int</code>) \u2013</li> <li>DB_PORT (<code>int</code>) \u2013</li> <li>DB_USER (<code>str</code>) \u2013</li> <li>DEBUG (<code>bool</code>) \u2013</li> <li>DEV_OVERRIDE_IP (<code>str | None</code>) \u2013</li> <li>ENABLE_ADMIN_API (<code>bool</code>) \u2013</li> <li>ENABLE_CLIENT_API (<code>bool</code>) \u2013</li> <li>ENV (<code>str</code>) \u2013</li> <li>GEOIP_DATABASE_PATH (<code>Path</code>) \u2013</li> <li>GEOIP_REFRESH_DAYS (<code>int</code>) \u2013</li> <li>JWT_LIFETIME_SECONDS (<code>int</code>) \u2013</li> <li>JWT_SECRET (<code>str</code>) \u2013</li> <li>KEYS_PATH (<code>Path</code>) \u2013</li> <li>LOG_DIR (<code>Path</code>) \u2013</li> <li>LOG_JSON (<code>bool</code>) \u2013</li> <li>LOG_TO_FILE (<code>bool</code>) \u2013</li> <li>MAILGUN_API_KEY (<code>str</code>) \u2013</li> <li>MAILGUN_DOMAIN (<code>str</code>) \u2013</li> <li>MAXMIND_ACCOUNT_ID (<code>str</code>) \u2013</li> <li>MAXMIND_CITY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_COUNTRY_DB_URL (<code>str</code>) \u2013</li> <li>MAXMIND_LICENSE_KEY (<code>str</code>) \u2013</li> <li>REFRESH_TOKEN_EXPIRY_DAYS (<code>int</code>) \u2013</li> <li>REGISTRATION_RATE_LIMIT_PER_HOUR (<code>int</code>) \u2013</li> <li>SCORE_METADATA_MAX_SIZE_BYTES (<code>int</code>) \u2013</li> <li>SOURCE_OAUTH_BASE_URL (<code>HttpUrl</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_ACCOUNT_SLUG (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY (<code>str</code>) \u2013</li> <li>SUPERADMIN_API_KEY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_DISPLAY_NAME (<code>str</code>) \u2013</li> <li>SUPERADMIN_EMAIL (<code>str</code>) \u2013</li> <li>TESTING_EMAIL (<code>str</code>) \u2013</li> <li>VERIFICATION_CODE_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>VERIFICATION_TOKEN_EXPIRY_SECONDS (<code>int</code>) \u2013</li> <li>model_config \u2013</li> </ul>"},{"location":"api/reference/config/#leadrconfigtestsettingsaccess_token_expiry_hours","title":"<code>leadr.config.TestSettings.ACCESS_TOKEN_EXPIRY_HOURS</code>","text":"<pre><code>ACCESS_TOKEN_EXPIRY_HOURS: int = Field(default=24, description='Device access token expiration time in hours (default: 24 hours)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_duplicate_window_seconds","title":"<code>leadr.config.TestSettings.ANTICHEAT_DUPLICATE_WINDOW_SECONDS</code>","text":"<pre><code>ANTICHEAT_DUPLICATE_WINDOW_SECONDS: int = Field(default=300, description='Time window in seconds for detecting duplicate score submissions (default: 5 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_enabled","title":"<code>leadr.config.TestSettings.ANTICHEAT_ENABLED</code>","text":"<pre><code>ANTICHEAT_ENABLED: bool = Field(default=False, description='Enable anti-cheat checks on score submissions')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_logging_only","title":"<code>leadr.config.TestSettings.ANTICHEAT_LOGGING_ONLY</code>","text":"<pre><code>ANTICHEAT_LOGGING_ONLY: bool = Field(default=True, description=\"Log anti-cheat detections but don't reject/flag submissions (dry-run mode)\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_min_samples_for_stats","title":"<code>leadr.config.TestSettings.ANTICHEAT_MIN_SAMPLES_FOR_STATS</code>","text":"<pre><code>ANTICHEAT_MIN_SAMPLES_FOR_STATS: int = Field(default=10, description='Minimum number of scores required before statistical outlier detection is enabled')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_outlier_threshold_tier_a","title":"<code>leadr.config.TestSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_A</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_A: float = Field(default=4.0, description='Outlier threshold for Tier A devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_outlier_threshold_tier_b","title":"<code>leadr.config.TestSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_B</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_B: float = Field(default=3.0, description='Outlier threshold for Tier B devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_outlier_threshold_tier_c","title":"<code>leadr.config.TestSettings.ANTICHEAT_OUTLIER_THRESHOLD_TIER_C</code>","text":"<pre><code>ANTICHEAT_OUTLIER_THRESHOLD_TIER_C: float = Field(default=2.5, description='Outlier threshold for Tier C devices: standard deviations from mean')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_rate_limit_tier_a","title":"<code>leadr.config.TestSettings.ANTICHEAT_RATE_LIMIT_TIER_A</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_A: int = Field(default=100, description='Rate limit for Tier A (trusted) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_rate_limit_tier_b","title":"<code>leadr.config.TestSettings.ANTICHEAT_RATE_LIMIT_TIER_B</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_B: int = Field(default=50, description='Rate limit for Tier B (verified) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_rate_limit_tier_c","title":"<code>leadr.config.TestSettings.ANTICHEAT_RATE_LIMIT_TIER_C</code>","text":"<pre><code>ANTICHEAT_RATE_LIMIT_TIER_C: int = Field(default=20, description='Rate limit for Tier C (unverified) devices: submissions per hour')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsanticheat_velocity_threshold_seconds","title":"<code>leadr.config.TestSettings.ANTICHEAT_VELOCITY_THRESHOLD_SECONDS</code>","text":"<pre><code>ANTICHEAT_VELOCITY_THRESHOLD_SECONDS: float = Field(default=2.0, description='Minimum time between submissions to avoid velocity detection (in seconds)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsapi_key_secret","title":"<code>leadr.config.TestSettings.API_KEY_SECRET</code>","text":"<pre><code>API_KEY_SECRET: str = Field(default='your-super-secret-api-key-pepper-change-in-production', description='Secret pepper for API key hashing. MUST be changed in production.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsapi_prefix","title":"<code>leadr.config.TestSettings.API_PREFIX</code>","text":"<pre><code>API_PREFIX: str = Field(default='/v1', description=\"API route prefix for versioning (e.g., '/v1')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsapp","title":"<code>leadr.config.TestSettings.APP</code>","text":"<pre><code>APP: str = Field(default='LEADR', description='Application name identifier')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsbackground_task_expire_interval","title":"<code>leadr.config.TestSettings.BACKGROUND_TASK_EXPIRE_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_EXPIRE_INTERVAL: int = Field(default=60, description='Interval in seconds for expiring boards (default: 60s)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsbackground_task_nonce_cleanup_interval","title":"<code>leadr.config.TestSettings.BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_NONCE_CLEANUP_INTERVAL: int = Field(default=3600, description='Interval in seconds for cleaning up expired nonces (default: 3600s / 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsbackground_task_template_interval","title":"<code>leadr.config.TestSettings.BACKGROUND_TASK_TEMPLATE_INTERVAL</code>","text":"<pre><code>BACKGROUND_TASK_TEMPLATE_INTERVAL: int = Field(default=60, description='Interval in seconds for processing due board templates (default: 60s)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsbase_url","title":"<code>leadr.config.TestSettings.BASE_URL</code>","text":"<pre><code>BASE_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description=\"Base URL for the API server (e.g., 'https://api.leadr.gg')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsboards_ui_domain","title":"<code>leadr.config.TestSettings.BOARDS_UI_DOMAIN</code>","text":"<pre><code>BOARDS_UI_DOMAIN: str | None = Field(default=None, description=\"Base URL for public board UI (e.g., 'https://boards.leadr.gg'). When set, enables url/url_short fields in Game and Board API responses.\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdashboard_url","title":"<code>leadr.config.TestSettings.DASHBOARD_URL</code>","text":"<pre><code>DASHBOARD_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description=\"URL for the web dashboard (e.g., 'https://dashboard.leadr.gg')\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_echo","title":"<code>leadr.config.TestSettings.DB_ECHO</code>","text":"<pre><code>DB_ECHO: bool = Field(default=False, description='Log all SQL queries to stdout (useful for debugging)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_host","title":"<code>leadr.config.TestSettings.DB_HOST</code>","text":"<pre><code>DB_HOST: str = Field(default='localhost', description='PostgreSQL database host')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_host_direct","title":"<code>leadr.config.TestSettings.DB_HOST_DIRECT</code>","text":"<pre><code>DB_HOST_DIRECT: str | None = Field(default=None, description='Direct PostgreSQL host for migrations (bypasses connection pooler). If not set, falls back to DB_HOST. For Neon, use the non-pooler endpoint.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_name","title":"<code>leadr.config.TestSettings.DB_NAME</code>","text":"<pre><code>DB_NAME: str = Field(default='leadr', description='PostgreSQL database name')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_password","title":"<code>leadr.config.TestSettings.DB_PASSWORD</code>","text":"<pre><code>DB_PASSWORD: str = Field(default='leadr', description='PostgreSQL database password')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_pool_max_overflow","title":"<code>leadr.config.TestSettings.DB_POOL_MAX_OVERFLOW</code>","text":"<pre><code>DB_POOL_MAX_OVERFLOW: int = Field(default=10, description='Maximum overflow connections beyond pool size')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_pool_recycle","title":"<code>leadr.config.TestSettings.DB_POOL_RECYCLE</code>","text":"<pre><code>DB_POOL_RECYCLE: int = Field(default=3600, description='Recycle database connections after this many seconds (default: 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_pool_size","title":"<code>leadr.config.TestSettings.DB_POOL_SIZE</code>","text":"<pre><code>DB_POOL_SIZE: int = Field(default=20, description='Number of database connections to maintain in the pool')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_port","title":"<code>leadr.config.TestSettings.DB_PORT</code>","text":"<pre><code>DB_PORT: int = Field(default=5432, description='PostgreSQL database port')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdb_user","title":"<code>leadr.config.TestSettings.DB_USER</code>","text":"<pre><code>DB_USER: str = Field(default='leadr', description='PostgreSQL database user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdebug","title":"<code>leadr.config.TestSettings.DEBUG</code>","text":"<pre><code>DEBUG: bool = Field(default=False, description='Enable debug mode with verbose logging and error details')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsdev_override_ip","title":"<code>leadr.config.TestSettings.DEV_OVERRIDE_IP</code>","text":"<pre><code>DEV_OVERRIDE_IP: str | None = Field(default=None, description='Override IP address for development/testing (bypasses localhost detection)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsenable_admin_api","title":"<code>leadr.config.TestSettings.ENABLE_ADMIN_API</code>","text":"<pre><code>ENABLE_ADMIN_API: bool = Field(default=False, description='Enable admin API endpoints')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsenable_client_api","title":"<code>leadr.config.TestSettings.ENABLE_CLIENT_API</code>","text":"<pre><code>ENABLE_CLIENT_API: bool = Field(default=False, description='Enable client API endpoints')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsenv","title":"<code>leadr.config.TestSettings.ENV</code>","text":"<pre><code>ENV: str = Field(default=..., description=\"Environment name (e.g., 'DEV', 'PROD', 'TEST'). Required.\")\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsgeoip_database_path","title":"<code>leadr.config.TestSettings.GEOIP_DATABASE_PATH</code>","text":"<pre><code>GEOIP_DATABASE_PATH: Path = Field(default=(PROJ_ROOT / '.geoip'), description='Directory path for storing GeoIP databases')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsgeoip_refresh_days","title":"<code>leadr.config.TestSettings.GEOIP_REFRESH_DAYS</code>","text":"<pre><code>GEOIP_REFRESH_DAYS: int = Field(default=7, description='Number of days between GeoIP database refresh downloads (default: 7 days)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsjwt_lifetime_seconds","title":"<code>leadr.config.TestSettings.JWT_LIFETIME_SECONDS</code>","text":"<pre><code>JWT_LIFETIME_SECONDS: int = Field(default=3600, description='JWT token lifetime in seconds (default: 1 hour)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsjwt_secret","title":"<code>leadr.config.TestSettings.JWT_SECRET</code>","text":"<pre><code>JWT_SECRET: str = Field(default='your-super-secret-jwt-key-change-in-production', description='Secret key for JWT token signing. MUST be changed in production.')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingskeys_path","title":"<code>leadr.config.TestSettings.KEYS_PATH</code>","text":"<pre><code>KEYS_PATH: Path = Field(default=(PROJ_ROOT / '.keys'), description='Directory path for storing cryptographic keys')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingslog_dir","title":"<code>leadr.config.TestSettings.LOG_DIR</code>","text":"<pre><code>LOG_DIR: Path = Field(default=(Path('/var/log/leadr')), description='Directory for log files when LOG_TO_FILE is enabled')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingslog_json","title":"<code>leadr.config.TestSettings.LOG_JSON</code>","text":"<pre><code>LOG_JSON: bool = Field(default=True, description='Use JSON format for logs (disable for colored console in dev)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingslog_to_file","title":"<code>leadr.config.TestSettings.LOG_TO_FILE</code>","text":"<pre><code>LOG_TO_FILE: bool = Field(default=False, description='Enable file logging in addition to stdout')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmailgun_api_key","title":"<code>leadr.config.TestSettings.MAILGUN_API_KEY</code>","text":"<pre><code>MAILGUN_API_KEY: str = Field(default='mailgun_api_key', description='Mailgun API key for email sending')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmailgun_domain","title":"<code>leadr.config.TestSettings.MAILGUN_DOMAIN</code>","text":"<pre><code>MAILGUN_DOMAIN: str = Field(default='example.mailgun.org', description='Mailgun domain for email sending')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmaxmind_account_id","title":"<code>leadr.config.TestSettings.MAXMIND_ACCOUNT_ID</code>","text":"<pre><code>MAXMIND_ACCOUNT_ID: str = Field(default='', description='MaxMind account ID for database downloads (used for basic auth)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmaxmind_city_db_url","title":"<code>leadr.config.TestSettings.MAXMIND_CITY_DB_URL</code>","text":"<pre><code>MAXMIND_CITY_DB_URL: str = Field(default='https://download.maxmind.com/geoip/databases/GeoLite2-City/download?suffix=tar.gz', description='MaxMind GeoLite2 City database download URL')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmaxmind_country_db_url","title":"<code>leadr.config.TestSettings.MAXMIND_COUNTRY_DB_URL</code>","text":"<pre><code>MAXMIND_COUNTRY_DB_URL: str = Field(default='https://download.maxmind.com/geoip/databases/GeoLite2-Country/download?suffix=tar.gz', description='MaxMind GeoLite2 Country database download URL')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmaxmind_license_key","title":"<code>leadr.config.TestSettings.MAXMIND_LICENSE_KEY</code>","text":"<pre><code>MAXMIND_LICENSE_KEY: str = Field(default='', description='MaxMind license key for database downloads (used for basic auth)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsrefresh_token_expiry_days","title":"<code>leadr.config.TestSettings.REFRESH_TOKEN_EXPIRY_DAYS</code>","text":"<pre><code>REFRESH_TOKEN_EXPIRY_DAYS: int = Field(default=30, description='Device refresh token expiration time in days (default: 30 days)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsregistration_rate_limit_per_hour","title":"<code>leadr.config.TestSettings.REGISTRATION_RATE_LIMIT_PER_HOUR</code>","text":"<pre><code>REGISTRATION_RATE_LIMIT_PER_HOUR: int = Field(default=3, description='Maximum verification code requests per email per hour (default: 3)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsscore_metadata_max_size_bytes","title":"<code>leadr.config.TestSettings.SCORE_METADATA_MAX_SIZE_BYTES</code>","text":"<pre><code>SCORE_METADATA_MAX_SIZE_BYTES: int = Field(default=1024, description='Maximum size in bytes for score metadata JSON (default: 1KB)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssource_oauth_base_url","title":"<code>leadr.config.TestSettings.SOURCE_OAUTH_BASE_URL</code>","text":"<pre><code>SOURCE_OAUTH_BASE_URL: HttpUrl = Field(default=(HttpUrl('http://localhost:8000')), description='Base URL for OAuth provider')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_account_name","title":"<code>leadr.config.TestSettings.SUPERADMIN_ACCOUNT_NAME</code>","text":"<pre><code>SUPERADMIN_ACCOUNT_NAME: str = Field(default='LEADR', description='Name of the system account for superadmin users')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_account_slug","title":"<code>leadr.config.TestSettings.SUPERADMIN_ACCOUNT_SLUG</code>","text":"<pre><code>SUPERADMIN_ACCOUNT_SLUG: str = Field(default='leadr', description='URL-friendly slug for the superadmin system account')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_api_key","title":"<code>leadr.config.TestSettings.SUPERADMIN_API_KEY</code>","text":"<pre><code>SUPERADMIN_API_KEY: str = Field(default='ldr_test_superadmin_key_for_testing_12345678', description='Test superadmin API key (must start with ldr_)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_api_key_name","title":"<code>leadr.config.TestSettings.SUPERADMIN_API_KEY_NAME</code>","text":"<pre><code>SUPERADMIN_API_KEY_NAME: str = Field(default='Superadmin Key', description='Display name for the superadmin API key')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_display_name","title":"<code>leadr.config.TestSettings.SUPERADMIN_DISPLAY_NAME</code>","text":"<pre><code>SUPERADMIN_DISPLAY_NAME: str = Field(default='LEADR Admin', description='Display name for the superadmin user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingssuperadmin_email","title":"<code>leadr.config.TestSettings.SUPERADMIN_EMAIL</code>","text":"<pre><code>SUPERADMIN_EMAIL: str = Field(default='admin@leadr.gg', description='Email address for the superadmin user')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingstesting_email","title":"<code>leadr.config.TestSettings.TESTING_EMAIL</code>","text":"<pre><code>TESTING_EMAIL: str = Field(default='hello@example.com', description='Email address used for testing purposes')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsverification_code_expiry_seconds","title":"<code>leadr.config.TestSettings.VERIFICATION_CODE_EXPIRY_SECONDS</code>","text":"<pre><code>VERIFICATION_CODE_EXPIRY_SECONDS: int = Field(default=600, description='Expiry time for email verification codes in seconds (default: 10 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsverification_token_expiry_seconds","title":"<code>leadr.config.TestSettings.VERIFICATION_TOKEN_EXPIRY_SECONDS</code>","text":"<pre><code>VERIFICATION_TOKEN_EXPIRY_SECONDS: int = Field(default=600, description='Expiry time for verification JWT tokens in seconds (default: 10 minutes)')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsmodel_config","title":"<code>leadr.config.TestSettings.model_config</code>","text":"<pre><code>model_config = SettingsConfigDict(case_sensitive=True, extra='ignore')\n</code></pre>"},{"location":"api/reference/config/#leadrconfigtestsettingsvalidate_api_enabled","title":"<code>leadr.config.TestSettings.validate_api_enabled</code>","text":"<pre><code>validate_api_enabled()\n</code></pre> <p>Ensure at least one API (Admin or Client) is enabled.</p>"},{"location":"api/reference/config/#leadrconfigsettings_1","title":"<code>leadr.config.settings</code>","text":"<pre><code>settings = TestSettings(_env_file=(Path(PROJ_ROOT, '.env.test'))) if os.environ.get('ENV') == 'TEST' else Settings(_env_file=(Path(PROJ_ROOT, '.env')))\n</code></pre>"},{"location":"api/reference/games/","title":"Games","text":""},{"location":"api/reference/games/#leadrgames","title":"<code>leadr.games</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesadapters","title":"<code>leadr.games.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Game ORM model.</li> </ul>"},{"location":"api/reference/games/#leadrgamesadaptersorm","title":"<code>leadr.games.adapters.orm</code>","text":"<p>Game ORM model.</p> <p>Classes:</p> <ul> <li>GameORM \u2013 Game ORM model.</li> </ul>"},{"location":"api/reference/games/#leadrgamesadaptersormgameorm","title":"<code>leadr.games.adapters.orm.GameORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Game ORM model.</p> <p>Represents a game that belongs to an account in the database. Maps to the games table with foreign key to accounts and unique constraint on (account_id, name) to prevent duplicate game names within the same account.</p> <p>Attributes:</p> <ul> <li>account (<code>Mapped[AccountORM]</code>) \u2013</li> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>anti_cheat_enabled (<code>Mapped[bool]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>default_board_id (<code>Mapped[UUID | None]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>description (<code>Mapped[str | None]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>name (<code>Mapped[str]</code>) \u2013</li> <li>page_url (<code>Mapped[str | None]</code>) \u2013</li> <li>slug (<code>Mapped[str]</code>) \u2013</li> <li>steam_app_id (<code>Mapped[str | None]</code>) \u2013</li> <li>tags (<code>Mapped[list[str]]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormaccount","title":"# <code>leadr.games.adapters.orm.GameORM.account</code>","text":"<pre><code>account: Mapped[AccountORM] = relationship('AccountORM')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormaccount_id","title":"# <code>leadr.games.adapters.orm.GameORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormanti_cheat_enabled","title":"# <code>leadr.games.adapters.orm.GameORM.anti_cheat_enabled</code>","text":"<pre><code>anti_cheat_enabled: Mapped[bool] = mapped_column(nullable=False, default=True)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormcreated_at","title":"# <code>leadr.games.adapters.orm.GameORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormdefault_board_id","title":"# <code>leadr.games.adapters.orm.GameORM.default_board_id</code>","text":"<pre><code>default_board_id: Mapped[UUID | None] = mapped_column(nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormdeleted_at","title":"# <code>leadr.games.adapters.orm.GameORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormdescription","title":"# <code>leadr.games.adapters.orm.GameORM.description</code>","text":"<pre><code>description: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormid","title":"# <code>leadr.games.adapters.orm.GameORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormname","title":"# <code>leadr.games.adapters.orm.GameORM.name</code>","text":"<pre><code>name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormpage_url","title":"# <code>leadr.games.adapters.orm.GameORM.page_url</code>","text":"<pre><code>page_url: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormslug","title":"# <code>leadr.games.adapters.orm.GameORM.slug</code>","text":"<pre><code>slug: Mapped[str] = mapped_column(String, nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormsteam_app_id","title":"# <code>leadr.games.adapters.orm.GameORM.steam_app_id</code>","text":"<pre><code>steam_app_id: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormtags","title":"# <code>leadr.games.adapters.orm.GameORM.tags</code>","text":"<pre><code>tags: Mapped[list[str]] = mapped_column(ARRAY(String), nullable=False, default=list, server_default='{}')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesadaptersormgameormupdated_at","title":"# <code>leadr.games.adapters.orm.GameORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapi","title":"<code>leadr.games.api</code>","text":"<p>Modules:</p> <ul> <li>game_routes \u2013 Game API routes.</li> <li>game_schemas \u2013 API request and response models for games.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_routes","title":"<code>leadr.games.api.game_routes</code>","text":"<p>Game API routes.</p> <p>Functions:</p> <ul> <li>create_game \u2013 Create a new game.</li> <li>get_game \u2013 Get a game by ID.</li> <li>list_games \u2013 List all games for an account with pagination and optional filtering.</li> <li>update_game \u2013 Update a game.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_routescreate_game","title":"<code>leadr.games.api.game_routes.create_game</code>","text":"<pre><code>create_game(request, service, auth)\n</code></pre> <p>Create a new game.</p> <p>Creates a new game associated with an existing account. Games can optionally be configured with Steam integration and a default leaderboard.</p> <p>For regular users, account_id must match their API key's account. For superadmins, any account_id is accepted.</p> <p>Parameters:</p> <ul> <li>request (<code>GameCreateRequest</code>) \u2013 Game creation details including account_id, name, and optional settings.</li> <li>service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>GameResponse</code> \u2013 GameResponse with the created game including auto-generated ID and timestamps.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Account not found.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_routesget_game","title":"<code>leadr.games.api.game_routes.get_game</code>","text":"<pre><code>get_game(game_id, service, auth)\n</code></pre> <p>Get a game by ID.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 Unique identifier for the game.</li> <li>service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>GameResponse</code> \u2013 GameResponse with full game details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this game's account.</li> <li><code>404</code> \u2013 Game not found.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_routeslist_games","title":"<code>leadr.games.api.game_routes.list_games</code>","text":"<pre><code>list_games(auth, service, pagination, account_id=None, slug=None)\n</code></pre> <p>List all games for an account with pagination and optional filtering.</p> <p>Returns paginated games for the specified account. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns games from all accounts.</p> <p>Filtering:</p> <ul> <li>Use ?slug={slug} to find a specific game by its globally unique slug</li> </ul> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=name:asc,created_at:desc</li> <li>Valid sort fields: id, name, slug, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> Example  GET /v1/games?slug=my-game GET /v1/games?account_id=acc_123&amp;limit=50&amp;sort=name:asc   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>slug (<code>Annotated[str | None, Query(description='Filter by game slug')]</code>) \u2013 Optional slug filter to find a specific game.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[GameResponse]</code> \u2013 PaginatedResponse with games and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, or cursor state mismatch.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 Game not found when filtering by slug.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_routesrouter","title":"<code>leadr.games.api.game_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_routesupdate_game","title":"<code>leadr.games.api.game_routes.update_game</code>","text":"<pre><code>update_game(game_id, request, service, auth)\n</code></pre> <p>Update a game.</p> <p>Supports updating name, Steam App ID, default board ID, or soft-deleting the game.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 Unique identifier for the game.</li> <li>request (<code>GameUpdateRequest</code>) \u2013 Game update details (all fields optional).</li> <li>service (<code>GameServiceDep</code>) \u2013 Injected game service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>GameResponse</code> \u2013 GameResponse with the updated game details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this game's account.</li> <li><code>404</code> \u2013 Game not found.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemas","title":"<code>leadr.games.api.game_schemas</code>","text":"<p>API request and response models for games.</p> <p>Classes:</p> <ul> <li>GameCreateRequest \u2013 Request model for creating a game.</li> <li>GameResponse \u2013 Response model for a game.</li> <li>GameUpdateRequest \u2013 Request model for updating a game.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequest","title":"<code>leadr.games.api.game_schemas.GameCreateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for creating a game.</p> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>anti_cheat_enabled (<code>bool</code>) \u2013</li> <li>default_board_id (<code>BoardID | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>page_url (<code>str | None</code>) \u2013</li> <li>slug (<code>str | None</code>) \u2013</li> <li>steam_app_id (<code>str | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestaccount_id","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this game belongs to')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestanti_cheat_enabled","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.anti_cheat_enabled</code>","text":"<pre><code>anti_cheat_enabled: bool = Field(default=True, description='Whether anti-cheat is enabled for this game (defaults to True)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestdefault_board_id","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.default_board_id</code>","text":"<pre><code>default_board_id: BoardID | None = Field(default=None, description='Optional ID of the default leaderboard for this game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestdescription","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Optional game description')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestname","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.name</code>","text":"<pre><code>name: str = Field(description='Name of the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestpage_url","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.page_url</code>","text":"<pre><code>page_url: str | None = Field(default=None, description=\"Optional URL to the game's page\")\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequestslug","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.slug</code>","text":"<pre><code>slug: str | None = Field(default=None, description='Optional URL-friendly slug (globally unique). If not provided, will be auto-generated from name')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequeststeam_app_id","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.steam_app_id</code>","text":"<pre><code>steam_app_id: str | None = Field(default=None, description='Optional Steam App ID for Steam integration')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgamecreaterequesttags","title":"# <code>leadr.games.api.game_schemas.GameCreateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='Optional list of tags for categorization')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponse","title":"<code>leadr.games.api.game_schemas.GameResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a game.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>anti_cheat_enabled (<code>bool</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>default_board_id (<code>BoardID | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>id (<code>GameID</code>) \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>page_url (<code>str | None</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>steam_app_id (<code>str | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>url (<code>str | None</code>) \u2013 Public URL to view this game's leaderboards.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseaccount_id","title":"# <code>leadr.games.api.game_schemas.GameResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this game belongs to')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseanti_cheat_enabled","title":"# <code>leadr.games.api.game_schemas.GameResponse.anti_cheat_enabled</code>","text":"<pre><code>anti_cheat_enabled: bool = Field(description='Whether anti-cheat is enabled for this game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsecreated_at","title":"# <code>leadr.games.api.game_schemas.GameResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the game was created (UTC)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsedefault_board_id","title":"# <code>leadr.games.api.game_schemas.GameResponse.default_board_id</code>","text":"<pre><code>default_board_id: BoardID | None = Field(default=None, description='ID of the default leaderboard, or null if not set')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsedescription","title":"# <code>leadr.games.api.game_schemas.GameResponse.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Game description')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsefrom_domain","title":"# <code>leadr.games.api.game_schemas.GameResponse.from_domain</code>","text":"<pre><code>from_domain(game)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>game (<code>Game</code>) \u2013 The domain Game entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>GameResponse</code> \u2013 GameResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseid","title":"# <code>leadr.games.api.game_schemas.GameResponse.id</code>","text":"<pre><code>id: GameID = Field(description='Unique identifier for the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsename","title":"# <code>leadr.games.api.game_schemas.GameResponse.name</code>","text":"<pre><code>name: str = Field(description='Name of the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsepage_url","title":"# <code>leadr.games.api.game_schemas.GameResponse.page_url</code>","text":"<pre><code>page_url: str | None = Field(default=None, description=\"URL to the game's page\")\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseslug","title":"# <code>leadr.games.api.game_schemas.GameResponse.slug</code>","text":"<pre><code>slug: str = Field(description='URL-friendly slug for the game (globally unique, immutable)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsesteam_app_id","title":"# <code>leadr.games.api.game_schemas.GameResponse.steam_app_id</code>","text":"<pre><code>steam_app_id: str | None = Field(default=None, description='Steam App ID if Steam integration is configured')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponsetags","title":"# <code>leadr.games.api.game_schemas.GameResponse.tags</code>","text":"<pre><code>tags: list[str] = Field(default_factory=list, description='List of tags for categorization')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseupdated_at","title":"# <code>leadr.games.api.game_schemas.GameResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameresponseurl","title":"# <code>leadr.games.api.game_schemas.GameResponse.url</code>","text":"<pre><code>url: str | None\n</code></pre> <p>Public URL to view this game's leaderboards.</p> <p>Returns the URL if BOARDS_UI_DOMAIN is configured, otherwise None.</p>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequest","title":"<code>leadr.games.api.game_schemas.GameUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a game.</p> <p>Attributes:</p> <ul> <li>anti_cheat_enabled (<code>bool | None</code>) \u2013</li> <li>default_board_id (<code>BoardID | None</code>) \u2013</li> <li>deleted (<code>bool | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>name (<code>str | None</code>) \u2013</li> <li>page_url (<code>str | None</code>) \u2013</li> <li>steam_app_id (<code>str | None</code>) \u2013</li> <li>tags (<code>list[str] | None</code>) \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestanti_cheat_enabled","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.anti_cheat_enabled</code>","text":"<pre><code>anti_cheat_enabled: bool | None = Field(default=None, description='Whether anti-cheat is enabled for this game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestdefault_board_id","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.default_board_id</code>","text":"<pre><code>default_board_id: BoardID | None = Field(default=None, description='Updated default leaderboard ID')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestdeleted","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestdescription","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Updated game description')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestname","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.name</code>","text":"<pre><code>name: str | None = Field(default=None, description='Updated game name')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequestpage_url","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.page_url</code>","text":"<pre><code>page_url: str | None = Field(default=None, description='Updated page URL')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequeststeam_app_id","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.steam_app_id</code>","text":"<pre><code>steam_app_id: str | None = Field(default=None, description='Updated Steam App ID')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesapigame_schemasgameupdaterequesttags","title":"# <code>leadr.games.api.game_schemas.GameUpdateRequest.tags</code>","text":"<pre><code>tags: list[str] | None = Field(default=None, description='Updated tags list')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomain","title":"<code>leadr.games.domain</code>","text":"<p>Modules:</p> <ul> <li>game \u2013 Game domain model.</li> </ul>"},{"location":"api/reference/games/#leadrgamesdomaingame","title":"<code>leadr.games.domain.game</code>","text":"<p>Game domain model.</p> <p>Classes:</p> <ul> <li>Game \u2013 Game domain entity.</li> </ul>"},{"location":"api/reference/games/#leadrgamesdomaingamegame","title":"<code>leadr.games.domain.game.Game</code>","text":"<p>Bases: <code>Entity</code></p> <p>Game domain entity.</p> <p>Represents a game that belongs to an account. Games can have optional Steam integration via steam_app_id and can reference a default leaderboard.</p> <p>Each game belongs to exactly one account and cannot be transferred. Games can be configured with Steam integration for syncing achievements or other Steam platform features.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_name \u2013 Validate game name is not empty.</li> <li>validate_slug \u2013 Validate slug format (lowercase alphanumeric with hyphens).</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>anti_cheat_enabled (<code>bool</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>default_board_id (<code>BoardID | None</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>id (<code>GameID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>name (<code>str</code>) \u2013</li> <li>page_url (<code>str | None</code>) \u2013</li> <li>slug (<code>str</code>) \u2013</li> <li>steam_app_id (<code>str | None</code>) \u2013</li> <li>tags (<code>list[str]</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesdomaingamegameaccount_id","title":"# <code>leadr.games.domain.game.Game.account_id</code>","text":"<pre><code>account_id: AccountID = Field(frozen=True, description='ID of the account this game belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegameanti_cheat_enabled","title":"# <code>leadr.games.domain.game.Game.anti_cheat_enabled</code>","text":"<pre><code>anti_cheat_enabled: bool = Field(default=True, description='Whether anti-cheat is enabled for this game (defaults to enabled)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamecreated_at","title":"# <code>leadr.games.domain.game.Game.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamedefault_board_id","title":"# <code>leadr.games.domain.game.Game.default_board_id</code>","text":"<pre><code>default_board_id: BoardID | None = Field(default=None, description='Optional default leaderboard ID for this game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamedeleted_at","title":"# <code>leadr.games.domain.game.Game.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamedescription","title":"# <code>leadr.games.domain.game.Game.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='Short description of the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegameid","title":"# <code>leadr.games.domain.game.Game.id</code>","text":"<pre><code>id: GameID = Field(frozen=True, default_factory=GameID, description='Unique game identifier')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegameis_deleted","title":"# <code>leadr.games.domain.game.Game.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/games/#leadrgamesdomaingamegamemodel_config","title":"# <code>leadr.games.domain.game.Game.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamename","title":"# <code>leadr.games.domain.game.Game.name</code>","text":"<pre><code>name: str = Field(description='Name of the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamepage_url","title":"# <code>leadr.games.domain.game.Game.page_url</code>","text":"<pre><code>page_url: str | None = Field(default=None, description=\"URL to the game's page or website\")\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamerestore","title":"# <code>leadr.games.domain.game.Game.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/games/#leadrgamesdomaingamegameslug","title":"# <code>leadr.games.domain.game.Game.slug</code>","text":"<pre><code>slug: str = Field(description='URL-friendly slug for the game (globally unique)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamesoft_delete","title":"# <code>leadr.games.domain.game.Game.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/games/#leadrgamesdomaingamegamesteam_app_id","title":"# <code>leadr.games.domain.game.Game.steam_app_id</code>","text":"<pre><code>steam_app_id: str | None = Field(default=None, description='Optional Steam App ID for platform integration')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegametags","title":"# <code>leadr.games.domain.game.Game.tags</code>","text":"<pre><code>tags: list[str] = Field(default_factory=list, description='List of tags for categorizing the game')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegameupdated_at","title":"# <code>leadr.games.domain.game.Game.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/games/#leadrgamesdomaingamegamevalidate_name","title":"# <code>leadr.games.domain.game.Game.validate_name</code>","text":"<pre><code>validate_name(value)\n</code></pre> <p>Validate game name is not empty.</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The game name to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed game name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If game name is empty or whitespace only.</li> </ul>"},{"location":"api/reference/games/#leadrgamesdomaingamegamevalidate_slug","title":"# <code>leadr.games.domain.game.Game.validate_slug</code>","text":"<pre><code>validate_slug(value)\n</code></pre> <p>Validate slug format (lowercase alphanumeric with hyphens).</p> <p>Parameters:</p> <ul> <li>value (<code>str</code>) \u2013 The slug to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated slug.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If slug format is invalid.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservices","title":"<code>leadr.games.services</code>","text":"<p>Modules:</p> <ul> <li>dependencies \u2013 Game service dependencies for FastAPI dependency injection.</li> <li>game_service \u2013 Game service for managing game operations.</li> <li>repositories \u2013 Game repository services.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesdependencies","title":"<code>leadr.games.services.dependencies</code>","text":"<p>Game service dependencies for FastAPI dependency injection.</p> <p>Functions:</p> <ul> <li>get_game_service \u2013 Get GameService dependency.</li> </ul> <p>Attributes:</p> <ul> <li>GameServiceDep \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesdependenciesgameservicedep","title":"<code>leadr.games.services.dependencies.GameServiceDep</code>","text":"<pre><code>GameServiceDep = Annotated[GameService, Depends(get_game_service)]\n</code></pre>"},{"location":"api/reference/games/#leadrgamesservicesdependenciesget_game_service","title":"<code>leadr.games.services.dependencies.get_game_service</code>","text":"<pre><code>get_game_service(db)\n</code></pre> <p>Get GameService dependency.</p>"},{"location":"api/reference/games/#leadrgamesservicesgame_service","title":"<code>leadr.games.services.game_service</code>","text":"<p>Game service for managing game operations.</p> <p>Classes:</p> <ul> <li>GameService \u2013 Service for managing game lifecycle and operations.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservice","title":"<code>leadr.games.services.game_service.GameService</code>","text":"<p>Bases: <code>BaseService[Game, GameRepository]</code></p> <p>Service for managing game lifecycle and operations.</p> <p>This service orchestrates game creation, updates, and retrieval by coordinating between the domain models and repository layer.</p> <p>Functions:</p> <ul> <li>create_game \u2013 Create a new game.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>get_game \u2013 Get a game by its ID.</li> <li>get_game_by_slug \u2013 Get a game by its slug (globally unique).</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_games \u2013 List all games for an account with pagination.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_game \u2013 Update game fields.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicecreate_game","title":"# <code>leadr.games.services.game_service.GameService.create_game</code>","text":"<pre><code>create_game(account_id, name, slug=None, steam_app_id=None, default_board_id=None, anti_cheat_enabled=True, description=None, tags=None, page_url=None)\n</code></pre> <p>Create a new game.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The ID of the account that owns this game.</li> <li>name (<code>str</code>) \u2013 The game name.</li> <li>slug (<code>str | None</code>) \u2013 Optional URL-friendly slug. If not provided, auto-generated from name.</li> <li>steam_app_id (<code>str | None</code>) \u2013 Optional Steam application ID.</li> <li>default_board_id (<code>BoardID | None</code>) \u2013 Optional default leaderboard ID.</li> <li>anti_cheat_enabled (<code>bool</code>) \u2013 Whether anti-cheat is enabled (defaults to True).</li> <li>description (<code>str | None</code>) \u2013 Optional short description of the game.</li> <li>tags (<code>list[str] | None</code>) \u2013 Optional list of tags for categorizing the game.</li> <li>page_url (<code>str | None</code>) \u2013 Optional URL to the game's page or website.</li> </ul> <p>Returns:</p> <ul> <li><code>Game</code> \u2013 The created Game domain entity.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If slug is invalid or already exists globally.</li> </ul> Example  &gt; &gt; &gt; game = await service.create_game( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... name=\"Super Awesome Game\", &gt; &gt; &gt; ... steam_app_id=\"123456\", &gt; &gt; &gt; ... )"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicedelete","title":"# <code>leadr.games.services.game_service.GameService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameserviceget_by_id","title":"# <code>leadr.games.services.game_service.GameService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameserviceget_by_id_or_raise","title":"# <code>leadr.games.services.game_service.GameService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameserviceget_game","title":"# <code>leadr.games.services.game_service.GameService.get_game</code>","text":"<pre><code>get_game(game_id)\n</code></pre> <p>Get a game by its ID.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 The ID of the game to retrieve.</li> </ul> <p>Returns:</p> <ul> <li><code>Game | None</code> \u2013 The Game domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameserviceget_game_by_slug","title":"# <code>leadr.games.services.game_service.GameService.get_game_by_slug</code>","text":"<pre><code>get_game_by_slug(slug)\n</code></pre> <p>Get a game by its slug (globally unique).</p> <p>Parameters:</p> <ul> <li>slug (<code>str</code>) \u2013 The game slug to search for.</li> </ul> <p>Returns:</p> <ul> <li><code>Game | None</code> \u2013 The Game domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicelist_all","title":"# <code>leadr.games.services.game_service.GameService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicelist_games","title":"# <code>leadr.games.services.game_service.GameService.list_games</code>","text":"<pre><code>list_games(account_id, *, pagination)\n</code></pre> <p>List all games for an account with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 The ID of the account to list games for. If None, returns all   games (superadmin use case).</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Game]</code> \u2013 PaginatedResult containing Game entities matching the filter criteria.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicerepository","title":"# <code>leadr.games.services.game_service.GameService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameservicesoft_delete","title":"# <code>leadr.games.services.game_service.GameService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesgame_servicegameserviceupdate_game","title":"# <code>leadr.games.services.game_service.GameService.update_game</code>","text":"<pre><code>update_game(game_id, name=None, steam_app_id=None, default_board_id=None, anti_cheat_enabled=None, description=None, tags=None, page_url=None)\n</code></pre> <p>Update game fields.</p> <p>Parameters:</p> <ul> <li>game_id (<code>GameID</code>) \u2013 The ID of the game to update</li> <li>name (<code>str | None</code>) \u2013 New game name, if provided</li> <li>steam_app_id (<code>str | None</code>) \u2013 New Steam app ID, if provided</li> <li>default_board_id (<code>BoardID | None</code>) \u2013 New default board ID, if provided</li> <li>anti_cheat_enabled (<code>bool | None</code>) \u2013 Whether anti-cheat is enabled, if provided</li> <li>description (<code>str | None</code>) \u2013 New game description, if provided</li> <li>tags (<code>list[str] | None</code>) \u2013 New list of tags, if provided</li> <li>page_url (<code>str | None</code>) \u2013 New page URL, if provided</li> </ul> <p>Returns:</p> <ul> <li><code>Game</code> \u2013 The updated Game domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the game doesn't exist</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositories","title":"<code>leadr.games.services.repositories</code>","text":"<p>Game repository services.</p> <p>Classes:</p> <ul> <li>GameRepository \u2013 Game repository for managing game persistence.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepository","title":"<code>leadr.games.services.repositories.GameRepository</code>","text":"<p>Bases: <code>BaseRepository[Game, GameORM]</code></p> <p>Game repository for managing game persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter games by account and optional criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_slug \u2013 Get game by slug (globally unique lookup).</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositorysortable_fields","title":"# <code>leadr.games.services.repositories.GameRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'name', 'slug', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositorycreate","title":"# <code>leadr.games.services.repositories.GameRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositorydelete","title":"# <code>leadr.games.services.repositories.GameRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositoryfilter","title":"# <code>leadr.games.services.repositories.GameRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter games by account and optional criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all games   (superadmin use case). Regular users should always pass account_id.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Game]</code> \u2013 PaginatedResult containing games matching the filter criteria</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositoryget_by_id","title":"# <code>leadr.games.services.repositories.GameRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositoryget_by_slug","title":"# <code>leadr.games.services.repositories.GameRepository.get_by_slug</code>","text":"<pre><code>get_by_slug(slug)\n</code></pre> <p>Get game by slug (globally unique lookup).</p> <p>Parameters:</p> <ul> <li>slug (<code>str</code>) \u2013 The game slug to search for.</li> </ul> <p>Returns:</p> <ul> <li><code>Game | None</code> \u2013 Game domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositorysession","title":"# <code>leadr.games.services.repositories.GameRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/games/#leadrgamesservicesrepositoriesgamerepositoryupdate","title":"# <code>leadr.games.services.repositories.GameRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/infra/","title":"Infra","text":""},{"location":"api/reference/infra/#leadrinfra","title":"<code>leadr.infra</code>","text":"<p>Modules:</p> <ul> <li>blob_storage \u2013</li> <li>cache \u2013</li> <li>email \u2013 Email infrastructure domain with factory functions for easy integration.</li> </ul>"},{"location":"api/reference/infra/#leadrinfrablob_storage","title":"<code>leadr.infra.blob_storage</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfrablob_storageadapters","title":"<code>leadr.infra.blob_storage.adapters</code>","text":""},{"location":"api/reference/infra/#leadrinfrablob_storagedomain","title":"<code>leadr.infra.blob_storage.domain</code>","text":""},{"location":"api/reference/infra/#leadrinfrablob_storageservices","title":"<code>leadr.infra.blob_storage.services</code>","text":""},{"location":"api/reference/infra/#leadrinfracache","title":"<code>leadr.infra.cache</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfracacheadapters","title":"<code>leadr.infra.cache.adapters</code>","text":""},{"location":"api/reference/infra/#leadrinfracachedomain","title":"<code>leadr.infra.cache.domain</code>","text":""},{"location":"api/reference/infra/#leadrinfracacheservices","title":"<code>leadr.infra.cache.services</code>","text":""},{"location":"api/reference/infra/#leadrinfraemail","title":"<code>leadr.infra.email</code>","text":"<p>Email infrastructure domain with factory functions for easy integration.</p> <p>Modules:</p> <ul> <li>adapters \u2013 Email adapter implementations.</li> <li>domain \u2013 Email domain models and interfaces.</li> <li>service \u2013 Email service with dependency injection and convenience methods.</li> </ul> <p>Classes:</p> <ul> <li>Email \u2013 Email domain entity.</li> <li>EmailError \u2013 Base exception for email domain errors.</li> <li>EmailPriority \u2013 Email priority enumeration.</li> <li>EmailProvider \u2013 Interface for email service providers.</li> <li>EmailSendError \u2013 Raised when email sending fails.</li> <li>EmailService \u2013 Email service with dependency injection for testing and flexibility.</li> <li>EmailStatus \u2013 Email status enumeration.</li> <li>EmailValidationError \u2013 Raised when email validation fails.</li> <li>MailgunEmailProvider \u2013 Mailgun email service provider implementation.</li> <li>SMTPEmailProvider \u2013 SMTP email provider implementation for development/testing.</li> </ul> <p>Functions:</p> <ul> <li>create_email_service \u2013 Create an email service with the specified or default provider.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemail","title":"<code>leadr.infra.email.Email</code>","text":"<p>Bases: <code>Entity</code></p> <p>Email domain entity.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new Email entity.</li> <li>mark_as_delivered \u2013 Mark email as delivered.</li> <li>mark_as_failed \u2013 Mark email as failed.</li> <li>mark_as_sent \u2013 Mark email as sent.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_bcc_emails \u2013 Validate BCC email addresses.</li> <li>validate_body \u2013 Validate email body.</li> <li>validate_cc_emails \u2013 Validate CC email addresses.</li> <li>validate_from_email \u2013 Validate sender email address.</li> <li>validate_reply_to \u2013 Validate reply-to email address.</li> <li>validate_subject \u2013 Validate email subject.</li> <li>validate_to_email \u2013 Validate recipient email address.</li> </ul> <p>Attributes:</p> <ul> <li>bcc (<code>list[str]</code>) \u2013</li> <li>body (<code>str</code>) \u2013</li> <li>cc (<code>list[str]</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>error_message (<code>str | None</code>) \u2013</li> <li>failed_at (<code>datetime | None</code>) \u2013</li> <li>from_email (<code>str | None</code>) \u2013</li> <li>id (<code>EmailID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>priority (<code>EmailPriority</code>) \u2013</li> <li>provider_message_id (<code>str | None</code>) \u2013</li> <li>provider_response (<code>dict[str, Any] | None</code>) \u2013</li> <li>reply_to (<code>str | None</code>) \u2013</li> <li>sent_at (<code>datetime | None</code>) \u2013</li> <li>status (<code>EmailStatus</code>) \u2013</li> <li>subject (<code>str</code>) \u2013</li> <li>template_data (<code>dict[str, Any] | None</code>) \u2013</li> <li>to (<code>str</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailbcc","title":"<code>leadr.infra.email.Email.bcc</code>","text":"<pre><code>bcc: list[str] = Field(default_factory=list, description='BCC recipients')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailbody","title":"<code>leadr.infra.email.Email.body</code>","text":"<pre><code>body: str = Field(..., description='Email body content')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailcc","title":"<code>leadr.infra.email.Email.cc</code>","text":"<pre><code>cc: list[str] = Field(default_factory=list, description='CC recipients')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailcreate","title":"<code>leadr.infra.email.Email.create</code>","text":"<pre><code>create(to, subject, body, from_email=None, reply_to=None, cc=None, bcc=None, priority=EmailPriority.NORMAL, template_data=None)\n</code></pre> <p>Create a new Email entity.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailcreated_at","title":"<code>leadr.infra.email.Email.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemaildeleted_at","title":"<code>leadr.infra.email.Email.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailerror_message","title":"<code>leadr.infra.email.Email.error_message</code>","text":"<pre><code>error_message: str | None = Field(None, description='Error message if failed')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailfailed_at","title":"<code>leadr.infra.email.Email.failed_at</code>","text":"<pre><code>failed_at: datetime | None = Field(None, description='Time email failed')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailfrom_email","title":"<code>leadr.infra.email.Email.from_email</code>","text":"<pre><code>from_email: str | None = Field(None, description='Sender email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailid","title":"<code>leadr.infra.email.Email.id</code>","text":"<pre><code>id: EmailID = Field(frozen=True, default_factory=EmailID, description='Unique email identifier')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailis_deleted","title":"<code>leadr.infra.email.Email.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailmark_as_delivered","title":"<code>leadr.infra.email.Email.mark_as_delivered</code>","text":"<pre><code>mark_as_delivered()\n</code></pre> <p>Mark email as delivered.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailmark_as_failed","title":"<code>leadr.infra.email.Email.mark_as_failed</code>","text":"<pre><code>mark_as_failed(error_message, provider_response=None)\n</code></pre> <p>Mark email as failed.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailmark_as_sent","title":"<code>leadr.infra.email.Email.mark_as_sent</code>","text":"<pre><code>mark_as_sent(provider_message_id, provider_response)\n</code></pre> <p>Mark email as sent.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailmodel_config","title":"<code>leadr.infra.email.Email.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailpriority","title":"<code>leadr.infra.email.Email.priority</code>","text":"<pre><code>priority: EmailPriority = Field(default=(EmailPriority.NORMAL), description='Email priority')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailprovider_message_id","title":"<code>leadr.infra.email.Email.provider_message_id</code>","text":"<pre><code>provider_message_id: str | None = Field(None, description='Provider message ID')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailprovider_response","title":"<code>leadr.infra.email.Email.provider_response</code>","text":"<pre><code>provider_response: dict[str, Any] | None = Field(None, description='Provider API response')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailreply_to","title":"<code>leadr.infra.email.Email.reply_to</code>","text":"<pre><code>reply_to: str | None = Field(None, description='Reply-to email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailrestore","title":"<code>leadr.infra.email.Email.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/infra/#leadrinfraemailemailsent_at","title":"<code>leadr.infra.email.Email.sent_at</code>","text":"<pre><code>sent_at: datetime | None = Field(None, description='Time email was sent')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailsoft_delete","title":"<code>leadr.infra.email.Email.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/infra/#leadrinfraemailemailstatus","title":"<code>leadr.infra.email.Email.status</code>","text":"<pre><code>status: EmailStatus = Field(default=(EmailStatus.PENDING), description='Email status')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailsubject","title":"<code>leadr.infra.email.Email.subject</code>","text":"<pre><code>subject: str = Field(..., description='Email subject')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailtemplate_data","title":"<code>leadr.infra.email.Email.template_data</code>","text":"<pre><code>template_data: dict[str, Any] | None = Field(None, description='Template data for email rendering')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailto","title":"<code>leadr.infra.email.Email.to</code>","text":"<pre><code>to: str = Field(..., description='Recipient email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailupdated_at","title":"<code>leadr.infra.email.Email.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_bcc_emails","title":"<code>leadr.infra.email.Email.validate_bcc_emails</code>","text":"<pre><code>validate_bcc_emails(v)\n</code></pre> <p>Validate BCC email addresses.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_body","title":"<code>leadr.infra.email.Email.validate_body</code>","text":"<pre><code>validate_body(v)\n</code></pre> <p>Validate email body.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_cc_emails","title":"<code>leadr.infra.email.Email.validate_cc_emails</code>","text":"<pre><code>validate_cc_emails(v)\n</code></pre> <p>Validate CC email addresses.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_from_email","title":"<code>leadr.infra.email.Email.validate_from_email</code>","text":"<pre><code>validate_from_email(v)\n</code></pre> <p>Validate sender email address.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_reply_to","title":"<code>leadr.infra.email.Email.validate_reply_to</code>","text":"<pre><code>validate_reply_to(v)\n</code></pre> <p>Validate reply-to email address.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_subject","title":"<code>leadr.infra.email.Email.validate_subject</code>","text":"<pre><code>validate_subject(v)\n</code></pre> <p>Validate email subject.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidate_to_email","title":"<code>leadr.infra.email.Email.validate_to_email</code>","text":"<pre><code>validate_to_email(v)\n</code></pre> <p>Validate recipient email address.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailerror","title":"<code>leadr.infra.email.EmailError</code>","text":"<p>Bases: <code>Exception</code></p> <p>Base exception for email domain errors.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailpriority_1","title":"<code>leadr.infra.email.EmailPriority</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email priority enumeration.</p> <p>Attributes:</p> <ul> <li>HIGH \u2013</li> <li>LOW \u2013</li> <li>NORMAL \u2013</li> <li>URGENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailpriorityhigh","title":"<code>leadr.infra.email.EmailPriority.HIGH</code>","text":"<pre><code>HIGH = 'high'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailprioritylow","title":"<code>leadr.infra.email.EmailPriority.LOW</code>","text":"<pre><code>LOW = 'low'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailprioritynormal","title":"<code>leadr.infra.email.EmailPriority.NORMAL</code>","text":"<pre><code>NORMAL = 'normal'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailpriorityurgent","title":"<code>leadr.infra.email.EmailPriority.URGENT</code>","text":"<pre><code>URGENT = 'urgent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailprovider","title":"<code>leadr.infra.email.EmailProvider</code>","text":"<p>Bases: <code>ABC</code></p> <p>Interface for email service providers.</p> <p>Functions:</p> <ul> <li>send \u2013 Send an email and return provider response.</li> <li>validate_config \u2013 Validate provider configuration.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailprovidersend","title":"<code>leadr.infra.email.EmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send an email and return provider response.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailprovidervalidate_config","title":"<code>leadr.infra.email.EmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate provider configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailsenderror","title":"<code>leadr.infra.email.EmailSendError</code>","text":"<pre><code>EmailSendError(message, provider_response=None)\n</code></pre> <p>Bases: <code>EmailError</code></p> <p>Raised when email sending fails.</p> <p>Attributes:</p> <ul> <li>provider_response \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailsenderrorprovider_response","title":"<code>leadr.infra.email.EmailSendError.provider_response</code>","text":"<pre><code>provider_response = provider_response\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailservice","title":"<code>leadr.infra.email.EmailService</code>","text":"<pre><code>EmailService(provider, db=None, validate_on_init=False)\n</code></pre> <p>Email service with dependency injection for testing and flexibility.</p> <p>Functions:</p> <ul> <li>get_default_from_email \u2013 Get default from email address.</li> <li>send_email \u2013 Send an email using the configured provider.</li> <li>send_notification_email \u2013 Send a notification email.</li> <li>send_verification_code \u2013 Send a verification code email for LEADR registration.</li> <li>send_welcome_email \u2013 Send a welcome email after successful LEADR registration.</li> <li>validate_provider_config \u2013 Validate the email provider configuration.</li> </ul> <p>Attributes:</p> <ul> <li>db \u2013</li> <li>provider \u2013</li> <li>repository \u2013</li> <li>templates_dir \u2013</li> </ul> <p>Parameters:</p> <ul> <li>provider (<code>EmailProvider</code>) \u2013 Email provider implementation (e.g., Mailgun).</li> <li>db (<code>AsyncSession | None</code>) \u2013 Optional database session for persisting email records.</li> <li>validate_on_init (<code>bool</code>) \u2013 Whether to validate provider config on initialization.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailservicedb","title":"<code>leadr.infra.email.EmailService.db</code>","text":"<pre><code>db = db\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailserviceget_default_from_email","title":"<code>leadr.infra.email.EmailService.get_default_from_email</code>","text":"<pre><code>get_default_from_email()\n</code></pre> <p>Get default from email address.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailserviceprovider","title":"<code>leadr.infra.email.EmailService.provider</code>","text":"<pre><code>provider = provider\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailservicerepository","title":"<code>leadr.infra.email.EmailService.repository</code>","text":"<pre><code>repository = EmailRepository(db) if db else None\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailservicesend_email","title":"<code>leadr.infra.email.EmailService.send_email</code>","text":"<pre><code>send_email(to, subject, body, from_email=None, reply_to=None, cc=None, bcc=None, priority=EmailPriority.NORMAL, template_data=None)\n</code></pre> <p>Send an email using the configured provider.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailservicesend_notification_email","title":"<code>leadr.infra.email.EmailService.send_notification_email</code>","text":"<pre><code>send_notification_email(to, subject, message, priority=EmailPriority.NORMAL, from_email=None)\n</code></pre> <p>Send a notification email.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailservicesend_verification_code","title":"<code>leadr.infra.email.EmailService.send_verification_code</code>","text":"<pre><code>send_verification_code(to, code)\n</code></pre> <p>Send a verification code email for LEADR registration.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailservicesend_welcome_email","title":"<code>leadr.infra.email.EmailService.send_welcome_email</code>","text":"<pre><code>send_welcome_email(to, user_name, account_name, account_slug, from_email=None)\n</code></pre> <p>Send a welcome email after successful LEADR registration.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailservicetemplates_dir","title":"<code>leadr.infra.email.EmailService.templates_dir</code>","text":"<pre><code>templates_dir = Path(__file__).parent / 'templates'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailservicevalidate_provider_config","title":"<code>leadr.infra.email.EmailService.validate_provider_config</code>","text":"<pre><code>validate_provider_config()\n</code></pre> <p>Validate the email provider configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailemailstatus_1","title":"<code>leadr.infra.email.EmailStatus</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email status enumeration.</p> <p>Attributes:</p> <ul> <li>DELIVERED \u2013</li> <li>FAILED \u2013</li> <li>PENDING \u2013</li> <li>SENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailemailstatusdelivered","title":"<code>leadr.infra.email.EmailStatus.DELIVERED</code>","text":"<pre><code>DELIVERED = 'delivered'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailstatusfailed","title":"<code>leadr.infra.email.EmailStatus.FAILED</code>","text":"<pre><code>FAILED = 'failed'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailstatuspending","title":"<code>leadr.infra.email.EmailStatus.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailstatussent","title":"<code>leadr.infra.email.EmailStatus.SENT</code>","text":"<pre><code>SENT = 'sent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailemailvalidationerror","title":"<code>leadr.infra.email.EmailValidationError</code>","text":"<p>Bases: <code>EmailError</code></p> <p>Raised when email validation fails.</p>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailprovider","title":"<code>leadr.infra.email.MailgunEmailProvider</code>","text":"<pre><code>MailgunEmailProvider()\n</code></pre> <p>Bases: <code>EmailProvider</code></p> <p>Mailgun email service provider implementation.</p> <p>Functions:</p> <ul> <li>send \u2013 Send email via Mailgun API.</li> <li>validate_config \u2013 Validate Mailgun configuration.</li> </ul> <p>Attributes:</p> <ul> <li>api_key \u2013</li> <li>client \u2013</li> <li>domain \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailproviderapi_key","title":"<code>leadr.infra.email.MailgunEmailProvider.api_key</code>","text":"<pre><code>api_key = settings.MAILGUN_API_KEY\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailproviderclient","title":"<code>leadr.infra.email.MailgunEmailProvider.client</code>","text":"<pre><code>client = Client(auth=('api', self.api_key))\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailproviderdomain","title":"<code>leadr.infra.email.MailgunEmailProvider.domain</code>","text":"<pre><code>domain = settings.MAILGUN_DOMAIN\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailprovidersend","title":"<code>leadr.infra.email.MailgunEmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send email via Mailgun API.</p>"},{"location":"api/reference/infra/#leadrinfraemailmailgunemailprovidervalidate_config","title":"<code>leadr.infra.email.MailgunEmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate Mailgun configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailsmtpemailprovider","title":"<code>leadr.infra.email.SMTPEmailProvider</code>","text":"<pre><code>SMTPEmailProvider(host=None, port=None)\n</code></pre> <p>Bases: <code>EmailProvider</code></p> <p>SMTP email provider implementation for development/testing.</p> <p>Functions:</p> <ul> <li>send \u2013 Send email via SMTP.</li> <li>validate_config \u2013 Validate SMTP configuration.</li> </ul> <p>Attributes:</p> <ul> <li>host \u2013</li> <li>port \u2013</li> </ul> <p>Parameters:</p> <ul> <li>host (<code>str | None</code>) \u2013 SMTP server hostname (defaults to settings.SMTP_HOST or localhost)</li> <li>port (<code>int | None</code>) \u2013 SMTP server port (defaults to settings.SMTP_PORT or 1025)</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailsmtpemailproviderhost","title":"<code>leadr.infra.email.SMTPEmailProvider.host</code>","text":"<pre><code>host = host or getattr(settings, 'SMTP_HOST', 'localhost')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailsmtpemailproviderport","title":"<code>leadr.infra.email.SMTPEmailProvider.port</code>","text":"<pre><code>port = port or getattr(settings, 'SMTP_PORT', 1025)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailsmtpemailprovidersend","title":"<code>leadr.infra.email.SMTPEmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send email via SMTP.</p>"},{"location":"api/reference/infra/#leadrinfraemailsmtpemailprovidervalidate_config","title":"<code>leadr.infra.email.SMTPEmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate SMTP configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailadapters","title":"<code>leadr.infra.email.adapters</code>","text":"<p>Email adapter implementations.</p> <p>Modules:</p> <ul> <li>mailgun \u2013 Mailgun email adapter implementation.</li> <li>orm \u2013 Email ORM models.</li> <li>repositories \u2013 Email repository for database operations.</li> <li>smtp \u2013 SMTP email adapter implementation for testing.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgun","title":"<code>leadr.infra.email.adapters.mailgun</code>","text":"<p>Mailgun email adapter implementation.</p> <p>Classes:</p> <ul> <li>MailgunEmailProvider \u2013 Mailgun email service provider implementation.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailprovider","title":"# <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider</code>","text":"<pre><code>MailgunEmailProvider()\n</code></pre> <p>Bases: <code>EmailProvider</code></p> <p>Mailgun email service provider implementation.</p> <p>Functions:</p> <ul> <li>send \u2013 Send email via Mailgun API.</li> <li>validate_config \u2013 Validate Mailgun configuration.</li> </ul> <p>Attributes:</p> <ul> <li>api_key \u2013</li> <li>client \u2013</li> <li>domain \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailproviderapi_key","title":"## <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider.api_key</code>","text":"<pre><code>api_key = settings.MAILGUN_API_KEY\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailproviderclient","title":"## <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider.client</code>","text":"<pre><code>client = Client(auth=('api', self.api_key))\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailproviderdomain","title":"## <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider.domain</code>","text":"<pre><code>domain = settings.MAILGUN_DOMAIN\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailprovidersend","title":"## <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send email via Mailgun API.</p>"},{"location":"api/reference/infra/#leadrinfraemailadaptersmailgunmailgunemailprovidervalidate_config","title":"## <code>leadr.infra.email.adapters.mailgun.MailgunEmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate Mailgun configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailadaptersorm","title":"<code>leadr.infra.email.adapters.orm</code>","text":"<p>Email ORM models.</p> <p>Classes:</p> <ul> <li>EmailORM \u2013 Email ORM model.</li> <li>EmailPriorityEnum \u2013 Email priority enum for database.</li> <li>EmailStatusEnum \u2013 Email status enum for database.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailorm","title":"# <code>leadr.infra.email.adapters.orm.EmailORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Email ORM model.</p> <p>Represents an email in the database for tracking and auditing purposes. Maps to the emails table.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>bcc (<code>Mapped[list[str]]</code>) \u2013</li> <li>body (<code>Mapped[str]</code>) \u2013</li> <li>cc (<code>Mapped[list[str]]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>error_message (<code>Mapped[str | None]</code>) \u2013</li> <li>failed_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>from_email (<code>Mapped[str | None]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>priority (<code>Mapped[EmailPriorityEnum]</code>) \u2013</li> <li>provider_message_id (<code>Mapped[str | None]</code>) \u2013</li> <li>provider_response (<code>Mapped[dict[str, Any] | None]</code>) \u2013</li> <li>reply_to (<code>Mapped[str | None]</code>) \u2013</li> <li>sent_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>status (<code>Mapped[EmailStatusEnum]</code>) \u2013</li> <li>subject (<code>Mapped[str]</code>) \u2013</li> <li>template_data (<code>Mapped[dict[str, Any] | None]</code>) \u2013</li> <li>to (<code>Mapped[str]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormbcc","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.bcc</code>","text":"<pre><code>bcc: Mapped[list[str]] = mapped_column(JSON, nullable=False, default=list, server_default='[]')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormbody","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.body</code>","text":"<pre><code>body: Mapped[str] = mapped_column(Text, nullable=False)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormcc","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.cc</code>","text":"<pre><code>cc: Mapped[list[str]] = mapped_column(JSON, nullable=False, default=list, server_default='[]')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormcreated_at","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormdeleted_at","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormerror_message","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.error_message</code>","text":"<pre><code>error_message: Mapped[str | None] = mapped_column(Text, nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormfailed_at","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.failed_at</code>","text":"<pre><code>failed_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormfrom_domain","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.from_domain</code>","text":"<pre><code>from_domain(domain)\n</code></pre> <p>Convert domain entity to ORM model.</p> <p>Parameters:</p> <ul> <li>domain (<code>Email</code>) \u2013 The domain entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>EmailORM</code> \u2013 The ORM model instance.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormfrom_email","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.from_email</code>","text":"<pre><code>from_email: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormid","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormpriority","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.priority</code>","text":"<pre><code>priority: Mapped[EmailPriorityEnum] = mapped_column(Enum(EmailPriorityEnum, name='email_priority', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(EmailPriorityEnum.NORMAL), server_default='normal')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormprovider_message_id","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.provider_message_id</code>","text":"<pre><code>provider_message_id: Mapped[str | None] = mapped_column(String, nullable=True, index=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormprovider_response","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.provider_response</code>","text":"<pre><code>provider_response: Mapped[dict[str, Any] | None] = mapped_column(JSON, nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormreply_to","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.reply_to</code>","text":"<pre><code>reply_to: Mapped[str | None] = mapped_column(String, nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormsent_at","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.sent_at</code>","text":"<pre><code>sent_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormstatus","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.status</code>","text":"<pre><code>status: Mapped[EmailStatusEnum] = mapped_column(Enum(EmailStatusEnum, name='email_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(EmailStatusEnum.PENDING), server_default='pending', index=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormsubject","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.subject</code>","text":"<pre><code>subject: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormtemplate_data","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.template_data</code>","text":"<pre><code>template_data: Mapped[dict[str, Any] | None] = mapped_column(JSON, nullable=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormto","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.to</code>","text":"<pre><code>to: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormto_domain","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p> <p>Returns:</p> <ul> <li><code>Email</code> \u2013 The domain entity instance.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailormupdated_at","title":"## <code>leadr.infra.email.adapters.orm.EmailORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailpriorityenum","title":"# <code>leadr.infra.email.adapters.orm.EmailPriorityEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email priority enum for database.</p> <p>Attributes:</p> <ul> <li>HIGH \u2013</li> <li>LOW \u2013</li> <li>NORMAL \u2013</li> <li>URGENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailpriorityenumhigh","title":"## <code>leadr.infra.email.adapters.orm.EmailPriorityEnum.HIGH</code>","text":"<pre><code>HIGH = 'high'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailpriorityenumlow","title":"## <code>leadr.infra.email.adapters.orm.EmailPriorityEnum.LOW</code>","text":"<pre><code>LOW = 'low'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailpriorityenumnormal","title":"## <code>leadr.infra.email.adapters.orm.EmailPriorityEnum.NORMAL</code>","text":"<pre><code>NORMAL = 'normal'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailpriorityenumurgent","title":"## <code>leadr.infra.email.adapters.orm.EmailPriorityEnum.URGENT</code>","text":"<pre><code>URGENT = 'urgent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailstatusenum","title":"# <code>leadr.infra.email.adapters.orm.EmailStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email status enum for database.</p> <p>Attributes:</p> <ul> <li>DELIVERED \u2013</li> <li>FAILED \u2013</li> <li>PENDING \u2013</li> <li>SENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailstatusenumdelivered","title":"## <code>leadr.infra.email.adapters.orm.EmailStatusEnum.DELIVERED</code>","text":"<pre><code>DELIVERED = 'delivered'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailstatusenumfailed","title":"## <code>leadr.infra.email.adapters.orm.EmailStatusEnum.FAILED</code>","text":"<pre><code>FAILED = 'failed'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailstatusenumpending","title":"## <code>leadr.infra.email.adapters.orm.EmailStatusEnum.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersormemailstatusenumsent","title":"## <code>leadr.infra.email.adapters.orm.EmailStatusEnum.SENT</code>","text":"<pre><code>SENT = 'sent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositories","title":"<code>leadr.infra.email.adapters.repositories</code>","text":"<p>Email repository for database operations.</p> <p>Classes:</p> <ul> <li>EmailRepository \u2013 Repository for Email entities.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepository","title":"# <code>leadr.infra.email.adapters.repositories.EmailRepository</code>","text":"<pre><code>EmailRepository(db)\n</code></pre> <p>Bases: <code>BaseRepository[Email, EmailORM]</code></p> <p>Repository for Email entities.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter emails by criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul> <p>Parameters:</p> <ul> <li>db (<code>AsyncSession</code>) \u2013 Database session.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositorysortable_fields","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'to', 'status', 'priority', 'created_at', 'sent_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositorycreate","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositorydelete","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositoryfilter","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter emails by criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>Any | None</code>) \u2013 Not used for emails (top-level entity).</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Filter parameters (to, status, etc.)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Email]</code> \u2013 Paginated result of matching Email entities.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS.</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositoryget_by_id","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositorysession","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadaptersrepositoriesemailrepositoryupdate","title":"## <code>leadr.infra.email.adapters.repositories.EmailRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtp","title":"<code>leadr.infra.email.adapters.smtp</code>","text":"<p>SMTP email adapter implementation for testing.</p> <p>Classes:</p> <ul> <li>SMTPEmailProvider \u2013 SMTP email provider implementation for development/testing.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtpsmtpemailprovider","title":"# <code>leadr.infra.email.adapters.smtp.SMTPEmailProvider</code>","text":"<pre><code>SMTPEmailProvider(host=None, port=None)\n</code></pre> <p>Bases: <code>EmailProvider</code></p> <p>SMTP email provider implementation for development/testing.</p> <p>Functions:</p> <ul> <li>send \u2013 Send email via SMTP.</li> <li>validate_config \u2013 Validate SMTP configuration.</li> </ul> <p>Attributes:</p> <ul> <li>host \u2013</li> <li>port \u2013</li> </ul> <p>Parameters:</p> <ul> <li>host (<code>str | None</code>) \u2013 SMTP server hostname (defaults to settings.SMTP_HOST or localhost)</li> <li>port (<code>int | None</code>) \u2013 SMTP server port (defaults to settings.SMTP_PORT or 1025)</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtpsmtpemailproviderhost","title":"## <code>leadr.infra.email.adapters.smtp.SMTPEmailProvider.host</code>","text":"<pre><code>host = host or getattr(settings, 'SMTP_HOST', 'localhost')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtpsmtpemailproviderport","title":"## <code>leadr.infra.email.adapters.smtp.SMTPEmailProvider.port</code>","text":"<pre><code>port = port or getattr(settings, 'SMTP_PORT', 1025)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtpsmtpemailprovidersend","title":"## <code>leadr.infra.email.adapters.smtp.SMTPEmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send email via SMTP.</p>"},{"location":"api/reference/infra/#leadrinfraemailadapterssmtpsmtpemailprovidervalidate_config","title":"## <code>leadr.infra.email.adapters.smtp.SMTPEmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate SMTP configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailcreate_email_service","title":"<code>leadr.infra.email.create_email_service</code>","text":"<pre><code>create_email_service(provider=None, db=None)\n</code></pre> <p>Create an email service with the specified or default provider.</p> <p>Parameters:</p> <ul> <li>provider (<code>EmailProvider | None</code>) \u2013 Email provider instance. If None, uses MailgunEmailProvider   in production or SMTPEmailProvider in TEST environment.</li> <li>db (<code>AsyncSession | None</code>) \u2013 Optional database session for persisting email records.</li> </ul> <p>Returns:</p> <ul> <li><code>EmailService</code> \u2013 EmailService instance ready for use.</li> </ul> Example  # Use default provider (Mailgun in prod, SMTP in test)  email_service = create_email_service()  # With database persistence  email_service = create_email_service(db=session)  # Use custom provider  custom_provider = MyCustomEmailProvider() email_service = create_email_service(provider=custom_provider)"},{"location":"api/reference/infra/#leadrinfraemaildomain","title":"<code>leadr.infra.email.domain</code>","text":"<p>Email domain models and interfaces.</p> <p>Modules:</p> <ul> <li>exceptions \u2013 Email domain exceptions.</li> <li>interfaces \u2013 Email domain interfaces.</li> <li>models \u2013 Email domain models.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainexceptions","title":"<code>leadr.infra.email.domain.exceptions</code>","text":"<p>Email domain exceptions.</p> <p>Classes:</p> <ul> <li>EmailError \u2013 Base exception for email domain errors.</li> <li>EmailSendError \u2013 Raised when email sending fails.</li> <li>EmailValidationError \u2013 Raised when email validation fails.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainexceptionsemailerror","title":"# <code>leadr.infra.email.domain.exceptions.EmailError</code>","text":"<p>Bases: <code>Exception</code></p> <p>Base exception for email domain errors.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainexceptionsemailsenderror","title":"# <code>leadr.infra.email.domain.exceptions.EmailSendError</code>","text":"<pre><code>EmailSendError(message, provider_response=None)\n</code></pre> <p>Bases: <code>EmailError</code></p> <p>Raised when email sending fails.</p> <p>Attributes:</p> <ul> <li>provider_response \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainexceptionsemailsenderrorprovider_response","title":"## <code>leadr.infra.email.domain.exceptions.EmailSendError.provider_response</code>","text":"<pre><code>provider_response = provider_response\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainexceptionsemailvalidationerror","title":"# <code>leadr.infra.email.domain.exceptions.EmailValidationError</code>","text":"<p>Bases: <code>EmailError</code></p> <p>Raised when email validation fails.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomaininterfaces","title":"<code>leadr.infra.email.domain.interfaces</code>","text":"<p>Email domain interfaces.</p> <p>Classes:</p> <ul> <li>EmailProvider \u2013 Interface for email service providers.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomaininterfacesemailprovider","title":"# <code>leadr.infra.email.domain.interfaces.EmailProvider</code>","text":"<p>Bases: <code>ABC</code></p> <p>Interface for email service providers.</p> <p>Functions:</p> <ul> <li>send \u2013 Send an email and return provider response.</li> <li>validate_config \u2013 Validate provider configuration.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomaininterfacesemailprovidersend","title":"## <code>leadr.infra.email.domain.interfaces.EmailProvider.send</code>","text":"<pre><code>send(email)\n</code></pre> <p>Send an email and return provider response.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomaininterfacesemailprovidervalidate_config","title":"## <code>leadr.infra.email.domain.interfaces.EmailProvider.validate_config</code>","text":"<pre><code>validate_config()\n</code></pre> <p>Validate provider configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodels","title":"<code>leadr.infra.email.domain.models</code>","text":"<p>Email domain models.</p> <p>Classes:</p> <ul> <li>Email \u2013 Email domain entity.</li> <li>EmailPriority \u2013 Email priority enumeration.</li> <li>EmailStatus \u2013 Email status enumeration.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemail","title":"# <code>leadr.infra.email.domain.models.Email</code>","text":"<p>Bases: <code>Entity</code></p> <p>Email domain entity.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new Email entity.</li> <li>mark_as_delivered \u2013 Mark email as delivered.</li> <li>mark_as_failed \u2013 Mark email as failed.</li> <li>mark_as_sent \u2013 Mark email as sent.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_bcc_emails \u2013 Validate BCC email addresses.</li> <li>validate_body \u2013 Validate email body.</li> <li>validate_cc_emails \u2013 Validate CC email addresses.</li> <li>validate_from_email \u2013 Validate sender email address.</li> <li>validate_reply_to \u2013 Validate reply-to email address.</li> <li>validate_subject \u2013 Validate email subject.</li> <li>validate_to_email \u2013 Validate recipient email address.</li> </ul> <p>Attributes:</p> <ul> <li>bcc (<code>list[str]</code>) \u2013</li> <li>body (<code>str</code>) \u2013</li> <li>cc (<code>list[str]</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>error_message (<code>str | None</code>) \u2013</li> <li>failed_at (<code>datetime | None</code>) \u2013</li> <li>from_email (<code>str | None</code>) \u2013</li> <li>id (<code>EmailID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>priority (<code>EmailPriority</code>) \u2013</li> <li>provider_message_id (<code>str | None</code>) \u2013</li> <li>provider_response (<code>dict[str, Any] | None</code>) \u2013</li> <li>reply_to (<code>str | None</code>) \u2013</li> <li>sent_at (<code>datetime | None</code>) \u2013</li> <li>status (<code>EmailStatus</code>) \u2013</li> <li>subject (<code>str</code>) \u2013</li> <li>template_data (<code>dict[str, Any] | None</code>) \u2013</li> <li>to (<code>str</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailbcc","title":"## <code>leadr.infra.email.domain.models.Email.bcc</code>","text":"<pre><code>bcc: list[str] = Field(default_factory=list, description='BCC recipients')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailbody","title":"## <code>leadr.infra.email.domain.models.Email.body</code>","text":"<pre><code>body: str = Field(..., description='Email body content')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailcc","title":"## <code>leadr.infra.email.domain.models.Email.cc</code>","text":"<pre><code>cc: list[str] = Field(default_factory=list, description='CC recipients')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailcreate","title":"## <code>leadr.infra.email.domain.models.Email.create</code>","text":"<pre><code>create(to, subject, body, from_email=None, reply_to=None, cc=None, bcc=None, priority=EmailPriority.NORMAL, template_data=None)\n</code></pre> <p>Create a new Email entity.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailcreated_at","title":"## <code>leadr.infra.email.domain.models.Email.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemaildeleted_at","title":"## <code>leadr.infra.email.domain.models.Email.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailerror_message","title":"## <code>leadr.infra.email.domain.models.Email.error_message</code>","text":"<pre><code>error_message: str | None = Field(None, description='Error message if failed')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailfailed_at","title":"## <code>leadr.infra.email.domain.models.Email.failed_at</code>","text":"<pre><code>failed_at: datetime | None = Field(None, description='Time email failed')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailfrom_email","title":"## <code>leadr.infra.email.domain.models.Email.from_email</code>","text":"<pre><code>from_email: str | None = Field(None, description='Sender email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailid","title":"## <code>leadr.infra.email.domain.models.Email.id</code>","text":"<pre><code>id: EmailID = Field(frozen=True, default_factory=EmailID, description='Unique email identifier')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailis_deleted","title":"## <code>leadr.infra.email.domain.models.Email.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailmark_as_delivered","title":"## <code>leadr.infra.email.domain.models.Email.mark_as_delivered</code>","text":"<pre><code>mark_as_delivered()\n</code></pre> <p>Mark email as delivered.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailmark_as_failed","title":"## <code>leadr.infra.email.domain.models.Email.mark_as_failed</code>","text":"<pre><code>mark_as_failed(error_message, provider_response=None)\n</code></pre> <p>Mark email as failed.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailmark_as_sent","title":"## <code>leadr.infra.email.domain.models.Email.mark_as_sent</code>","text":"<pre><code>mark_as_sent(provider_message_id, provider_response)\n</code></pre> <p>Mark email as sent.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailmodel_config","title":"## <code>leadr.infra.email.domain.models.Email.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailpriority","title":"## <code>leadr.infra.email.domain.models.Email.priority</code>","text":"<pre><code>priority: EmailPriority = Field(default=(EmailPriority.NORMAL), description='Email priority')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailprovider_message_id","title":"## <code>leadr.infra.email.domain.models.Email.provider_message_id</code>","text":"<pre><code>provider_message_id: str | None = Field(None, description='Provider message ID')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailprovider_response","title":"## <code>leadr.infra.email.domain.models.Email.provider_response</code>","text":"<pre><code>provider_response: dict[str, Any] | None = Field(None, description='Provider API response')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailreply_to","title":"## <code>leadr.infra.email.domain.models.Email.reply_to</code>","text":"<pre><code>reply_to: str | None = Field(None, description='Reply-to email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailrestore","title":"## <code>leadr.infra.email.domain.models.Email.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailsent_at","title":"## <code>leadr.infra.email.domain.models.Email.sent_at</code>","text":"<pre><code>sent_at: datetime | None = Field(None, description='Time email was sent')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailsoft_delete","title":"## <code>leadr.infra.email.domain.models.Email.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatus","title":"## <code>leadr.infra.email.domain.models.Email.status</code>","text":"<pre><code>status: EmailStatus = Field(default=(EmailStatus.PENDING), description='Email status')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailsubject","title":"## <code>leadr.infra.email.domain.models.Email.subject</code>","text":"<pre><code>subject: str = Field(..., description='Email subject')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailtemplate_data","title":"## <code>leadr.infra.email.domain.models.Email.template_data</code>","text":"<pre><code>template_data: dict[str, Any] | None = Field(None, description='Template data for email rendering')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailto","title":"## <code>leadr.infra.email.domain.models.Email.to</code>","text":"<pre><code>to: str = Field(..., description='Recipient email address')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailupdated_at","title":"## <code>leadr.infra.email.domain.models.Email.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_bcc_emails","title":"## <code>leadr.infra.email.domain.models.Email.validate_bcc_emails</code>","text":"<pre><code>validate_bcc_emails(v)\n</code></pre> <p>Validate BCC email addresses.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_body","title":"## <code>leadr.infra.email.domain.models.Email.validate_body</code>","text":"<pre><code>validate_body(v)\n</code></pre> <p>Validate email body.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_cc_emails","title":"## <code>leadr.infra.email.domain.models.Email.validate_cc_emails</code>","text":"<pre><code>validate_cc_emails(v)\n</code></pre> <p>Validate CC email addresses.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_from_email","title":"## <code>leadr.infra.email.domain.models.Email.validate_from_email</code>","text":"<pre><code>validate_from_email(v)\n</code></pre> <p>Validate sender email address.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_reply_to","title":"## <code>leadr.infra.email.domain.models.Email.validate_reply_to</code>","text":"<pre><code>validate_reply_to(v)\n</code></pre> <p>Validate reply-to email address.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_subject","title":"## <code>leadr.infra.email.domain.models.Email.validate_subject</code>","text":"<pre><code>validate_subject(v)\n</code></pre> <p>Validate email subject.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailvalidate_to_email","title":"## <code>leadr.infra.email.domain.models.Email.validate_to_email</code>","text":"<pre><code>validate_to_email(v)\n</code></pre> <p>Validate recipient email address.</p>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailpriority_1","title":"# <code>leadr.infra.email.domain.models.EmailPriority</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email priority enumeration.</p> <p>Attributes:</p> <ul> <li>HIGH \u2013</li> <li>LOW \u2013</li> <li>NORMAL \u2013</li> <li>URGENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailpriorityhigh","title":"## <code>leadr.infra.email.domain.models.EmailPriority.HIGH</code>","text":"<pre><code>HIGH = 'high'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailprioritylow","title":"## <code>leadr.infra.email.domain.models.EmailPriority.LOW</code>","text":"<pre><code>LOW = 'low'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailprioritynormal","title":"## <code>leadr.infra.email.domain.models.EmailPriority.NORMAL</code>","text":"<pre><code>NORMAL = 'normal'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailpriorityurgent","title":"## <code>leadr.infra.email.domain.models.EmailPriority.URGENT</code>","text":"<pre><code>URGENT = 'urgent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatus_1","title":"# <code>leadr.infra.email.domain.models.EmailStatus</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Email status enumeration.</p> <p>Attributes:</p> <ul> <li>DELIVERED \u2013</li> <li>FAILED \u2013</li> <li>PENDING \u2013</li> <li>SENT \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatusdelivered","title":"## <code>leadr.infra.email.domain.models.EmailStatus.DELIVERED</code>","text":"<pre><code>DELIVERED = 'delivered'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatusfailed","title":"## <code>leadr.infra.email.domain.models.EmailStatus.FAILED</code>","text":"<pre><code>FAILED = 'failed'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatuspending","title":"## <code>leadr.infra.email.domain.models.EmailStatus.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemaildomainmodelsemailstatussent","title":"## <code>leadr.infra.email.domain.models.EmailStatus.SENT</code>","text":"<pre><code>SENT = 'sent'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailservice","title":"<code>leadr.infra.email.service</code>","text":"<p>Email service with dependency injection and convenience methods.</p> <p>Classes:</p> <ul> <li>EmailService \u2013 Email service with dependency injection for testing and flexibility.</li> </ul> <p>Attributes:</p> <ul> <li>logger \u2013</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservice","title":"<code>leadr.infra.email.service.EmailService</code>","text":"<pre><code>EmailService(provider, db=None, validate_on_init=False)\n</code></pre> <p>Email service with dependency injection for testing and flexibility.</p> <p>Functions:</p> <ul> <li>get_default_from_email \u2013 Get default from email address.</li> <li>send_email \u2013 Send an email using the configured provider.</li> <li>send_notification_email \u2013 Send a notification email.</li> <li>send_verification_code \u2013 Send a verification code email for LEADR registration.</li> <li>send_welcome_email \u2013 Send a welcome email after successful LEADR registration.</li> <li>validate_provider_config \u2013 Validate the email provider configuration.</li> </ul> <p>Attributes:</p> <ul> <li>db \u2013</li> <li>provider \u2013</li> <li>repository \u2013</li> <li>templates_dir \u2013</li> </ul> <p>Parameters:</p> <ul> <li>provider (<code>EmailProvider</code>) \u2013 Email provider implementation (e.g., Mailgun).</li> <li>db (<code>AsyncSession | None</code>) \u2013 Optional database session for persisting email records.</li> <li>validate_on_init (<code>bool</code>) \u2013 Whether to validate provider config on initialization.</li> </ul>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicedb","title":"# <code>leadr.infra.email.service.EmailService.db</code>","text":"<pre><code>db = db\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailserviceget_default_from_email","title":"# <code>leadr.infra.email.service.EmailService.get_default_from_email</code>","text":"<pre><code>get_default_from_email()\n</code></pre> <p>Get default from email address.</p>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailserviceprovider","title":"# <code>leadr.infra.email.service.EmailService.provider</code>","text":"<pre><code>provider = provider\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicerepository","title":"# <code>leadr.infra.email.service.EmailService.repository</code>","text":"<pre><code>repository = EmailRepository(db) if db else None\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicesend_email","title":"# <code>leadr.infra.email.service.EmailService.send_email</code>","text":"<pre><code>send_email(to, subject, body, from_email=None, reply_to=None, cc=None, bcc=None, priority=EmailPriority.NORMAL, template_data=None)\n</code></pre> <p>Send an email using the configured provider.</p>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicesend_notification_email","title":"# <code>leadr.infra.email.service.EmailService.send_notification_email</code>","text":"<pre><code>send_notification_email(to, subject, message, priority=EmailPriority.NORMAL, from_email=None)\n</code></pre> <p>Send a notification email.</p>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicesend_verification_code","title":"# <code>leadr.infra.email.service.EmailService.send_verification_code</code>","text":"<pre><code>send_verification_code(to, code)\n</code></pre> <p>Send a verification code email for LEADR registration.</p>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicesend_welcome_email","title":"# <code>leadr.infra.email.service.EmailService.send_welcome_email</code>","text":"<pre><code>send_welcome_email(to, user_name, account_name, account_slug, from_email=None)\n</code></pre> <p>Send a welcome email after successful LEADR registration.</p>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicetemplates_dir","title":"# <code>leadr.infra.email.service.EmailService.templates_dir</code>","text":"<pre><code>templates_dir = Path(__file__).parent / 'templates'\n</code></pre>"},{"location":"api/reference/infra/#leadrinfraemailserviceemailservicevalidate_provider_config","title":"# <code>leadr.infra.email.service.EmailService.validate_provider_config</code>","text":"<pre><code>validate_provider_config()\n</code></pre> <p>Validate the email provider configuration.</p>"},{"location":"api/reference/infra/#leadrinfraemailservicelogger","title":"<code>leadr.infra.email.service.logger</code>","text":"<pre><code>logger = logging.getLogger(__name__)\n</code></pre>"},{"location":"api/reference/logging/","title":"Logging","text":""},{"location":"api/reference/logging/#leadrlogging","title":"<code>leadr.logging</code>","text":"<p>Structured logging configuration using structlog.</p> <p>This module configures structlog for the LEADR application with support for:</p> <ul> <li>JSON output for production (machine-parseable)</li> <li>Colored console output for development (human-readable)</li> <li>File logging with rotation</li> <li>Integration with standard library logging (captures third-party logs)</li> </ul> <p>Functions:</p> <ul> <li>bind_contextvars \u2013 Bind context variables that will be included in all subsequent log entries.</li> <li>clear_contextvars \u2013 Clear all bound context variables.</li> <li>get_logger \u2013 Get a structlog logger instance.</li> <li>setup_logging \u2013 Configure structlog for the application.</li> </ul>"},{"location":"api/reference/logging/#leadrloggingbind_contextvars","title":"<code>leadr.logging.bind_contextvars</code>","text":"<pre><code>bind_contextvars(**kwargs)\n</code></pre> <p>Bind context variables that will be included in all subsequent log entries.</p> <p>This is useful for adding request-scoped context like request_id that should appear in all logs within that context.</p> <p>Parameters:</p> <ul> <li>**kwargs (<code>Any</code>) \u2013 Key-value pairs to bind to the context</li> </ul> Example  &gt; &gt; &gt; from leadr.logging import bind_contextvars &gt; &gt; &gt; bind_contextvars(request_id=\"req-123\", user_id=\"user-456\") &gt; &gt; &gt; &gt; &gt; &gt; # All subsequent logs will include request_id and user_id"},{"location":"api/reference/logging/#leadrloggingclear_contextvars","title":"<code>leadr.logging.clear_contextvars</code>","text":"<pre><code>clear_contextvars()\n</code></pre> <p>Clear all bound context variables.</p> <p>Call this at the start of a new request to ensure no context leaks between requests.</p>"},{"location":"api/reference/logging/#leadrloggingget_logger","title":"<code>leadr.logging.get_logger</code>","text":"<pre><code>get_logger(name)\n</code></pre> <p>Get a structlog logger instance.</p> <p>Parameters:</p> <ul> <li>name (<code>str</code>) \u2013 Logger name, typically name of the calling module</li> </ul> <p>Returns:</p> <ul> <li><code>BoundLogger</code> \u2013 A bound structlog logger that can be used for structured logging</li> </ul> Example  &gt; &gt; &gt; from leadr.logging import get_logger &gt; &gt; &gt; logger = get_logger(__name__) &gt; &gt; &gt; logger.info(\"User created\", user_id=\"abc-123\")"},{"location":"api/reference/logging/#leadrloggingsetup_logging","title":"<code>leadr.logging.setup_logging</code>","text":"<pre><code>setup_logging(*, log_level='INFO', json_format=True, log_to_file=False, log_dir=Path('/var/log/leadr'), app_name='LEADR', env='PROD')\n</code></pre> <p>Configure structlog for the application.</p> <p>This function sets up structured logging using structlog with integration to the standard library logging module. This allows both structlog loggers and standard library loggers (used by third-party packages like uvicorn) to be processed through the same pipeline.</p> <p>Parameters:</p> <ul> <li>log_level (<code>str</code>) \u2013 Logging level (DEBUG, INFO, WARNING, ERROR)</li> <li>json_format (<code>bool</code>) \u2013 Use JSON format (True) or colored console (False)</li> <li>log_to_file (<code>bool</code>) \u2013 Enable file logging in addition to stdout</li> <li>log_dir (<code>Path</code>) \u2013 Directory for log files when log_to_file is enabled</li> <li>app_name (<code>str</code>) \u2013 Application name added to each log entry</li> <li>env (<code>str</code>) \u2013 Environment name added to each log entry</li> </ul>"},{"location":"api/reference/players/","title":"Players","text":""},{"location":"api/reference/players/#leadrplayers","title":"<code>leadr.players</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> </ul>"},{"location":"api/reference/players/#leadrplayersadapters","title":"<code>leadr.players.adapters</code>","text":""},{"location":"api/reference/players/#leadrplayersapi","title":"<code>leadr.players.api</code>","text":""},{"location":"api/reference/players/#leadrplayersdomain","title":"<code>leadr.players.domain</code>","text":""},{"location":"api/reference/registration/","title":"Registration","text":""},{"location":"api/reference/registration/#leadrregistration","title":"<code>leadr.registration</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadapters","title":"<code>leadr.registration.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Registration ORM models.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersorm","title":"<code>leadr.registration.adapters.orm</code>","text":"<p>Registration ORM models.</p> <p>Classes:</p> <ul> <li>JamCodeORM \u2013 Jam Code ORM model.</li> <li>JamCodeRedemptionORM \u2013 Jam Code Redemption ORM model.</li> <li>VerificationCodeORM \u2013 Verification Code ORM model.</li> <li>VerificationCodeStatusEnum \u2013 Verification code status enum for database.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeorm","title":"<code>leadr.registration.adapters.orm.JamCodeORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Jam Code ORM model.</p> <p>Represents a promotional code in the database. Maps to the jam_codes table. Used for tracking game jam codes, marketing campaigns, and referrals.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>active (<code>Mapped[bool]</code>) \u2013</li> <li>code (<code>Mapped[str]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>current_uses (<code>Mapped[int]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>description (<code>Mapped[str]</code>) \u2013</li> <li>expires_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>features (<code>Mapped[dict[str, Any]]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>max_uses (<code>Mapped[int | None]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormactive","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.active</code>","text":"<pre><code>active: Mapped[bool] = mapped_column(Boolean, nullable=False, default=True, server_default='true')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormcode","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.code</code>","text":"<pre><code>code: Mapped[str] = mapped_column(String(50), nullable=False, unique=True, index=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormcreated_at","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormcurrent_uses","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.current_uses</code>","text":"<pre><code>current_uses: Mapped[int] = mapped_column(Integer, nullable=False, default=0, server_default='0')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormdeleted_at","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormdescription","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.description</code>","text":"<pre><code>description: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormexpires_at","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.expires_at</code>","text":"<pre><code>expires_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormfeatures","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.features</code>","text":"<pre><code>features: Mapped[dict[str, Any]] = mapped_column(JSON, nullable=False, default={}, server_default='{}')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormfrom_domain","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.from_domain</code>","text":"<pre><code>from_domain(domain)\n</code></pre> <p>Convert domain entity to ORM model.</p> <p>Parameters:</p> <ul> <li>domain (<code>JamCode</code>) \u2013 The domain entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeORM</code> \u2013 The ORM model instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormid","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormmax_uses","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.max_uses</code>","text":"<pre><code>max_uses: Mapped[int | None] = mapped_column(Integer, nullable=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormto_domain","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p> <p>Returns:</p> <ul> <li><code>JamCode</code> \u2013 The domain entity instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcodeormupdated_at","title":"# <code>leadr.registration.adapters.orm.JamCodeORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionorm","title":"<code>leadr.registration.adapters.orm.JamCodeRedemptionORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Jam Code Redemption ORM model.</p> <p>Represents a single use of a jam code during registration. Maps to the jam_code_redemptions table with foreign keys to jam_codes and accounts. Tracks which account redeemed which code and when.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>jam_code_id (<code>Mapped[UUID]</code>) \u2013</li> <li>meta (<code>Mapped[dict[str, Any]]</code>) \u2013</li> <li>redeemed_at (<code>Mapped[datetime]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormaccount_id","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormcreated_at","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormdeleted_at","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormfrom_domain","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.from_domain</code>","text":"<pre><code>from_domain(domain)\n</code></pre> <p>Convert domain entity to ORM model.</p> <p>Parameters:</p> <ul> <li>domain (<code>JamCodeRedemption</code>) \u2013 The domain entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeRedemptionORM</code> \u2013 The ORM model instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormid","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormjam_code_id","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.jam_code_id</code>","text":"<pre><code>jam_code_id: Mapped[UUID] = mapped_column(ForeignKey('jam_codes.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormmeta","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.meta</code>","text":"<pre><code>meta: Mapped[dict[str, Any]] = mapped_column(JSON, nullable=False, default={}, server_default='{}')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormredeemed_at","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.redeemed_at</code>","text":"<pre><code>redeemed_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormto_domain","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p> <p>Returns:</p> <ul> <li><code>JamCodeRedemption</code> \u2013 The domain entity instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormjamcoderedemptionormupdated_at","title":"# <code>leadr.registration.adapters.orm.JamCodeRedemptionORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeorm","title":"<code>leadr.registration.adapters.orm.VerificationCodeORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Verification Code ORM model.</p> <p>Represents an email verification code in the database. Maps to the verification_codes table. Used during account registration to verify email ownership.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>code (<code>Mapped[str]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>email (<code>Mapped[str]</code>) \u2013</li> <li>expires_at (<code>Mapped[datetime]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>status (<code>Mapped[VerificationCodeStatusEnum]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>used_at (<code>Mapped[datetime | None]</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormcode","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.code</code>","text":"<pre><code>code: Mapped[str] = mapped_column(String(6), nullable=False)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormcreated_at","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormdeleted_at","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormemail","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.email</code>","text":"<pre><code>email: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormexpires_at","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.expires_at</code>","text":"<pre><code>expires_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormfrom_domain","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.from_domain</code>","text":"<pre><code>from_domain(domain)\n</code></pre> <p>Convert domain entity to ORM model.</p> <p>Parameters:</p> <ul> <li>domain (<code>VerificationCode</code>) \u2013 The domain entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>VerificationCodeORM</code> \u2013 The ORM model instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormid","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormstatus","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.status</code>","text":"<pre><code>status: Mapped[VerificationCodeStatusEnum] = mapped_column(Enum(VerificationCodeStatusEnum, name='verification_code_status', native_enum=True, values_callable=(lambda x: [(e.value) for e in x])), nullable=False, default=(VerificationCodeStatusEnum.PENDING), server_default='pending')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormto_domain","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p> <p>Returns:</p> <ul> <li><code>VerificationCode</code> \u2013 The domain entity instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormupdated_at","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodeormused_at","title":"# <code>leadr.registration.adapters.orm.VerificationCodeORM.used_at</code>","text":"<pre><code>used_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodestatusenum","title":"<code>leadr.registration.adapters.orm.VerificationCodeStatusEnum</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Verification code status enum for database.</p> <p>Attributes:</p> <ul> <li>EXPIRED \u2013</li> <li>PENDING \u2013</li> <li>USED \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodestatusenumexpired","title":"# <code>leadr.registration.adapters.orm.VerificationCodeStatusEnum.EXPIRED</code>","text":"<pre><code>EXPIRED = 'expired'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodestatusenumpending","title":"# <code>leadr.registration.adapters.orm.VerificationCodeStatusEnum.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationadaptersormverificationcodestatusenumused","title":"# <code>leadr.registration.adapters.orm.VerificationCodeStatusEnum.USED</code>","text":"<pre><code>USED = 'used'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapi","title":"<code>leadr.registration.api</code>","text":"<p>Modules:</p> <ul> <li>routes \u2013 Public registration API routes.</li> <li>schemas \u2013 API schemas for registration endpoints.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapiroutes","title":"<code>leadr.registration.api.routes</code>","text":"<p>Public registration API routes.</p> <p>Functions:</p> <ul> <li>complete_registration \u2013 Complete registration by creating the account, user, and API key.</li> <li>create_jam_code \u2013 Create a new jam code (superadmin only).</li> <li>get_jam_code \u2013 Get a specific jam code by ID (superadmin only).</li> <li>initiate_registration \u2013 Initiate registration by sending a verification code to the provided email.</li> <li>list_jam_codes \u2013 List all jam codes (superadmin only).</li> <li>resend_verification_code \u2013 Resend a verification code to the provided email.</li> <li>update_jam_code \u2013 Update a jam code (superadmin only).</li> <li>verify_code \u2013 Verify an email verification code and return a temporary token.</li> </ul> <p>Attributes:</p> <ul> <li>public_router \u2013</li> <li>router \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapiroutescomplete_registration","title":"<code>leadr.registration.api.routes.complete_registration</code>","text":"<pre><code>complete_registration(request, registration_service)\n</code></pre> <p>Complete registration by creating the account, user, and API key.</p> <p>This endpoint creates the full account structure:</p> <ul> <li>Account with the specified name and slug</li> <li>User associated with the verified email</li> <li>API key for CLI authentication</li> <li>Optional jam code redemption</li> </ul> <p>The API key is returned in plaintext and should be stored securely by the client.</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutescreate_jam_code","title":"<code>leadr.registration.api.routes.create_jam_code</code>","text":"<pre><code>create_jam_code(request, jam_code_service, auth)\n</code></pre> <p>Create a new jam code (superadmin only).</p> <p>Jam codes can be used for promotional campaigns, game jams, or referral tracking. They can optionally have usage limits, expiration dates, and custom features.</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutesget_jam_code","title":"<code>leadr.registration.api.routes.get_jam_code</code>","text":"<pre><code>get_jam_code(jam_code_id, jam_code_service, auth)\n</code></pre> <p>Get a specific jam code by ID (superadmin only).</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutesinitiate_registration","title":"<code>leadr.registration.api.routes.initiate_registration</code>","text":"<pre><code>initiate_registration(request, verification_service)\n</code></pre> <p>Initiate registration by sending a verification code to the provided email.</p> <p>This endpoint is publicly accessible and requires no authentication. A 6-character verification code will be sent to the email address.</p>"},{"location":"api/reference/registration/#leadrregistrationapirouteslist_jam_codes","title":"<code>leadr.registration.api.routes.list_jam_codes</code>","text":"<pre><code>list_jam_codes(jam_code_service, auth, pagination)\n</code></pre> <p>List all jam codes (superadmin only).</p> <p>Returns a paginated list of all jam codes, including their usage statistics.</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutespublic_router","title":"<code>leadr.registration.api.routes.public_router</code>","text":"<pre><code>public_router = APIRouter(prefix='/register')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapiroutesresend_verification_code","title":"<code>leadr.registration.api.routes.resend_verification_code</code>","text":"<pre><code>resend_verification_code(request, verification_service)\n</code></pre> <p>Resend a verification code to the provided email.</p> <p>This endpoint invalidates any existing codes for the email and sends a new one.</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutesrouter","title":"<code>leadr.registration.api.routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapiroutesupdate_jam_code","title":"<code>leadr.registration.api.routes.update_jam_code</code>","text":"<pre><code>update_jam_code(jam_code_id, request, jam_code_service, auth)\n</code></pre> <p>Update a jam code (superadmin only).</p> <p>Can update description, features, max uses, active status, and expiration.</p>"},{"location":"api/reference/registration/#leadrregistrationapiroutesverify_code","title":"<code>leadr.registration.api.routes.verify_code</code>","text":"<pre><code>verify_code(request, verification_service)\n</code></pre> <p>Verify an email verification code and return a temporary token.</p> <p>This endpoint validates the verification code and returns a short-lived token that can be used to complete the registration process.</p>"},{"location":"api/reference/registration/#leadrregistrationapischemas","title":"<code>leadr.registration.api.schemas</code>","text":"<p>API schemas for registration endpoints.</p> <p>Classes:</p> <ul> <li>CompleteRegistrationRequest \u2013 Request to complete registration and create account.</li> <li>CompleteRegistrationResponse \u2013 Response after completing registration.</li> <li>CreateJamCodeRequest \u2013 Request to create a new jam code.</li> <li>InitiateRegistrationRequest \u2013 Request to initiate registration by sending verification code.</li> <li>InitiateRegistrationResponse \u2013 Response after initiating registration.</li> <li>JamCodeRedemptionResponse \u2013 Response representing a jam code redemption.</li> <li>JamCodeResponse \u2013 Response representing a jam code.</li> <li>UpdateJamCodeRequest \u2013 Request to update a jam code.</li> <li>VerifyCodeRequest \u2013 Request to verify an email verification code.</li> <li>VerifyCodeResponse \u2013 Response after verifying a code.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequest","title":"<code>leadr.registration.api.schemas.CompleteRegistrationRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request to complete registration and create account.</p> <p>Functions:</p> <ul> <li>normalize_display_name \u2013 Convert empty/whitespace strings to None.</li> </ul> <p>Attributes:</p> <ul> <li>account_name (<code>str</code>) \u2013</li> <li>account_slug (<code>str | None</code>) \u2013</li> <li>display_name (<code>str | None</code>) \u2013</li> <li>jam_code (<code>str | None</code>) \u2013</li> <li>verification_token (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestaccount_name","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.account_name</code>","text":"<pre><code>account_name: str = Field(description='Name for the new account', min_length=1, max_length=100)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestaccount_slug","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.account_slug</code>","text":"<pre><code>account_slug: str | None = Field(default=None, description='Optional URL slug (auto-generated if not provided)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestdisplay_name","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.display_name</code>","text":"<pre><code>display_name: str | None = Field(default=None, description='Optional display name for user (auto-generated from email if not provided)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestjam_code","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.jam_code</code>","text":"<pre><code>jam_code: str | None = Field(default=None, description='Optional jam/promo code')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestnormalize_display_name","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.normalize_display_name</code>","text":"<pre><code>normalize_display_name(value)\n</code></pre> <p>Convert empty/whitespace strings to None.</p>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationrequestverification_token","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationRequest.verification_token</code>","text":"<pre><code>verification_token: str = Field(description='Token from code verification step')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponse","title":"<code>leadr.registration.api.schemas.CompleteRegistrationResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response after completing registration.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Create response from domain entities.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>account_slug (<code>str</code>) \u2013</li> <li>api_key (<code>str</code>) \u2013</li> <li>display_name (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponseaccount_id","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the created account')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponseaccount_slug","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationResponse.account_slug</code>","text":"<pre><code>account_slug: str = Field(description='URL slug of the account')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponseapi_key","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationResponse.api_key</code>","text":"<pre><code>api_key: str = Field(description='API key for authentication')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponsedisplay_name","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationResponse.display_name</code>","text":"<pre><code>display_name: str = Field(description='Display name of the created user')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascompleteregistrationresponsefrom_domain","title":"# <code>leadr.registration.api.schemas.CompleteRegistrationResponse.from_domain</code>","text":"<pre><code>from_domain(account, user, api_key)\n</code></pre> <p>Create response from domain entities.</p> <p>Parameters:</p> <ul> <li>account \u2013 Account domain entity.</li> <li>user \u2013 User domain entity.</li> <li>api_key (<code>str</code>) \u2013 API key string.</li> </ul> <p>Returns:</p> <ul> <li><code>CompleteRegistrationResponse</code> \u2013 CompleteRegistrationResponse instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequest","title":"<code>leadr.registration.api.schemas.CreateJamCodeRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request to create a new jam code.</p> <p>Attributes:</p> <ul> <li>code (<code>str</code>) \u2013</li> <li>description (<code>str</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>features (<code>dict</code>) \u2013</li> <li>max_uses (<code>int | None</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequestcode","title":"# <code>leadr.registration.api.schemas.CreateJamCodeRequest.code</code>","text":"<pre><code>code: str = Field(description='Alphanumeric code (3-50 characters)', min_length=3, max_length=50)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequestdescription","title":"# <code>leadr.registration.api.schemas.CreateJamCodeRequest.description</code>","text":"<pre><code>description: str = Field(description='Human-readable description')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequestexpires_at","title":"# <code>leadr.registration.api.schemas.CreateJamCodeRequest.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='Expiration date (null = never)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequestfeatures","title":"# <code>leadr.registration.api.schemas.CreateJamCodeRequest.features</code>","text":"<pre><code>features: dict = Field(default_factory=dict, description='Features/config for this code')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemascreatejamcoderequestmax_uses","title":"# <code>leadr.registration.api.schemas.CreateJamCodeRequest.max_uses</code>","text":"<pre><code>max_uses: int | None = Field(default=None, description='Maximum redemptions (null = unlimited)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasinitiateregistrationrequest","title":"<code>leadr.registration.api.schemas.InitiateRegistrationRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request to initiate registration by sending verification code.</p> <p>Attributes:</p> <ul> <li>email (<code>EmailStr</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasinitiateregistrationrequestemail","title":"# <code>leadr.registration.api.schemas.InitiateRegistrationRequest.email</code>","text":"<pre><code>email: EmailStr = Field(description='Email address to send verification code to')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasinitiateregistrationresponse","title":"<code>leadr.registration.api.schemas.InitiateRegistrationResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response after initiating registration.</p> <p>Attributes:</p> <ul> <li>code_expires_in (<code>int</code>) \u2013</li> <li>message (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasinitiateregistrationresponsecode_expires_in","title":"# <code>leadr.registration.api.schemas.InitiateRegistrationResponse.code_expires_in</code>","text":"<pre><code>code_expires_in: int = Field(description='Seconds until the code expires')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasinitiateregistrationresponsemessage","title":"# <code>leadr.registration.api.schemas.InitiateRegistrationResponse.message</code>","text":"<pre><code>message: str = Field(description='Success message')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponse","title":"<code>leadr.registration.api.schemas.JamCodeRedemptionResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response representing a jam code redemption.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Create response from domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>id (<code>JamCodeRedemptionID</code>) \u2013</li> <li>jam_code_id (<code>JamCodeID</code>) \u2013</li> <li>meta (<code>dict</code>) \u2013</li> <li>redeemed_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponseaccount_id","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.account_id</code>","text":"<pre><code>account_id: AccountID\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponsefrom_domain","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.from_domain</code>","text":"<pre><code>from_domain(redemption)\n</code></pre> <p>Create response from domain entity.</p> <p>Parameters:</p> <ul> <li>redemption \u2013 JamCodeRedemption domain entity.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeRedemptionResponse</code> \u2013 JamCodeRedemptionResponse instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponseid","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.id</code>","text":"<pre><code>id: JamCodeRedemptionID\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponsejam_code_id","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.jam_code_id</code>","text":"<pre><code>jam_code_id: JamCodeID\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponsemeta","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.meta</code>","text":"<pre><code>meta: dict\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderedemptionresponseredeemed_at","title":"# <code>leadr.registration.api.schemas.JamCodeRedemptionResponse.redeemed_at</code>","text":"<pre><code>redeemed_at: datetime\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponse","title":"<code>leadr.registration.api.schemas.JamCodeResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response representing a jam code.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Create response from domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>active (<code>bool</code>) \u2013</li> <li>code (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>current_uses (<code>int</code>) \u2013</li> <li>description (<code>str</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>features (<code>dict</code>) \u2013</li> <li>id (<code>JamCodeID</code>) \u2013</li> <li>max_uses (<code>int | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponseactive","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.active</code>","text":"<pre><code>active: bool\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsecode","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.code</code>","text":"<pre><code>code: str\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsecreated_at","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.created_at</code>","text":"<pre><code>created_at: datetime\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsecurrent_uses","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.current_uses</code>","text":"<pre><code>current_uses: int\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsedescription","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.description</code>","text":"<pre><code>description: str\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponseexpires_at","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.expires_at</code>","text":"<pre><code>expires_at: datetime | None\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsefeatures","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.features</code>","text":"<pre><code>features: dict\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsefrom_domain","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.from_domain</code>","text":"<pre><code>from_domain(jam_code)\n</code></pre> <p>Create response from domain entity.</p> <p>Parameters:</p> <ul> <li>jam_code \u2013 JamCode domain entity.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeResponse</code> \u2013 JamCodeResponse instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponseid","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.id</code>","text":"<pre><code>id: JamCodeID\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponsemax_uses","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.max_uses</code>","text":"<pre><code>max_uses: int | None\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasjamcoderesponseupdated_at","title":"# <code>leadr.registration.api.schemas.JamCodeResponse.updated_at</code>","text":"<pre><code>updated_at: datetime\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequest","title":"<code>leadr.registration.api.schemas.UpdateJamCodeRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request to update a jam code.</p> <p>Attributes:</p> <ul> <li>active (<code>bool | None</code>) \u2013</li> <li>description (<code>str | None</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>features (<code>dict | None</code>) \u2013</li> <li>max_uses (<code>int | None</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequestactive","title":"# <code>leadr.registration.api.schemas.UpdateJamCodeRequest.active</code>","text":"<pre><code>active: bool | None = Field(default=None, description='New active status')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequestdescription","title":"# <code>leadr.registration.api.schemas.UpdateJamCodeRequest.description</code>","text":"<pre><code>description: str | None = Field(default=None, description='New description')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequestexpires_at","title":"# <code>leadr.registration.api.schemas.UpdateJamCodeRequest.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='New expiration date')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequestfeatures","title":"# <code>leadr.registration.api.schemas.UpdateJamCodeRequest.features</code>","text":"<pre><code>features: dict | None = Field(default=None, description='New features/config')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasupdatejamcoderequestmax_uses","title":"# <code>leadr.registration.api.schemas.UpdateJamCodeRequest.max_uses</code>","text":"<pre><code>max_uses: int | None = Field(default=None, description='New max uses')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderequest","title":"<code>leadr.registration.api.schemas.VerifyCodeRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request to verify an email verification code.</p> <p>Attributes:</p> <ul> <li>code (<code>str</code>) \u2013</li> <li>email (<code>EmailStr</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderequestcode","title":"# <code>leadr.registration.api.schemas.VerifyCodeRequest.code</code>","text":"<pre><code>code: str = Field(description='6-character verification code', min_length=6, max_length=6)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderequestemail","title":"# <code>leadr.registration.api.schemas.VerifyCodeRequest.email</code>","text":"<pre><code>email: EmailStr = Field(description='Email address')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderesponse","title":"<code>leadr.registration.api.schemas.VerifyCodeResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response after verifying a code.</p> <p>Attributes:</p> <ul> <li>expires_in (<code>int</code>) \u2013</li> <li>verification_token (<code>str</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderesponseexpires_in","title":"# <code>leadr.registration.api.schemas.VerifyCodeResponse.expires_in</code>","text":"<pre><code>expires_in: int = Field(description='Seconds until the token expires')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationapischemasverifycoderesponseverification_token","title":"# <code>leadr.registration.api.schemas.VerifyCodeResponse.verification_token</code>","text":"<pre><code>verification_token: str = Field(description='Temporary token for completing registration')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomain","title":"<code>leadr.registration.domain</code>","text":"<p>Modules:</p> <ul> <li>jam_code \u2013 Jam code domain models for promotional codes and special features.</li> <li>jam_code_redemption \u2013 Jam code redemption domain models for tracking code usage.</li> <li>verification_code \u2013 Verification code domain models for email verification during registration.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code","title":"<code>leadr.registration.domain.jam_code</code>","text":"<p>Jam code domain models for promotional codes and special features.</p> <p>Classes:</p> <ul> <li>JamCode \u2013 Jam code domain entity.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcode","title":"<code>leadr.registration.domain.jam_code.JamCode</code>","text":"<p>Bases: <code>Entity</code></p> <p>Jam code domain entity.</p> <p>Represents a promotional code that grants special features or access during registration. Codes can be used for game jams, marketing campaigns, or referral tracking. Supports optional usage limits, expiration dates, and custom feature flags stored as JSON.</p> <p>Functions:</p> <ul> <li>activate \u2013 Activate the jam code, allowing redemptions.</li> <li>deactivate \u2013 Deactivate the jam code, preventing further redemptions.</li> <li>get_feature \u2013 Get a feature value from the features dictionary.</li> <li>has_uses_remaining \u2013 Check if the jam code has remaining uses.</li> <li>increment_uses \u2013 Increment the usage count by one.</li> <li>is_expired \u2013 Check if the jam code has expired.</li> <li>is_valid \u2013 Check if the jam code is valid and can be redeemed.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_code \u2013 Validate and normalize the jam code.</li> </ul> <p>Attributes:</p> <ul> <li>active (<code>bool</code>) \u2013</li> <li>code (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>current_uses (<code>int</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>description (<code>str</code>) \u2013</li> <li>expires_at (<code>datetime | None</code>) \u2013</li> <li>features (<code>dict[str, Any]</code>) \u2013</li> <li>id (<code>Any</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>max_uses (<code>int | None</code>) \u2013</li> <li>model_config \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeactivate","title":"# <code>leadr.registration.domain.jam_code.JamCode.activate</code>","text":"<pre><code>activate()\n</code></pre> <p>Activate the jam code, allowing redemptions.</p> <p>Used to re-enable a previously deactivated code.</p>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeactive","title":"# <code>leadr.registration.domain.jam_code.JamCode.active</code>","text":"<pre><code>active: bool = Field(default=True, description='Whether this code can currently be redeemed')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodecode","title":"# <code>leadr.registration.domain.jam_code.JamCode.code</code>","text":"<pre><code>code: str = Field(description='Alphanumeric code (3-50 characters, case-insensitive)', min_length=3, max_length=50)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodecreated_at","title":"# <code>leadr.registration.domain.jam_code.JamCode.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodecurrent_uses","title":"# <code>leadr.registration.domain.jam_code.JamCode.current_uses</code>","text":"<pre><code>current_uses: int = Field(default=0, description='Current number of times this code has been redeemed')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodedeactivate","title":"# <code>leadr.registration.domain.jam_code.JamCode.deactivate</code>","text":"<pre><code>deactivate()\n</code></pre> <p>Deactivate the jam code, preventing further redemptions.</p> <p>Used to manually disable a code (e.g., if it's compromised or no longer needed).</p>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodedeleted_at","title":"# <code>leadr.registration.domain.jam_code.JamCode.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodedescription","title":"# <code>leadr.registration.domain.jam_code.JamCode.description</code>","text":"<pre><code>description: str = Field(description=\"Human-readable description of this code's purpose\")\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeexpires_at","title":"# <code>leadr.registration.domain.jam_code.JamCode.expires_at</code>","text":"<pre><code>expires_at: datetime | None = Field(default=None, description='When this code expires (None = never expires)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodefeatures","title":"# <code>leadr.registration.domain.jam_code.JamCode.features</code>","text":"<pre><code>features: dict[str, Any] = Field(default_factory=dict, description='Custom features/config for this code (e.g., CLI templates, score limits)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeget_feature","title":"# <code>leadr.registration.domain.jam_code.JamCode.get_feature</code>","text":"<pre><code>get_feature(key, default=None)\n</code></pre> <p>Get a feature value from the features dictionary.</p> <p>Parameters:</p> <ul> <li>key (<code>str</code>) \u2013 The feature key to retrieve.</li> <li>default (<code>Any</code>) \u2013 Default value if the key doesn't exist.</li> </ul> <p>Returns:</p> <ul> <li><code>Any</code> \u2013 The feature value or the default.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodehas_uses_remaining","title":"# <code>leadr.registration.domain.jam_code.JamCode.has_uses_remaining</code>","text":"<pre><code>has_uses_remaining()\n</code></pre> <p>Check if the jam code has remaining uses.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code has no usage limit or has not reached its limit.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeid","title":"# <code>leadr.registration.domain.jam_code.JamCode.id</code>","text":"<pre><code>id: Any = Field(frozen=True, default_factory=uuid4, description='Unique identifier (auto-generated UUID or typed ID)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeincrement_uses","title":"# <code>leadr.registration.domain.jam_code.JamCode.increment_uses</code>","text":"<pre><code>increment_uses()\n</code></pre> <p>Increment the usage count by one.</p> <p>Called when a jam code is successfully redeemed during registration.</p>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeis_deleted","title":"# <code>leadr.registration.domain.jam_code.JamCode.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeis_expired","title":"# <code>leadr.registration.domain.jam_code.JamCode.is_expired</code>","text":"<pre><code>is_expired()\n</code></pre> <p>Check if the jam code has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code has an expiration date and it has passed.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeis_valid","title":"# <code>leadr.registration.domain.jam_code.JamCode.is_valid</code>","text":"<pre><code>is_valid()\n</code></pre> <p>Check if the jam code is valid and can be redeemed.</p> <p>A code is valid if it's active, not expired, and has uses remaining.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code can be used for registration.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodemax_uses","title":"# <code>leadr.registration.domain.jam_code.JamCode.max_uses</code>","text":"<pre><code>max_uses: int | None = Field(default=None, description='Maximum number of redemptions allowed (None = unlimited)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodemodel_config","title":"# <code>leadr.registration.domain.jam_code.JamCode.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcoderestore","title":"# <code>leadr.registration.domain.jam_code.JamCode.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodesoft_delete","title":"# <code>leadr.registration.domain.jam_code.JamCode.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodeupdated_at","title":"# <code>leadr.registration.domain.jam_code.JamCode.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_codejamcodevalidate_code","title":"# <code>leadr.registration.domain.jam_code.JamCode.validate_code</code>","text":"<pre><code>validate_code(v)\n</code></pre> <p>Validate and normalize the jam code.</p> <p>Parameters:</p> <ul> <li>v (<code>str</code>) \u2013 The code value to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The normalized (uppercase) code.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the code contains non-alphanumeric characters.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemption","title":"<code>leadr.registration.domain.jam_code_redemption</code>","text":"<p>Jam code redemption domain models for tracking code usage.</p> <p>Classes:</p> <ul> <li>JamCodeRedemption \u2013 Jam code redemption domain entity.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemption","title":"<code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption</code>","text":"<p>Bases: <code>Entity</code></p> <p>Jam code redemption domain entity.</p> <p>Represents a single use of a jam code during account registration. Tracks which account redeemed which code, when it was redeemed, and any associated metadata (e.g., CLI configuration, user agent).</p> <p>Functions:</p> <ul> <li>get_meta \u2013 Get a metadata value from the meta dictionary.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>id (<code>Any</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>jam_code_id (<code>UUID</code>) \u2013</li> <li>meta (<code>dict[str, Any]</code>) \u2013</li> <li>model_config \u2013</li> <li>redeemed_at (<code>datetime</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionaccount_id","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account that redeemed the code')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptioncreated_at","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptiondeleted_at","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionget_meta","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.get_meta</code>","text":"<pre><code>get_meta(key, default=None)\n</code></pre> <p>Get a metadata value from the meta dictionary.</p> <p>Parameters:</p> <ul> <li>key (<code>str</code>) \u2013 The metadata key to retrieve.</li> <li>default (<code>Any</code>) \u2013 Default value if the key doesn't exist.</li> </ul> <p>Returns:</p> <ul> <li><code>Any</code> \u2013 The metadata value or the default.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionid","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.id</code>","text":"<pre><code>id: Any = Field(frozen=True, default_factory=uuid4, description='Unique identifier (auto-generated UUID or typed ID)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionis_deleted","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionjam_code_id","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.jam_code_id</code>","text":"<pre><code>jam_code_id: UUID = Field(description='ID of the jam code that was redeemed')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionmeta","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.meta</code>","text":"<pre><code>meta: dict[str, Any] = Field(default_factory=dict, description='Additional metadata about the redemption (e.g., CLI config, user agent)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionmodel_config","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionredeemed_at","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.redeemed_at</code>","text":"<pre><code>redeemed_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='When the code was redeemed (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionrestore","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionsoft_delete","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/registration/#leadrregistrationdomainjam_code_redemptionjamcoderedemptionupdated_at","title":"# <code>leadr.registration.domain.jam_code_redemption.JamCodeRedemption.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_code","title":"<code>leadr.registration.domain.verification_code</code>","text":"<p>Verification code domain models for email verification during registration.</p> <p>Classes:</p> <ul> <li>VerificationCode \u2013 Verification code domain entity.</li> <li>VerificationCodeStatus \u2013 Verification code status enumeration.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcode","title":"<code>leadr.registration.domain.verification_code.VerificationCode</code>","text":"<p>Bases: <code>Entity</code></p> <p>Verification code domain entity.</p> <p>Represents a one-time email verification code used during account registration. Codes are 6-character alphanumeric strings with a 10-minute expiration window. Once used or expired, codes become invalid and cannot be reused.</p> <p>Functions:</p> <ul> <li>is_expired \u2013 Check if the verification code has expired.</li> <li>is_used \u2013 Check if the verification code has been used.</li> <li>is_valid \u2013 Check if the verification code is valid and can be used.</li> <li>mark_as_expired \u2013 Mark the verification code as expired.</li> <li>mark_as_used \u2013 Mark the verification code as used.</li> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_code \u2013 Validate and normalize the verification code.</li> </ul> <p>Attributes:</p> <ul> <li>code (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>email (<code>EmailStr</code>) \u2013</li> <li>expires_at (<code>datetime</code>) \u2013</li> <li>id (<code>Any</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>model_config \u2013</li> <li>status (<code>VerificationCodeStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>used_at (<code>datetime | None</code>) \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodecode","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.code</code>","text":"<pre><code>code: str = Field(description='6-character alphanumeric verification code (case-insensitive)', min_length=6, max_length=6)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodecreated_at","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodedeleted_at","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeemail","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.email</code>","text":"<pre><code>email: EmailStr = Field(description='Email address this code was sent to')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeexpires_at","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.expires_at</code>","text":"<pre><code>expires_at: datetime = Field(description='When this code expires (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeid","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.id</code>","text":"<pre><code>id: Any = Field(frozen=True, default_factory=uuid4, description='Unique identifier (auto-generated UUID or typed ID)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeis_deleted","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeis_expired","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.is_expired</code>","text":"<pre><code>is_expired()\n</code></pre> <p>Check if the verification code has expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code's expiration time has passed.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeis_used","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.is_used</code>","text":"<pre><code>is_used()\n</code></pre> <p>Check if the verification code has been used.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code status is USED.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeis_valid","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.is_valid</code>","text":"<pre><code>is_valid()\n</code></pre> <p>Check if the verification code is valid and can be used.</p> <p>A code is valid if it hasn't been used and hasn't expired.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the code is valid and can be used for verification.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodemark_as_expired","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.mark_as_expired</code>","text":"<pre><code>mark_as_expired()\n</code></pre> <p>Mark the verification code as expired.</p> <p>Sets the status to EXPIRED. This is typically done when cleaning up old codes or when explicitly invalidating codes.</p>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodemark_as_used","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.mark_as_used</code>","text":"<pre><code>mark_as_used()\n</code></pre> <p>Mark the verification code as used.</p> <p>Sets the status to USED and records the current timestamp in used_at. Once marked as used, the code cannot be reused.</p>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodemodel_config","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcoderestore","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodesoft_delete","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodestatus","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.status</code>","text":"<pre><code>status: VerificationCodeStatus = VerificationCodeStatus.PENDING\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeupdated_at","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodeused_at","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.used_at</code>","text":"<pre><code>used_at: datetime | None = None\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodevalidate_code","title":"# <code>leadr.registration.domain.verification_code.VerificationCode.validate_code</code>","text":"<pre><code>validate_code(v)\n</code></pre> <p>Validate and normalize the verification code.</p> <p>Parameters:</p> <ul> <li>v (<code>str</code>) \u2013 The code value to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The normalized (uppercase) code.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the code contains non-alphanumeric characters.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodestatus_1","title":"<code>leadr.registration.domain.verification_code.VerificationCodeStatus</code>","text":"<p>Bases: <code>Enum</code></p> <p>Verification code status enumeration.</p> <p>Attributes:</p> <ul> <li>EXPIRED \u2013</li> <li>PENDING \u2013</li> <li>USED \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodestatusexpired","title":"# <code>leadr.registration.domain.verification_code.VerificationCodeStatus.EXPIRED</code>","text":"<pre><code>EXPIRED = 'expired'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodestatuspending","title":"# <code>leadr.registration.domain.verification_code.VerificationCodeStatus.PENDING</code>","text":"<pre><code>PENDING = 'pending'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationdomainverification_codeverificationcodestatusused","title":"# <code>leadr.registration.domain.verification_code.VerificationCodeStatus.USED</code>","text":"<pre><code>USED = 'used'\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservices","title":"<code>leadr.registration.services</code>","text":"<p>Modules:</p> <ul> <li>dependencies \u2013 Dependency injection for registration services.</li> <li>jam_code_service \u2013 Jam code service for managing promotional codes.</li> <li>registration_service \u2013 Registration service for orchestrating account creation flow.</li> <li>repositories \u2013 Registration repository services for verification codes and jam codes.</li> <li>verification_service \u2013 Verification service for generating and validating email verification codes.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesdependencies","title":"<code>leadr.registration.services.dependencies</code>","text":"<p>Dependency injection for registration services.</p> <p>Functions:</p> <ul> <li>get_email_service \u2013 Get EmailService dependency.</li> <li>get_jam_code_service \u2013 Get JamCodeService dependency.</li> <li>get_registration_service \u2013 Get RegistrationService dependency.</li> <li>get_verification_service \u2013 Get VerificationService dependency.</li> </ul> <p>Attributes:</p> <ul> <li>EmailServiceDep \u2013</li> <li>JamCodeServiceDep \u2013</li> <li>RegistrationServiceDep \u2013</li> <li>VerificationServiceDep \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesemailservicedep","title":"<code>leadr.registration.services.dependencies.EmailServiceDep</code>","text":"<pre><code>EmailServiceDep = Annotated[EmailService, Depends(get_email_service)]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesjamcodeservicedep","title":"<code>leadr.registration.services.dependencies.JamCodeServiceDep</code>","text":"<pre><code>JamCodeServiceDep = Annotated[JamCodeService, Depends(get_jam_code_service)]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesregistrationservicedep","title":"<code>leadr.registration.services.dependencies.RegistrationServiceDep</code>","text":"<pre><code>RegistrationServiceDep = Annotated[RegistrationService, Depends(get_registration_service)]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesverificationservicedep","title":"<code>leadr.registration.services.dependencies.VerificationServiceDep</code>","text":"<pre><code>VerificationServiceDep = Annotated[VerificationService, Depends(get_verification_service)]\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesget_email_service","title":"<code>leadr.registration.services.dependencies.get_email_service</code>","text":"<pre><code>get_email_service(db)\n</code></pre> <p>Get EmailService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session.</li> </ul> <p>Returns:</p> <ul> <li><code>EmailService</code> \u2013 EmailService instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesget_jam_code_service","title":"<code>leadr.registration.services.dependencies.get_jam_code_service</code>","text":"<pre><code>get_jam_code_service(db)\n</code></pre> <p>Get JamCodeService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeService</code> \u2013 JamCodeService instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesget_registration_service","title":"<code>leadr.registration.services.dependencies.get_registration_service</code>","text":"<pre><code>get_registration_service(db, account_service, user_service, api_key_service, verification_service, jam_code_service, email_service)\n</code></pre> <p>Get RegistrationService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session.</li> <li>account_service (<code>AccountServiceDep</code>) \u2013 Account service.</li> <li>user_service (<code>UserServiceDep</code>) \u2013 User service.</li> <li>api_key_service (<code>APIKeyServiceDep</code>) \u2013 API key service.</li> <li>verification_service (<code>VerificationServiceDep</code>) \u2013 Verification service.</li> <li>jam_code_service (<code>JamCodeServiceDep</code>) \u2013 Jam code service.</li> <li>email_service (<code>EmailServiceDep</code>) \u2013 Email service.</li> </ul> <p>Returns:</p> <ul> <li><code>RegistrationService</code> \u2013 RegistrationService instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesdependenciesget_verification_service","title":"<code>leadr.registration.services.dependencies.get_verification_service</code>","text":"<pre><code>get_verification_service(db, email_service)\n</code></pre> <p>Get VerificationService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session.</li> <li>email_service (<code>EmailServiceDep</code>) \u2013 Email service.</li> </ul> <p>Returns:</p> <ul> <li><code>VerificationService</code> \u2013 VerificationService instance.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_service","title":"<code>leadr.registration.services.jam_code_service</code>","text":"<p>Jam code service for managing promotional codes.</p> <p>Classes:</p> <ul> <li>JamCodeService \u2013 Service for managing jam codes and redemptions.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservice","title":"<code>leadr.registration.services.jam_code_service.JamCodeService</code>","text":"<pre><code>JamCodeService(db)\n</code></pre> <p>Service for managing jam codes and redemptions.</p> <p>Functions:</p> <ul> <li>create_jam_code \u2013 Create a new jam code.</li> <li>get_jam_code_by_id \u2013 Get a jam code by its ID.</li> <li>list_jam_codes \u2013 List all jam codes with pagination.</li> <li>redeem_jam_code \u2013 Redeem a jam code for an account.</li> <li>update_jam_code \u2013 Update a jam code.</li> <li>validate_and_get_jam_code \u2013 Validate a jam code and return it if valid.</li> </ul> <p>Attributes:</p> <ul> <li>db \u2013</li> <li>jam_code_repository \u2013</li> <li>redemption_repository \u2013</li> </ul> <p>Parameters:</p> <ul> <li>db (<code>AsyncSession</code>) \u2013 Database session.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservicecreate_jam_code","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.create_jam_code</code>","text":"<pre><code>create_jam_code(code, description, features=None, max_uses=None, expires_at=None)\n</code></pre> <p>Create a new jam code.</p> <p>Parameters:</p> <ul> <li>code (<code>str</code>) \u2013 The code value (will be normalized to uppercase).</li> <li>description (<code>str</code>) \u2013 Human-readable description.</li> <li>features (<code>dict | None</code>) \u2013 Optional features dictionary.</li> <li>max_uses (<code>int | None</code>) \u2013 Optional maximum number of redemptions.</li> <li>expires_at (<code>datetime | None</code>) \u2013 Optional expiration date.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCode</code> \u2013 The created jam code.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If a jam code with this code already exists.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservicedb","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.db</code>","text":"<pre><code>db = db\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeserviceget_jam_code_by_id","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.get_jam_code_by_id</code>","text":"<pre><code>get_jam_code_by_id(jam_code_id)\n</code></pre> <p>Get a jam code by its ID.</p> <p>Parameters:</p> <ul> <li>jam_code_id (<code>UUID</code>) \u2013 The jam code ID.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCode | None</code> \u2013 The jam code if found, None otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservicejam_code_repository","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.jam_code_repository</code>","text":"<pre><code>jam_code_repository = JamCodeRepository(db)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservicelist_jam_codes","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.list_jam_codes</code>","text":"<pre><code>list_jam_codes(*, pagination)\n</code></pre> <p>List all jam codes with pagination.</p> <p>Parameters:</p> <ul> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[JamCode]</code> \u2013 Paginated result of jam codes.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeserviceredeem_jam_code","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.redeem_jam_code</code>","text":"<pre><code>redeem_jam_code(jam_code, account_id, meta=None)\n</code></pre> <p>Redeem a jam code for an account.</p> <p>Parameters:</p> <ul> <li>jam_code (<code>JamCode</code>) \u2013 The jam code to redeem.</li> <li>account_id (<code>AccountID</code>) \u2013 The account redeeming the code.</li> <li>meta (<code>dict | None</code>) \u2013 Optional metadata to store with the redemption.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCodeRedemption</code> \u2013 The jam code redemption entity.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the jam code has already been redeemed by this account.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeserviceredemption_repository","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.redemption_repository</code>","text":"<pre><code>redemption_repository = JamCodeRedemptionRepository(db)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeserviceupdate_jam_code","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.update_jam_code</code>","text":"<pre><code>update_jam_code(jam_code_id, description=None, features=None, max_uses=None, active=None, expires_at=None)\n</code></pre> <p>Update a jam code.</p> <p>Parameters:</p> <ul> <li>jam_code_id (<code>UUID</code>) \u2013 The jam code ID.</li> <li>description (<code>str | None</code>) \u2013 Optional new description.</li> <li>features (<code>dict | None</code>) \u2013 Optional new features dictionary.</li> <li>max_uses (<code>int | None</code>) \u2013 Optional new max uses.</li> <li>active (<code>bool | None</code>) \u2013 Optional new active status.</li> <li>expires_at (<code>datetime | None</code>) \u2013 Optional new expiration date.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCode</code> \u2013 The updated jam code.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the jam code doesn't exist.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesjam_code_servicejamcodeservicevalidate_and_get_jam_code","title":"# <code>leadr.registration.services.jam_code_service.JamCodeService.validate_and_get_jam_code</code>","text":"<pre><code>validate_and_get_jam_code(code)\n</code></pre> <p>Validate a jam code and return it if valid.</p> <p>Parameters:</p> <ul> <li>code (<code>str</code>) \u2013 The jam code to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>JamCode | None</code> \u2013 The jam code if valid, None if invalid or not found.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_service","title":"<code>leadr.registration.services.registration_service</code>","text":"<p>Registration service for orchestrating account creation flow.</p> <p>Classes:</p> <ul> <li>RegistrationService \u2013 Service for orchestrating the complete account registration flow.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationservice","title":"<code>leadr.registration.services.registration_service.RegistrationService</code>","text":"<pre><code>RegistrationService(db, account_service, user_service, api_key_service, verification_service, jam_code_service, email_service)\n</code></pre> <p>Service for orchestrating the complete account registration flow.</p> <p>Functions:</p> <ul> <li>complete_registration \u2013 Complete the registration process and create account, user, and API key.</li> </ul> <p>Attributes:</p> <ul> <li>account_service \u2013</li> <li>api_key_service \u2013</li> <li>db \u2013</li> <li>email_service \u2013</li> <li>jam_code_service \u2013</li> <li>user_service \u2013</li> <li>verification_service \u2013</li> </ul> <p>Parameters:</p> <ul> <li>db (<code>AsyncSession</code>) \u2013 Database session.</li> <li>account_service (<code>AccountService</code>) \u2013 Service for account operations.</li> <li>user_service (<code>UserService</code>) \u2013 Service for user operations.</li> <li>api_key_service (<code>APIKeyService</code>) \u2013 Service for API key operations.</li> <li>verification_service (<code>VerificationService</code>) \u2013 Service for email verification.</li> <li>jam_code_service (<code>JamCodeService</code>) \u2013 Service for jam code validation.</li> <li>email_service (<code>EmailService</code>) \u2013 Service for sending emails.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationserviceaccount_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.account_service</code>","text":"<pre><code>account_service = account_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationserviceapi_key_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.api_key_service</code>","text":"<pre><code>api_key_service = api_key_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationservicecomplete_registration","title":"# <code>leadr.registration.services.registration_service.RegistrationService.complete_registration</code>","text":"<pre><code>complete_registration(verification_token, account_name, account_slug=None, jam_code=None, display_name=None)\n</code></pre> <p>Complete the registration process and create account, user, and API key.</p> <p>Parameters:</p> <ul> <li>verification_token (<code>str</code>) \u2013 JWT token from email verification.</li> <li>account_name (<code>str</code>) \u2013 Name for the new account.</li> <li>account_slug (<code>str | None</code>) \u2013 Optional slug (will be auto-generated if not provided).</li> <li>jam_code (<code>str | None</code>) \u2013 Optional jam code for promotional features.</li> <li>display_name (<code>str | None</code>) \u2013 Optional display name (will use email prefix if not provided).</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[Account, User, str]</code> \u2013 Tuple of (Account, User, plain_api_key).</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If verification token is invalid or jam code is invalid.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationservicedb","title":"# <code>leadr.registration.services.registration_service.RegistrationService.db</code>","text":"<pre><code>db = db\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationserviceemail_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.email_service</code>","text":"<pre><code>email_service = email_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationservicejam_code_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.jam_code_service</code>","text":"<pre><code>jam_code_service = jam_code_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationserviceuser_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.user_service</code>","text":"<pre><code>user_service = user_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesregistration_serviceregistrationserviceverification_service","title":"# <code>leadr.registration.services.registration_service.RegistrationService.verification_service</code>","text":"<pre><code>verification_service = verification_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositories","title":"<code>leadr.registration.services.repositories</code>","text":"<p>Registration repository services for verification codes and jam codes.</p> <p>Classes:</p> <ul> <li>JamCodeRedemptionRepository \u2013 Jam code redemption repository for tracking code usage.</li> <li>JamCodeRepository \u2013 Jam code repository for managing promotional codes.</li> <li>VerificationCodeRepository \u2013 Verification code repository for managing email verification codes.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepository","title":"<code>leadr.registration.services.repositories.JamCodeRedemptionRepository</code>","text":"<p>Bases: <code>BaseRepository[JamCodeRedemption, JamCodeRedemptionORM]</code></p> <p>Jam code redemption repository for tracking code usage.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter jam code redemptions by criteria with pagination.</li> <li>find_by_account \u2013 Find all jam code redemptions for an account.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>has_redeemed \u2013 Check if an account has already redeemed a specific jam code.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositorysortable_fields","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'account_id', 'jam_code_id', 'created_at'}\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositorycreate","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositorydelete","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositoryfilter","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter jam code redemptions by criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>Any | None</code>) \u2013 Optional account ID to filter by.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[JamCodeRedemption]</code> \u2013 Paginated result of matching JamCodeRedemption entities.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS.</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositoryfind_by_account","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.find_by_account</code>","text":"<pre><code>find_by_account(account_id)\n</code></pre> <p>Find all jam code redemptions for an account.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID.</li> </ul> <p>Returns:</p> <ul> <li><code>list[JamCodeRedemption]</code> \u2013 List of redemptions for the account.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositoryget_by_id","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositoryhas_redeemed","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.has_redeemed</code>","text":"<pre><code>has_redeemed(account_id, jam_code_id)\n</code></pre> <p>Check if an account has already redeemed a specific jam code.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The account ID.</li> <li>jam_code_id (<code>UUID</code>) \u2013 The jam code ID.</li> </ul> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the account has redeemed this code, False otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositorysession","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderedemptionrepositoryupdate","title":"# <code>leadr.registration.services.repositories.JamCodeRedemptionRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepository","title":"<code>leadr.registration.services.repositories.JamCodeRepository</code>","text":"<p>Bases: <code>BaseRepository[JamCode, JamCodeORM]</code></p> <p>Jam code repository for managing promotional codes.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter jam codes by criteria with pagination.</li> <li>find_by_code \u2013 Find a jam code by its code value.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositorysortable_fields","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'code', 'active', 'current_uses', 'max_uses', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositorycreate","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositorydelete","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositoryfilter","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter jam codes by criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>Any | None</code>) \u2013 Not used for jam codes (top-level entity).</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Filter parameters (code, etc.)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[JamCode]</code> \u2013 Paginated result of matching JamCode entities.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS.</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositoryfind_by_code","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.find_by_code</code>","text":"<pre><code>find_by_code(code)\n</code></pre> <p>Find a jam code by its code value.</p> <p>Parameters:</p> <ul> <li>code (<code>str</code>) \u2013 The jam code to look up (case-insensitive).</li> </ul> <p>Returns:</p> <ul> <li><code>JamCode | None</code> \u2013 The jam code if found, None otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositoryget_by_id","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositorysession","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesjamcoderepositoryupdate","title":"# <code>leadr.registration.services.repositories.JamCodeRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepository","title":"<code>leadr.registration.services.repositories.VerificationCodeRepository</code>","text":"<p>Bases: <code>BaseRepository[VerificationCode, VerificationCodeORM]</code></p> <p>Verification code repository for managing email verification codes.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter verification codes by criteria with pagination.</li> <li>find_valid_code_by_email \u2013 Find a valid (pending) verification code by email and code value.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>invalidate_codes_for_email \u2013 Mark all pending verification codes for an email as expired.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositorysortable_fields","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'email', 'status', 'created_at', 'updated_at', 'expires_at'}\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositorycreate","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositorydelete","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositoryfilter","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.filter</code>","text":"<pre><code>filter(account_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter verification codes by criteria with pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>Any | None</code>) \u2013 Not used for verification codes (top-level entity).</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>**kwargs (<code>Any</code>) \u2013 Filter parameters (email, status, etc.)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[VerificationCode]</code> \u2013 Paginated result of matching VerificationCode entities.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS.</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositoryfind_valid_code_by_email","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.find_valid_code_by_email</code>","text":"<pre><code>find_valid_code_by_email(email, code)\n</code></pre> <p>Find a valid (pending) verification code by email and code value.</p> <p>Parameters:</p> <ul> <li>email (<code>str</code>) \u2013 The email address.</li> <li>code (<code>str</code>) \u2013 The verification code.</li> </ul> <p>Returns:</p> <ul> <li><code>VerificationCode | None</code> \u2013 The verification code if found and valid, None otherwise.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositoryget_by_id","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositoryinvalidate_codes_for_email","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.invalidate_codes_for_email</code>","text":"<pre><code>invalidate_codes_for_email(email)\n</code></pre> <p>Mark all pending verification codes for an email as expired.</p> <p>Used when generating a new code to invalidate previous ones.</p> <p>Parameters:</p> <ul> <li>email (<code>str</code>) \u2013 The email address.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositorysession","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesrepositoriesverificationcoderepositoryupdate","title":"# <code>leadr.registration.services.repositories.VerificationCodeRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_service","title":"<code>leadr.registration.services.verification_service</code>","text":"<p>Verification service for generating and validating email verification codes.</p> <p>Classes:</p> <ul> <li>VerificationService \u2013 Service for managing email verification codes.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationservice","title":"<code>leadr.registration.services.verification_service.VerificationService</code>","text":"<pre><code>VerificationService(db, email_service)\n</code></pre> <p>Service for managing email verification codes.</p> <p>Functions:</p> <ul> <li>initiate_verification \u2013 Generate and send a verification code to an email address.</li> <li>validate_verification_token \u2013 Validate a verification token and return the email.</li> <li>verify_code \u2013 Verify a code and return a short-lived verification token.</li> </ul> <p>Attributes:</p> <ul> <li>db \u2013</li> <li>email_service \u2013</li> <li>repository \u2013</li> </ul> <p>Parameters:</p> <ul> <li>db (<code>AsyncSession</code>) \u2013 Database session.</li> <li>email_service (<code>EmailService</code>) \u2013 Email service for sending verification codes.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationservicedb","title":"# <code>leadr.registration.services.verification_service.VerificationService.db</code>","text":"<pre><code>db = db\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationserviceemail_service","title":"# <code>leadr.registration.services.verification_service.VerificationService.email_service</code>","text":"<pre><code>email_service = email_service\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationserviceinitiate_verification","title":"# <code>leadr.registration.services.verification_service.VerificationService.initiate_verification</code>","text":"<pre><code>initiate_verification(email)\n</code></pre> <p>Generate and send a verification code to an email address.</p> <p>Invalidates any existing pending codes for the email before creating a new one.</p> <p>Parameters:</p> <ul> <li>email (<code>str</code>) \u2013 Email address to send the verification code to.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationservicerepository","title":"# <code>leadr.registration.services.verification_service.VerificationService.repository</code>","text":"<pre><code>repository = VerificationCodeRepository(db)\n</code></pre>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationservicevalidate_verification_token","title":"# <code>leadr.registration.services.verification_service.VerificationService.validate_verification_token</code>","text":"<pre><code>validate_verification_token(token)\n</code></pre> <p>Validate a verification token and return the email.</p> <p>Parameters:</p> <ul> <li>token (<code>str</code>) \u2013 JWT verification token.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The email address from the token.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the token is invalid or expired.</li> </ul>"},{"location":"api/reference/registration/#leadrregistrationservicesverification_serviceverificationserviceverify_code","title":"# <code>leadr.registration.services.verification_service.VerificationService.verify_code</code>","text":"<pre><code>verify_code(email, code)\n</code></pre> <p>Verify a code and return a short-lived verification token.</p> <p>Parameters:</p> <ul> <li>email (<code>str</code>) \u2013 Email address to verify.</li> <li>code (<code>str</code>) \u2013 Verification code to check.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 A JWT verification token valid for 10 minutes.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If the code is invalid, expired, or already used.</li> </ul>"},{"location":"api/reference/scores/","title":"Scores","text":""},{"location":"api/reference/scores/#leadrscores","title":"<code>leadr.scores</code>","text":"<p>Modules:</p> <ul> <li>adapters \u2013</li> <li>api \u2013</li> <li>domain \u2013</li> <li>services \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadapters","title":"<code>leadr.scores.adapters</code>","text":"<p>Modules:</p> <ul> <li>orm \u2013 Score ORM models.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadaptersorm","title":"<code>leadr.scores.adapters.orm</code>","text":"<p>Score ORM models.</p> <p>Classes:</p> <ul> <li>ScoreFlagORM \u2013 Score flag ORM model for anti-cheat detections.</li> <li>ScoreORM \u2013 Score ORM model.</li> <li>ScoreSubmissionMetaORM \u2013 Score submission metadata ORM model for anti-cheat tracking.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagorm","title":"<code>leadr.scores.adapters.orm.ScoreFlagORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Score flag ORM model for anti-cheat detections.</p> <p>Records suspicious patterns detected by the anti-cheat system. Flags can be reviewed by admins to confirm or dismiss detections.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>confidence (<code>Mapped[str]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>flag_metadata (<code>Mapped[dict[str, Any]]</code>) \u2013</li> <li>flag_type (<code>Mapped[str]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>reviewed_at (<code>Mapped[datetime | None]</code>) \u2013</li> <li>reviewer_decision (<code>Mapped[str | None]</code>) \u2013</li> <li>reviewer_id (<code>Mapped[UUID | None]</code>) \u2013</li> <li>score_id (<code>Mapped[UUID]</code>) \u2013</li> <li>status (<code>Mapped[str]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormconfidence","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.confidence</code>","text":"<pre><code>confidence: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormcreated_at","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormdeleted_at","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormflag_metadata","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.flag_metadata</code>","text":"<pre><code>flag_metadata: Mapped[dict[str, Any]] = mapped_column('metadata', JSONB, nullable=False, default=dict, server_default='{}')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormflag_type","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.flag_type</code>","text":"<pre><code>flag_type: Mapped[str] = mapped_column(String, nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormfrom_domain","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.from_domain</code>","text":"<pre><code>from_domain(entity)\n</code></pre> <p>Convert domain entity to ORM model.</p>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormid","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormreviewed_at","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.reviewed_at</code>","text":"<pre><code>reviewed_at: Mapped[datetime | None] = mapped_column(DateTime(timezone=True), nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormreviewer_decision","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.reviewer_decision</code>","text":"<pre><code>reviewer_decision: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormreviewer_id","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.reviewer_id</code>","text":"<pre><code>reviewer_id: Mapped[UUID | None] = mapped_column(nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormscore_id","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.score_id</code>","text":"<pre><code>score_id: Mapped[UUID] = mapped_column(ForeignKey('scores.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormstatus","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.status</code>","text":"<pre><code>status: Mapped[str] = mapped_column(String, nullable=False, default='PENDING', index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormto_domain","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreflagormupdated_at","title":"# <code>leadr.scores.adapters.orm.ScoreFlagORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreorm","title":"<code>leadr.scores.adapters.orm.ScoreORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Score ORM model.</p> <p>Represents a player's score submission for a board in the database. Maps to the scores table with foreign keys to accounts, devices, games, and boards.</p> <p>Attributes:</p> <ul> <li>account (<code>Mapped[AccountORM]</code>) \u2013</li> <li>account_id (<code>Mapped[UUID]</code>) \u2013</li> <li>board (<code>Mapped[BoardORM]</code>) \u2013</li> <li>board_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>device_id (<code>Mapped[UUID]</code>) \u2013</li> <li>filter_city (<code>Mapped[str | None]</code>) \u2013</li> <li>filter_country (<code>Mapped[str | None]</code>) \u2013</li> <li>filter_timezone (<code>Mapped[str | None]</code>) \u2013</li> <li>game (<code>Mapped[GameORM]</code>) \u2013</li> <li>game_id (<code>Mapped[UUID]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>player_name (<code>Mapped[str]</code>) \u2013</li> <li>score_metadata (<code>Mapped[Any | None]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>value (<code>Mapped[float]</code>) \u2013</li> <li>value_display (<code>Mapped[str | None]</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormaccount","title":"# <code>leadr.scores.adapters.orm.ScoreORM.account</code>","text":"<pre><code>account: Mapped[AccountORM] = relationship('AccountORM')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormaccount_id","title":"# <code>leadr.scores.adapters.orm.ScoreORM.account_id</code>","text":"<pre><code>account_id: Mapped[UUID] = mapped_column(ForeignKey('accounts.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormboard","title":"# <code>leadr.scores.adapters.orm.ScoreORM.board</code>","text":"<pre><code>board: Mapped[BoardORM] = relationship('BoardORM')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormboard_id","title":"# <code>leadr.scores.adapters.orm.ScoreORM.board_id</code>","text":"<pre><code>board_id: Mapped[UUID] = mapped_column(ForeignKey('boards.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormcreated_at","title":"# <code>leadr.scores.adapters.orm.ScoreORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormdeleted_at","title":"# <code>leadr.scores.adapters.orm.ScoreORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormdevice_id","title":"# <code>leadr.scores.adapters.orm.ScoreORM.device_id</code>","text":"<pre><code>device_id: Mapped[UUID] = mapped_column(nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormfilter_city","title":"# <code>leadr.scores.adapters.orm.ScoreORM.filter_city</code>","text":"<pre><code>filter_city: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormfilter_country","title":"# <code>leadr.scores.adapters.orm.ScoreORM.filter_country</code>","text":"<pre><code>filter_country: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormfilter_timezone","title":"# <code>leadr.scores.adapters.orm.ScoreORM.filter_timezone</code>","text":"<pre><code>filter_timezone: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormgame","title":"# <code>leadr.scores.adapters.orm.ScoreORM.game</code>","text":"<pre><code>game: Mapped[GameORM] = relationship('GameORM')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormgame_id","title":"# <code>leadr.scores.adapters.orm.ScoreORM.game_id</code>","text":"<pre><code>game_id: Mapped[UUID] = mapped_column(ForeignKey('games.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormid","title":"# <code>leadr.scores.adapters.orm.ScoreORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormplayer_name","title":"# <code>leadr.scores.adapters.orm.ScoreORM.player_name</code>","text":"<pre><code>player_name: Mapped[str] = mapped_column(String, nullable=False)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormscore_metadata","title":"# <code>leadr.scores.adapters.orm.ScoreORM.score_metadata</code>","text":"<pre><code>score_metadata: Mapped[Any | None] = mapped_column('score_metadata', JSON, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormupdated_at","title":"# <code>leadr.scores.adapters.orm.ScoreORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormvalue","title":"# <code>leadr.scores.adapters.orm.ScoreORM.value</code>","text":"<pre><code>value: Mapped[float] = mapped_column(Float, nullable=False)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoreormvalue_display","title":"# <code>leadr.scores.adapters.orm.ScoreORM.value_display</code>","text":"<pre><code>value_display: Mapped[str | None] = mapped_column(String, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaorm","title":"<code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM</code>","text":"<p>Bases: <code>Base</code></p> <p>Score submission metadata ORM model for anti-cheat tracking.</p> <p>Tracks submission history per device/board combination to enable detection of suspicious patterns like rapid-fire submissions.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to ORM model.</li> <li>to_domain \u2013 Convert ORM model to domain entity.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>Mapped[UUID]</code>) \u2013</li> <li>created_at (<code>Mapped[timestamp]</code>) \u2013</li> <li>deleted_at (<code>Mapped[nullable_timestamp]</code>) \u2013</li> <li>device_id (<code>Mapped[UUID]</code>) \u2013</li> <li>id (<code>Mapped[uuid_pk]</code>) \u2013</li> <li>last_score_value (<code>Mapped[float | None]</code>) \u2013</li> <li>last_submission_at (<code>Mapped[datetime]</code>) \u2013</li> <li>score_id (<code>Mapped[UUID]</code>) \u2013</li> <li>submission_count (<code>Mapped[int]</code>) \u2013</li> <li>updated_at (<code>Mapped[timestamp]</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormboard_id","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.board_id</code>","text":"<pre><code>board_id: Mapped[UUID] = mapped_column(nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormcreated_at","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.created_at</code>","text":"<pre><code>created_at: Mapped[timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormdeleted_at","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.deleted_at</code>","text":"<pre><code>deleted_at: Mapped[nullable_timestamp]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormdevice_id","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.device_id</code>","text":"<pre><code>device_id: Mapped[UUID] = mapped_column(nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormfrom_domain","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.from_domain</code>","text":"<pre><code>from_domain(entity)\n</code></pre> <p>Convert domain entity to ORM model.</p>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormid","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.id</code>","text":"<pre><code>id: Mapped[uuid_pk]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormlast_score_value","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.last_score_value</code>","text":"<pre><code>last_score_value: Mapped[float | None] = mapped_column(Float, nullable=True, default=None)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormlast_submission_at","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.last_submission_at</code>","text":"<pre><code>last_submission_at: Mapped[datetime] = mapped_column(DateTime(timezone=True), nullable=False)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormscore_id","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.score_id</code>","text":"<pre><code>score_id: Mapped[UUID] = mapped_column(ForeignKey('scores.id', ondelete='CASCADE'), nullable=False, index=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormsubmission_count","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.submission_count</code>","text":"<pre><code>submission_count: Mapped[int] = mapped_column(Integer, nullable=False, default=1)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormto_domain","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.to_domain</code>","text":"<pre><code>to_domain()\n</code></pre> <p>Convert ORM model to domain entity.</p>"},{"location":"api/reference/scores/#leadrscoresadaptersormscoresubmissionmetaormupdated_at","title":"# <code>leadr.scores.adapters.orm.ScoreSubmissionMetaORM.updated_at</code>","text":"<pre><code>updated_at: Mapped[timestamp] = mapped_column(onupdate=(func.now()))\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapi","title":"<code>leadr.scores.api</code>","text":"<p>Modules:</p> <ul> <li>score_flag_routes \u2013 API routes for score flag management.</li> <li>score_flag_schemas \u2013 API request and response models for score flags.</li> <li>score_routes \u2013 API routes for score management.</li> <li>score_schemas \u2013 API request and response models for scores.</li> <li>score_submission_meta_routes \u2013 API routes for score submission metadata management.</li> <li>score_submission_meta_schemas \u2013 API schemas for score submission metadata.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_routes","title":"<code>leadr.scores.api.score_flag_routes</code>","text":"<p>API routes for score flag management.</p> <p>Functions:</p> <ul> <li>get_score_flag \u2013 Get a score flag by ID.</li> <li>list_score_flags \u2013 List score flags for an account with optional filters and pagination.</li> <li>update_score_flag \u2013 Update a score flag (review or soft-delete).</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_routesget_score_flag","title":"<code>leadr.scores.api.score_flag_routes.get_score_flag</code>","text":"<pre><code>get_score_flag(flag_id, service, auth)\n</code></pre> <p>Get a score flag by ID.</p> <p>Parameters:</p> <ul> <li>flag_id (<code>ScoreFlagID</code>) \u2013 Flag identifier to retrieve.</li> <li>service (<code>ScoreFlagServiceDep</code>) \u2013 Injected score flag service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlagResponse</code> \u2013 ScoreFlagResponse with the flag details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this flag's account.</li> <li><code>404</code> \u2013 Flag not found or soft-deleted.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_routeslist_score_flags","title":"<code>leadr.scores.api.score_flag_routes.list_score_flags</code>","text":"<pre><code>list_score_flags(auth, service, pagination, account_id=None, board_id=None, game_id=None, status=None, flag_type=None)\n</code></pre> <p>List score flags for an account with optional filters and pagination.</p> <p>Returns paginated flags for the specified account, with optional filtering by board, game, status, or flag type. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns flags from all accounts.</p> <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>ScoreFlagServiceDep</code>) \u2013 Injected score flag service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by.</li> <li>status (<code>str | None</code>) \u2013 Optional status to filter by (PENDING, CONFIRMED_CHEAT, etc.).</li> <li>flag_type (<code>str | None</code>) \u2013 Optional flag type to filter by (VELOCITY, DUPLICATE, etc.).</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ScoreFlagResponse]</code> \u2013 PaginatedResponse containing ScoreFlagResponse objects matching the filter criteria.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor or sort field.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_routesrouter","title":"<code>leadr.scores.api.score_flag_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_routesupdate_score_flag","title":"<code>leadr.scores.api.score_flag_routes.update_score_flag</code>","text":"<pre><code>update_score_flag(flag_id, request, service, auth)\n</code></pre> <p>Update a score flag (review or soft-delete).</p> <p>Allows reviewing a flag (updating status and reviewer decision) or soft-deleting the flag.</p> <p>Parameters:</p> <ul> <li>flag_id (<code>ScoreFlagID</code>) \u2013 Flag identifier to update.</li> <li>request (<code>ScoreFlagUpdateRequest</code>) \u2013 Update details (status, reviewer_decision, or deleted flag).</li> <li>service (<code>ScoreFlagServiceDep</code>) \u2013 Injected score flag service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlagResponse</code> \u2013 ScoreFlagResponse with the updated flag details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this flag's account.</li> <li><code>404</code> \u2013 Flag not found.</li> <li><code>400</code> \u2013 Invalid update request.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemas","title":"<code>leadr.scores.api.score_flag_schemas</code>","text":"<p>API request and response models for score flags.</p> <p>Classes:</p> <ul> <li>ScoreFlagResponse \u2013 Response model for a score flag.</li> <li>ScoreFlagUpdateRequest \u2013 Request model for updating a score flag (reviewing).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponse","title":"<code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a score flag.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>confidence (<code>str</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>flag_type (<code>str</code>) \u2013</li> <li>id (<code>ScoreFlagID</code>) \u2013</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>reviewed_at (<code>datetime | None</code>) \u2013</li> <li>reviewer_decision (<code>str | None</code>) \u2013</li> <li>reviewer_id (<code>UserID | None</code>) \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>status (<code>str</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponseconfidence","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.confidence</code>","text":"<pre><code>confidence: str = Field(description='Confidence level of the flag (LOW, MEDIUM, HIGH)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsecreated_at","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the flag was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponseflag_type","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.flag_type</code>","text":"<pre><code>flag_type: str = Field(description='Type of flag (e.g., VELOCITY, DUPLICATE, RATE_LIMIT)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsefrom_domain","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.from_domain</code>","text":"<pre><code>from_domain(flag)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>flag (<code>ScoreFlag</code>) \u2013 The domain ScoreFlag entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlagResponse</code> \u2013 ScoreFlagResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponseid","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.id</code>","text":"<pre><code>id: ScoreFlagID = Field(description='Unique identifier for the score flag')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsemetadata","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = Field(description='Additional metadata about the flag')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsereviewed_at","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.reviewed_at</code>","text":"<pre><code>reviewed_at: datetime | None = Field(default=None, description='Timestamp when flag was reviewed, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsereviewer_decision","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.reviewer_decision</code>","text":"<pre><code>reviewer_decision: str | None = Field(default=None, description=\"Admin's decision/notes, or null\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsereviewer_id","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.reviewer_id</code>","text":"<pre><code>reviewer_id: UserID | None = Field(default=None, description='ID of the user who reviewed this flag, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsescore_id","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.score_id</code>","text":"<pre><code>score_id: ScoreID = Field(description='ID of the score that was flagged')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponsestatus","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.status</code>","text":"<pre><code>status: str = Field(description='Status: PENDING, CONFIRMED_CHEAT, FALSE_POSITIVE, or DISMISSED')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagresponseupdated_at","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagupdaterequest","title":"<code>leadr.scores.api.score_flag_schemas.ScoreFlagUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a score flag (reviewing).</p> <p>Attributes:</p> <ul> <li>deleted (<code>bool | None</code>) \u2013</li> <li>reviewer_decision (<code>str | None</code>) \u2013</li> <li>status (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagupdaterequestdeleted","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the flag')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagupdaterequestreviewer_decision","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagUpdateRequest.reviewer_decision</code>","text":"<pre><code>reviewer_decision: str | None = Field(default=None, description=\"Admin's decision/notes about the flag\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_flag_schemasscoreflagupdaterequeststatus","title":"# <code>leadr.scores.api.score_flag_schemas.ScoreFlagUpdateRequest.status</code>","text":"<pre><code>status: str | None = Field(default=None, description='Updated status: PENDING, CONFIRMED_CHEAT, FALSE_POSITIVE, or DISMISSED')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_routes","title":"<code>leadr.scores.api.score_routes</code>","text":"<p>API routes for score management.</p> <p>Functions:</p> <ul> <li>create_score_admin \u2013 Create a new score (Admin API).</li> <li>create_score_client \u2013 Create a new score (Client API).</li> <li>get_score \u2013 Get a score by ID.</li> <li>handle_list_scores \u2013 Handle list scores logic for both admin and client endpoints.</li> <li>list_scores_admin \u2013 List scores for an account with optional filters and pagination.</li> <li>list_scores_client \u2013 List scores for an account with optional filters and pagination.</li> <li>update_score \u2013 Update a score.</li> </ul> <p>Attributes:</p> <ul> <li>client_router \u2013</li> <li>router \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routesclient_router","title":"<code>leadr.scores.api.score_routes.client_router</code>","text":"<pre><code>client_router = APIRouter()\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_routescreate_score_admin","title":"<code>leadr.scores.api.score_routes.create_score_admin</code>","text":"<pre><code>create_score_admin(score_request, request, service, background_tasks, auth)\n</code></pre> <p>Create a new score (Admin API).</p> <p>Creates a new score submission for a board. Performs three-level validation: board exists, board belongs to the specified account, and game matches the board's game.</p> <p>For regular admins: account_id is derived from auth, must provide game_id and device_id. For superadmins: can provide account_id to create scores for any account.</p> <p>Parameters:</p> <ul> <li>score_request (<code>ScoreCreateRequest</code>) \u2013 Score creation details including board_id, player_name, value,   and optionally account_id (superadmin only), game_id, device_id.</li> <li>request (<code>Request</code>) \u2013 FastAPI request object for accessing geo data.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>background_tasks (<code>BackgroundTasks</code>) \u2013 FastAPI background tasks for async metadata updates.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Admin authentication context.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreResponse</code> \u2013 ScoreResponse with the created score including auto-generated ID and timestamps.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 Non-superadmin tries to specify account_id, or access denied.</li> <li><code>400</code> \u2013 Missing required fields (game_id or device_id).</li> <li><code>404</code> \u2013 Account, game, board, or device not found.</li> <li><code>400</code> \u2013 Validation failed (board doesn't belong to account, or game doesn't   match board's game).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routescreate_score_client","title":"<code>leadr.scores.api.score_routes.create_score_client</code>","text":"<pre><code>create_score_client(score_request, request, service, background_tasks, auth)\n</code></pre> <p>Create a new score (Client API).</p> <p>Creates a new score submission for a board. All IDs (account_id, game_id, device_id) are automatically derived from the authenticated device session.</p> <p>Parameters:</p> <ul> <li>score_request (<code>ScoreClientCreateRequest</code>) \u2013 Score creation details including board_id, player_name, and value.</li> <li>request (<code>Request</code>) \u2013 FastAPI request object for accessing geo data.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>background_tasks (<code>BackgroundTasks</code>) \u2013 FastAPI background tasks for async metadata updates.</li> <li>auth (<code>ClientAuthContextWithNonceDep</code>) \u2013 Client authentication context with device info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreClientResponse</code> \u2013 ScoreClientResponse with the created score (excludes device_id).</li> </ul> <p>Raises:</p> <ul> <li><code>404</code> \u2013 Board not found.</li> <li><code>400</code> \u2013 Validation failed (board doesn't belong to account, or game doesn't   match board's game).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routesget_score","title":"<code>leadr.scores.api.score_routes.get_score</code>","text":"<pre><code>get_score(score_id, service, auth)\n</code></pre> <p>Get a score by ID.</p> <p>Parameters:</p> <ul> <li>score_id (<code>ScoreID</code>) \u2013 Score identifier to retrieve.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreResponse</code> \u2013 ScoreResponse with the score details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this score's account.</li> <li><code>404</code> \u2013 Score not found or soft-deleted.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routeshandle_list_scores","title":"<code>leadr.scores.api.score_routes.handle_list_scores</code>","text":"<pre><code>handle_list_scores(auth, service, pagination, account_id, board_id, game_id, device_id, around_score_id=None)\n</code></pre> <p>Handle list scores logic for both admin and client endpoints.</p> <p>This shared handler implements the core list scores functionality and returns different response models based on the authentication type:</p> <ul> <li>Admin auth: Returns ScoreResponse with device_id and geo fields</li> <li>Client auth: Returns ScoreClientResponse without device_id and geo fields</li> </ul> <p>Parameters:</p> <ul> <li>auth (<code>AuthContext</code>) \u2013 Authentication context (admin or client).</li> <li>service (<code>ScoreService</code>) \u2013 Score service for data access.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID filter.</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID filter.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID filter.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID filter.</li> <li>around_score_id (<code>ScoreID | None</code>) \u2013 Optional score ID to center results around.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ScoreResponse] | PaginatedResponse[ScoreClientResponse]</code> \u2013 PaginatedResponse with scores and appropriate response model based on auth type.</li> </ul> <p>Raises:</p> <ul> <li><code>HTTPException</code> \u2013 400 if cursor is invalid, sort field is invalid,   or validation fails for around_score_id.</li> <li><code>HTTPException</code> \u2013 404 if around_score_id score not found.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routeslist_scores_admin","title":"<code>leadr.scores.api.score_routes.list_scores_admin</code>","text":"<pre><code>list_scores_admin(auth, service, pagination, account_id=None, board_id=None, game_id=None, device_id=None, around_score_id=None)\n</code></pre> <p>List scores for an account with optional filters and pagination.</p> <p>Returns paginated scores for the specified account, with optional filtering by board, game, or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular admin users, account_id is automatically derived from their API key. For superadmins, account_id must be explicitly provided as a query parameter.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=value:desc,created_at:asc</li> <li>Valid sort fields: id, value, player_name, filter_timezone, filter_country,   filter_city, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> <p>Around Score:</p> <ul> <li>Use around_score_id to get scores centered around a specific score</li> <li>Requires board_id to be specified</li> <li>Mutually exclusive with cursor pagination</li> <li>Returns a window of scores with the target in the middle</li> <li>Respects limit (e.g., limit=5 returns 2 above + target + 2 below)</li> </ul> Example  GET /v1/scores?board_id=brd_123&amp;limit=50&amp;sort=value:desc,created_at:asc GET /v1/scores?board_id=brd_123&amp;around_score_id=scr_456&amp;limit=11   <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (required for superadmins).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by.</li> <li>around_score_id (<code>Annotated[ScoreID | None, Query(description='Center results around this score ID')]</code>) \u2013 Optional score ID to center results around.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ScoreResponse]</code> \u2013 PaginatedResponse with scores and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, cursor state mismatch, or around_score_id validation.</li> <li><code>400</code> \u2013 Superadmin did not provide account_id.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 around_score_id score not found.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routeslist_scores_client","title":"<code>leadr.scores.api.score_routes.list_scores_client</code>","text":"<pre><code>list_scores_client(auth, service, pagination, board_id=None, device_id=None, around_score_id=None)\n</code></pre> <p>List scores for an account with optional filters and pagination.</p> <p>Returns paginated scores for the specified account, with optional filtering by board and/or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>Pagination:</p> <ul> <li>Default: 20 items per page, sorted by created_at:desc,id:asc</li> <li>Custom sort: Use ?sort=value:desc,created_at:asc</li> <li>Valid sort fields: id, value, player_name, filter_timezone, filter_country,   filter_city, created_at, updated_at</li> <li>Navigation: Use next_cursor/prev_cursor from response</li> </ul> <p>Around Score:</p> <ul> <li>Use around_score_id to get scores centered around a specific score</li> <li>Requires board_id to be specified</li> <li>Mutually exclusive with cursor pagination</li> <li>Returns a window of scores with the target in the middle</li> <li>Respects limit (e.g., limit=5 returns 2 above + target + 2 below)</li> </ul> Example  GET /client/scores?board_id=brd_123&amp;limit=50&amp;sort=value:desc,created_at:asc GET /client/scores?board_id=brd_123&amp;around_score_id=scr_456&amp;limit=11   <p>Parameters:</p> <ul> <li>auth (<code>ClientAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by (e.g., to get \"my scores\").</li> <li>around_score_id (<code>Annotated[ScoreID | None, Query(description='Center results around this score ID')]</code>) \u2013 Optional score ID to center results around.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ScoreClientResponse]</code> \u2013 PaginatedResponse with scores and pagination metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor, sort field, cursor state mismatch, or around_score_id validation.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> <li><code>404</code> \u2013 around_score_id score not found.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_routesrouter","title":"<code>leadr.scores.api.score_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_routesupdate_score","title":"<code>leadr.scores.api.score_routes.update_score</code>","text":"<pre><code>update_score(score_id, request, service, auth)\n</code></pre> <p>Update a score.</p> <p>Supports partial updates of score fields. Any field not provided will remain unchanged. Set deleted: true to soft delete the score.</p> <p>Parameters:</p> <ul> <li>score_id (<code>ScoreID</code>) \u2013 Score identifier to update.</li> <li>request (<code>ScoreUpdateRequest</code>) \u2013 Score update details with optional fields to modify.</li> <li>service (<code>ScoreServiceDep</code>) \u2013 Injected score service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreResponse</code> \u2013 ScoreResponse with the updated score details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this score's account.</li> <li><code>404</code> \u2013 Score not found or already soft-deleted.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemas","title":"<code>leadr.scores.api.score_schemas</code>","text":"<p>API request and response models for scores.</p> <p>Classes:</p> <ul> <li>ScoreClientCreateRequest \u2013 Request model for creating a score (Client API).</li> <li>ScoreClientResponse \u2013 Response model for a score (client API - excludes device_id and geo fields).</li> <li>ScoreCreateRequest \u2013 Request model for creating a score (Admin API).</li> <li>ScoreCreateRequestBase \u2013 Base request model for score creation with common fields.</li> <li>ScoreResponse \u2013 Response model for a score.</li> <li>ScoreUpdateRequest \u2013 Request model for updating a score.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientcreaterequest","title":"<code>leadr.scores.api.score_schemas.ScoreClientCreateRequest</code>","text":"<p>Bases: <code>ScoreCreateRequestBase</code></p> <p>Request model for creating a score (Client API).</p> <p>For client authentication, account_id, game_id, and device_id are automatically derived from the authenticated device session. Only game-specific fields are required.</p> <p>Note: Timezone, country, and city are automatically populated from the client's IP address via GeoIP middleware.</p> <p>Functions:</p> <ul> <li>validate_metadata_size \u2013 Validate that metadata does not exceed size limit.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponse","title":"<code>leadr.scores.api.score_schemas.ScoreClientResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a score (client API - excludes device_id and geo fields).</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to client response model (without device_id or geo fields).</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>board_id (<code>BoardID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>ScoreID</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponseaccount_id","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponseboard_id","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsecreated_at","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the score was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsefrom_domain","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.from_domain</code>","text":"<pre><code>from_domain(score)\n</code></pre> <p>Convert domain entity to client response model (without device_id or geo fields).</p> <p>Parameters:</p> <ul> <li>score (<code>Score</code>) \u2013 The domain Score entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreClientResponse</code> \u2013 ScoreClientResponse with all fields except device_id, timezone, country, and city.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsegame_id","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponseid","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.id</code>","text":"<pre><code>id: ScoreID = Field(description='Unique identifier for the score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsemetadata","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Game-specific metadata, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponseplayer_name","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.player_name</code>","text":"<pre><code>player_name: str = Field(description='Display name of the player')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponseupdated_at","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsevalue","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.value</code>","text":"<pre><code>value: float = Field(description='Numeric value of the score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreclientresponsevalue_display","title":"# <code>leadr.scores.api.score_schemas.ScoreClientResponse.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description='Formatted display string, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequest","title":"<code>leadr.scores.api.score_schemas.ScoreCreateRequest</code>","text":"<p>Bases: <code>ScoreCreateRequestBase</code></p> <p>Request model for creating a score (Admin API).</p> <p>Note: Timezone, country, and city are automatically populated from the client's IP address via GeoIP middleware but can be overriden by admins in the request body.</p> <p>For regular admins: account_id is derived from auth context, must provide game_id and device_id. For superadmins: can provide account_id to create scores for any account, must provide game_id and device_id.</p> <p>Functions:</p> <ul> <li>validate_metadata_size \u2013 Validate that metadata does not exceed size limit.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013</li> <li>board_id (<code>BoardID</code>) \u2013</li> <li>city (<code>str | None</code>) \u2013</li> <li>country (<code>str | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>timezone (<code>str | None</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestaccount_id","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.account_id</code>","text":"<pre><code>account_id: AccountID | None = Field(default=None, description='ID of the account (only for superadmins, regular admins use their auth account)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestboard_id","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestcity","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.city</code>","text":"<pre><code>city: str | None = Field(default=None, description='Optional override of GeoIP metadata')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestcountry","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.country</code>","text":"<pre><code>country: str | None = Field(default=None, description='Optional override of GeoIP metadata')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestdevice_id","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(description='ID of the device that submitted this score (required for admin API)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestgame_id","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this score belongs to (required for admin API)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestmetadata","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Optional JSON metadata for game-specific data (max 1KB)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestplayer_name","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.player_name</code>","text":"<pre><code>player_name: str = Field(description='Display name of the player')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequesttimezone","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.timezone</code>","text":"<pre><code>timezone: str | None = Field(default=None, description='Optional override of GeoIP metadata')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestvalidate_metadata_size","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.validate_metadata_size</code>","text":"<pre><code>validate_metadata_size(v)\n</code></pre> <p>Validate that metadata does not exceed size limit.</p>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestvalue","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.value</code>","text":"<pre><code>value: float = Field(description='Numeric value of the score for sorting/comparison')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestvalue_display","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequest.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description=\"Optional formatted display string (e.g., '1:23.45', '1,234 points')\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbase","title":"<code>leadr.scores.api.score_schemas.ScoreCreateRequestBase</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Base request model for score creation with common fields.</p> <p>Functions:</p> <ul> <li>validate_metadata_size \u2013 Validate that metadata does not exceed size limit.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbaseboard_id","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbasemetadata","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Optional JSON metadata for game-specific data (max 1KB)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbaseplayer_name","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.player_name</code>","text":"<pre><code>player_name: str = Field(description='Display name of the player')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbasevalidate_metadata_size","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.validate_metadata_size</code>","text":"<pre><code>validate_metadata_size(v)\n</code></pre> <p>Validate that metadata does not exceed size limit.</p>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbasevalue","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.value</code>","text":"<pre><code>value: float = Field(description='Numeric value of the score for sorting/comparison')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscorecreaterequestbasevalue_display","title":"# <code>leadr.scores.api.score_schemas.ScoreCreateRequestBase.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description=\"Optional formatted display string (e.g., '1:23.45', '1,234 points')\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponse","title":"<code>leadr.scores.api.score_schemas.ScoreResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for a score.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to response model.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>board_id (<code>BoardID</code>) \u2013</li> <li>city (<code>str | None</code>) \u2013</li> <li>country (<code>str | None</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>ScoreID</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>timezone (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponseaccount_id","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.account_id</code>","text":"<pre><code>account_id: AccountID = Field(description='ID of the account this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponseboard_id","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsecity","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.city</code>","text":"<pre><code>city: str | None = Field(default=None, description='City for categorization, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsecountry","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.country</code>","text":"<pre><code>country: str | None = Field(default=None, description='Country for categorization, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsecreated_at","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.created_at</code>","text":"<pre><code>created_at: datetime = Field(description='Timestamp when the score was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsedevice_id","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(description='ID of the device that submitted this score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsefrom_domain","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.from_domain</code>","text":"<pre><code>from_domain(score)\n</code></pre> <p>Convert domain entity to response model.</p> <p>Parameters:</p> <ul> <li>score (<code>Score</code>) \u2013 The domain Score entity to convert.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreResponse</code> \u2013 ScoreResponse with all fields populated from the domain entity.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsegame_id","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.game_id</code>","text":"<pre><code>game_id: GameID = Field(description='ID of the game this score belongs to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponseid","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.id</code>","text":"<pre><code>id: ScoreID = Field(description='Unique identifier for the score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsemetadata","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Game-specific metadata, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponseplayer_name","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.player_name</code>","text":"<pre><code>player_name: str = Field(description='Display name of the player')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsetimezone","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.timezone</code>","text":"<pre><code>timezone: str | None = Field(default=None, description='Timezone for categorization, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponseupdated_at","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsevalue","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.value</code>","text":"<pre><code>value: float = Field(description='Numeric value of the score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreresponsevalue_display","title":"# <code>leadr.scores.api.score_schemas.ScoreResponse.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description='Formatted display string, or null')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequest","title":"<code>leadr.scores.api.score_schemas.ScoreUpdateRequest</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Request model for updating a score.</p> <p>Functions:</p> <ul> <li>validate_metadata_size \u2013 Validate that metadata does not exceed size limit.</li> </ul> <p>Attributes:</p> <ul> <li>city (<code>str | None</code>) \u2013</li> <li>country (<code>str | None</code>) \u2013</li> <li>deleted (<code>bool | None</code>) \u2013</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>player_name (<code>str | None</code>) \u2013</li> <li>timezone (<code>str | None</code>) \u2013</li> <li>value (<code>float | None</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestcity","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.city</code>","text":"<pre><code>city: str | None = Field(default=None, description='Updated city')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestcountry","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.country</code>","text":"<pre><code>country: str | None = Field(default=None, description='Updated country')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestdeleted","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.deleted</code>","text":"<pre><code>deleted: bool | None = Field(default=None, description='Set to true to soft delete the score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestmetadata","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Updated metadata')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestplayer_name","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.player_name</code>","text":"<pre><code>player_name: str | None = Field(default=None, description='Updated player name')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequesttimezone","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.timezone</code>","text":"<pre><code>timezone: str | None = Field(default=None, description='Updated timezone')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestvalidate_metadata_size","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.validate_metadata_size</code>","text":"<pre><code>validate_metadata_size(v)\n</code></pre> <p>Validate that metadata does not exceed size limit.</p>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestvalue","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.value</code>","text":"<pre><code>value: float | None = Field(default=None, description='Updated score value')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_schemasscoreupdaterequestvalue_display","title":"# <code>leadr.scores.api.score_schemas.ScoreUpdateRequest.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description='Updated display string')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_routes","title":"<code>leadr.scores.api.score_submission_meta_routes</code>","text":"<p>API routes for score submission metadata management.</p> <p>Functions:</p> <ul> <li>get_submission_meta \u2013 Get score submission metadata by ID.</li> <li>list_submission_meta \u2013 List score submission metadata for an account with optional filters and pagination.</li> </ul> <p>Attributes:</p> <ul> <li>router \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_routesget_submission_meta","title":"<code>leadr.scores.api.score_submission_meta_routes.get_submission_meta</code>","text":"<pre><code>get_submission_meta(meta_id, service, auth)\n</code></pre> <p>Get score submission metadata by ID.</p> <p>Parameters:</p> <ul> <li>meta_id (<code>ScoreSubmissionMetaID</code>) \u2013 Submission metadata identifier to retrieve.</li> <li>service (<code>ScoreSubmissionMetaServiceDep</code>) \u2013 Injected submission metadata service dependency.</li> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreSubmissionMetaResponse</code> \u2013 ScoreSubmissionMetaResponse with the submission metadata details.</li> </ul> <p>Raises:</p> <ul> <li><code>403</code> \u2013 User does not have access to this metadata's account.</li> <li><code>404</code> \u2013 Submission metadata not found or soft-deleted.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_routeslist_submission_meta","title":"<code>leadr.scores.api.score_submission_meta_routes.list_submission_meta</code>","text":"<pre><code>list_submission_meta(auth, service, pagination, account_id=None, board_id=None, device_id=None)\n</code></pre> <p>List score submission metadata for an account with optional filters and pagination.</p> <p>Returns paginated submission metadata for the specified account, with optional filtering by board or device. Supports cursor-based pagination with bidirectional navigation and custom sorting.</p> <p>For regular users, account_id is automatically derived from their API key. For superadmins, account_id is optional - if omitted, returns metadata from all accounts.</p> <p>Parameters:</p> <ul> <li>auth (<code>AdminAuthContextDep</code>) \u2013 Authentication context with user info.</li> <li>service (<code>ScoreSubmissionMetaServiceDep</code>) \u2013 Injected submission metadata service dependency.</li> <li>pagination (<code>Annotated[PaginationParams, Depends()]</code>) \u2013 Pagination parameters (cursor, limit, sort).</li> <li>account_id (<code>Annotated[AccountID | None, Query(description='Account ID filter')]</code>) \u2013 Optional account_id query parameter (superadmins can omit to see all).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResponse[ScoreSubmissionMetaResponse]</code> \u2013 PaginatedResponse containing ScoreSubmissionMetaResponse objects matching the filter.</li> </ul> <p>Raises:</p> <ul> <li><code>400</code> \u2013 Invalid cursor or sort field.</li> <li><code>403</code> \u2013 User does not have access to the specified account.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_routesrouter","title":"<code>leadr.scores.api.score_submission_meta_routes.router</code>","text":"<pre><code>router = APIRouter()\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemas","title":"<code>leadr.scores.api.score_submission_meta_schemas</code>","text":"<p>API schemas for score submission metadata.</p> <p>Classes:</p> <ul> <li>ScoreSubmissionMetaResponse \u2013 Response model for score submission metadata.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponse","title":"<code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Response model for score submission metadata.</p> <p>Functions:</p> <ul> <li>from_domain \u2013 Convert domain entity to API response.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>id (<code>ScoreSubmissionMetaID</code>) \u2013</li> <li>last_score_value (<code>float | None</code>) \u2013</li> <li>last_submission_at (<code>datetime</code>) \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>submission_count (<code>int</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponseboard_id","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.board_id</code>","text":"<pre><code>board_id: BoardID\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponsecreated_at","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.created_at</code>","text":"<pre><code>created_at: datetime\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponsedevice_id","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.device_id</code>","text":"<pre><code>device_id: DeviceID\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponsefrom_domain","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.from_domain</code>","text":"<pre><code>from_domain(meta)\n</code></pre> <p>Convert domain entity to API response.</p>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponseid","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.id</code>","text":"<pre><code>id: ScoreSubmissionMetaID\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponselast_score_value","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.last_score_value</code>","text":"<pre><code>last_score_value: float | None\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponselast_submission_at","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.last_submission_at</code>","text":"<pre><code>last_submission_at: datetime\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponsescore_id","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.score_id</code>","text":"<pre><code>score_id: ScoreID\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponsesubmission_count","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.submission_count</code>","text":"<pre><code>submission_count: int\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresapiscore_submission_meta_schemasscoresubmissionmetaresponseupdated_at","title":"# <code>leadr.scores.api.score_submission_meta_schemas.ScoreSubmissionMetaResponse.updated_at</code>","text":"<pre><code>updated_at: datetime\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomain","title":"<code>leadr.scores.domain</code>","text":"<p>Modules:</p> <ul> <li>anti_cheat \u2013 Anti-cheat domain models and enums.</li> <li>score \u2013 Score domain entity.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheat","title":"<code>leadr.scores.domain.anti_cheat</code>","text":"<p>Anti-cheat domain models and enums.</p> <p>Modules:</p> <ul> <li>enums \u2013 Anti-cheat enums for flag types, confidence levels, and actions.</li> <li>models \u2013 Anti-cheat domain models.</li> </ul> <p>Classes:</p> <ul> <li>AntiCheatResult \u2013 Result of anti-cheat analysis on a score submission.</li> <li>FlagAction \u2013 Action to take based on anti-cheat analysis.</li> <li>FlagConfidence \u2013 Confidence level for anti-cheat detection.</li> <li>FlagType \u2013 Type of anti-cheat flag detected.</li> <li>ScoreFlag \u2013 Record of an anti-cheat flag raised for a score submission.</li> <li>ScoreSubmissionMeta \u2013 Metadata tracking submission history for anti-cheat analysis.</li> <li>TrustTier \u2013 Trust tier for devices/users, determining anti-cheat thresholds.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresult","title":"<code>leadr.scores.domain.anti_cheat.AntiCheatResult</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Result of anti-cheat analysis on a score submission.</p> <p>This is a value object that encapsulates the decision made by the anti-cheat system. It indicates whether to accept, flag, or reject a score submission, along with the reasoning and supporting metadata.</p> <p>Attributes:</p> <ul> <li>action (<code>FlagAction</code>) \u2013</li> <li>confidence (<code>FlagConfidence | None</code>) \u2013</li> <li>flag_type (<code>FlagType | None</code>) \u2013</li> <li>metadata (<code>dict[str, Any] | None</code>) \u2013</li> <li>model_config \u2013</li> <li>reason (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultaction","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.action</code>","text":"<pre><code>action: FlagAction = Field(description='Action to take (ACCEPT/FLAG/REJECT)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultconfidence","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.confidence</code>","text":"<pre><code>confidence: FlagConfidence | None = Field(default=None, description='Confidence level of detection (if flagged/rejected)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultflag_type","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.flag_type</code>","text":"<pre><code>flag_type: FlagType | None = Field(default=None, description='Type of flag detected (if flagged/rejected)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultmetadata","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.metadata</code>","text":"<pre><code>metadata: dict[str, Any] | None = Field(default=None, description='Additional context and data supporting the decision')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultmodel_config","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.model_config</code>","text":"<pre><code>model_config = {'frozen': True}\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatanticheatresultreason","title":"# <code>leadr.scores.domain.anti_cheat.AntiCheatResult.reason</code>","text":"<pre><code>reason: str | None = Field(default=None, description='Human-readable reason for the action')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagaction","title":"<code>leadr.scores.domain.anti_cheat.FlagAction</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Action to take based on anti-cheat analysis.</p> <p>Determines how the score submission should be handled.</p> <p>Attributes:</p> <ul> <li>ACCEPT \u2013 Accept the score submission without any flags.</li> <li>FLAG \u2013 Accept the score but flag it for manual review.</li> <li>REJECT \u2013 Reject the score submission (do not save to database).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagactionaccept","title":"# <code>leadr.scores.domain.anti_cheat.FlagAction.ACCEPT</code>","text":"<pre><code>ACCEPT = 'ACCEPT'\n</code></pre> <p>Accept the score submission without any flags.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagactionflag","title":"# <code>leadr.scores.domain.anti_cheat.FlagAction.FLAG</code>","text":"<pre><code>FLAG = 'FLAG'\n</code></pre> <p>Accept the score but flag it for manual review.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagactionreject","title":"# <code>leadr.scores.domain.anti_cheat.FlagAction.REJECT</code>","text":"<pre><code>REJECT = 'REJECT'\n</code></pre> <p>Reject the score submission (do not save to database).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagconfidence","title":"<code>leadr.scores.domain.anti_cheat.FlagConfidence</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Confidence level for anti-cheat detection.</p> <p>Determines the action taken when a flag is raised:</p> <ul> <li>HIGH: Auto-reject submission</li> <li>MEDIUM: Flag for manual review, accept submission</li> <li>LOW: Log for analysis, accept submission</li> </ul> <p>Attributes:</p> <ul> <li>HIGH \u2013 High confidence detection - reject submission.</li> <li>LOW \u2013 Low confidence detection - log but accept.</li> <li>MEDIUM \u2013 Medium confidence detection - flag for review but accept.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagconfidencehigh","title":"# <code>leadr.scores.domain.anti_cheat.FlagConfidence.HIGH</code>","text":"<pre><code>HIGH = 'HIGH'\n</code></pre> <p>High confidence detection - reject submission.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagconfidencelow","title":"# <code>leadr.scores.domain.anti_cheat.FlagConfidence.LOW</code>","text":"<pre><code>LOW = 'LOW'\n</code></pre> <p>Low confidence detection - log but accept.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagconfidencemedium","title":"# <code>leadr.scores.domain.anti_cheat.FlagConfidence.MEDIUM</code>","text":"<pre><code>MEDIUM = 'MEDIUM'\n</code></pre> <p>Medium confidence detection - flag for review but accept.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtype","title":"<code>leadr.scores.domain.anti_cheat.FlagType</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Type of anti-cheat flag detected.</p> <p>Each flag type represents a different detection tactic used to identify potentially suspicious score submissions.</p> <p>Attributes:</p> <ul> <li>CLUSTER \u2013 Multiple users submitting identical scores in short time window.</li> <li>DUPLICATE \u2013 Identical score value submitted multiple times in short time window.</li> <li>IMPOSSIBLE_VALUE \u2013 Score contains mathematically impossible value (negative, NaN, etc).</li> <li>OUTLIER \u2013 Score is statistically anomalous compared to board distribution.</li> <li>PATTERN \u2013 Suspicious pattern detected in submission history (all round numbers, etc).</li> <li>PROGRESSION \u2013 Unrealistic improvement percentage between submissions.</li> <li>RATE_LIMIT \u2013 Score submission exceeds rate limits for the user/board.</li> <li>VELOCITY \u2013 Submissions are happening too quickly (&lt; 2 seconds apart).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypecluster","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.CLUSTER</code>","text":"<pre><code>CLUSTER = 'CLUSTER'\n</code></pre> <p>Multiple users submitting identical scores in short time window.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypeduplicate","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.DUPLICATE</code>","text":"<pre><code>DUPLICATE = 'DUPLICATE'\n</code></pre> <p>Identical score value submitted multiple times in short time window.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypeimpossible_value","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.IMPOSSIBLE_VALUE</code>","text":"<pre><code>IMPOSSIBLE_VALUE = 'IMPOSSIBLE_VALUE'\n</code></pre> <p>Score contains mathematically impossible value (negative, NaN, etc).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypeoutlier","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.OUTLIER</code>","text":"<pre><code>OUTLIER = 'OUTLIER'\n</code></pre> <p>Score is statistically anomalous compared to board distribution.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypepattern","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.PATTERN</code>","text":"<pre><code>PATTERN = 'PATTERN'\n</code></pre> <p>Suspicious pattern detected in submission history (all round numbers, etc).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypeprogression","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.PROGRESSION</code>","text":"<pre><code>PROGRESSION = 'PROGRESSION'\n</code></pre> <p>Unrealistic improvement percentage between submissions.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtyperate_limit","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.RATE_LIMIT</code>","text":"<pre><code>RATE_LIMIT = 'RATE_LIMIT'\n</code></pre> <p>Score submission exceeds rate limits for the user/board.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatflagtypevelocity","title":"# <code>leadr.scores.domain.anti_cheat.FlagType.VELOCITY</code>","text":"<pre><code>VELOCITY = 'VELOCITY'\n</code></pre> <p>Submissions are happening too quickly (&lt; 2 seconds apart).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflag","title":"<code>leadr.scores.domain.anti_cheat.ScoreFlag</code>","text":"<p>Bases: <code>Entity</code></p> <p>Record of an anti-cheat flag raised for a score submission.</p> <p>Represents a suspicious pattern detected by the anti-cheat system. Flags can be reviewed by admins to confirm or dismiss the detection.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>confidence (<code>FlagConfidence</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>flag_type (<code>FlagType</code>) \u2013</li> <li>id (<code>ScoreFlagID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>model_config \u2013</li> <li>reviewed_at (<code>datetime | None</code>) \u2013</li> <li>reviewer_decision (<code>str | None</code>) \u2013</li> <li>reviewer_id (<code>UserID | None</code>) \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>status (<code>ScoreFlagStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagconfidence","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.confidence</code>","text":"<pre><code>confidence: FlagConfidence = Field(description='Confidence level of detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagcreated_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagdeleted_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagflag_type","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.flag_type</code>","text":"<pre><code>flag_type: FlagType = Field(description='Type of suspicious behavior detected')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagid","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.id</code>","text":"<pre><code>id: ScoreFlagID = Field(frozen=True, default_factory=ScoreFlagID, description='Unique score flag identifier')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagis_deleted","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagmetadata","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = Field(default_factory=dict, description='Supporting data for the detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagmodel_config","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagrestore","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagreviewed_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.reviewed_at</code>","text":"<pre><code>reviewed_at: datetime | None = Field(default=None, description='When the flag was reviewed by an admin')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagreviewer_decision","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.reviewer_decision</code>","text":"<pre><code>reviewer_decision: str | None = Field(default=None, description=\"Admin's decision/notes on the flag\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagreviewer_id","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.reviewer_id</code>","text":"<pre><code>reviewer_id: UserID | None = Field(default=None, description='ID of the admin who reviewed the flag')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagscore_id","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.score_id</code>","text":"<pre><code>score_id: ScoreID = Field(description='ID of the flagged score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagsoft_delete","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagstatus","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.status</code>","text":"<pre><code>status: ScoreFlagStatus = Field(default=(ScoreFlagStatus.PENDING), description='Review status (PENDING/CONFIRMED_CHEAT/FALSE_POSITIVE/DISMISSED)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoreflagupdated_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreFlag.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmeta","title":"<code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta</code>","text":"<p>Bases: <code>Entity</code></p> <p>Metadata tracking submission history for anti-cheat analysis.</p> <p>Tracks the number and timing of score submissions per device/board combination to enable detection of suspicious patterns like rapid-fire submissions or excessive submission rates.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>id (<code>ScoreSubmissionMetaID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>last_score_value (<code>float | None</code>) \u2013</li> <li>last_submission_at (<code>datetime</code>) \u2013</li> <li>model_config \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>submission_count (<code>int</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetaboard_id","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board being submitted to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetacreated_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetadeleted_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetadevice_id","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(description='ID of the device submitting scores')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetaid","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.id</code>","text":"<pre><code>id: ScoreSubmissionMetaID = Field(frozen=True, default_factory=ScoreSubmissionMetaID, description='Unique submission metadata identifier')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetais_deleted","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetalast_score_value","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.last_score_value</code>","text":"<pre><code>last_score_value: float | None = Field(default=None, description='Value of the most recent score submission for duplicate detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetalast_submission_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.last_submission_at</code>","text":"<pre><code>last_submission_at: datetime = Field(description='Timestamp of the most recent submission')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetamodel_config","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetarestore","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetascore_id","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.score_id</code>","text":"<pre><code>score_id: ScoreID = Field(description='ID of the most recent score submission')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetasoft_delete","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetasubmission_count","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.submission_count</code>","text":"<pre><code>submission_count: int = Field(default=1, description='Total number of submissions by this device to this board')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatscoresubmissionmetaupdated_at","title":"# <code>leadr.scores.domain.anti_cheat.ScoreSubmissionMeta.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheattrusttier","title":"<code>leadr.scores.domain.anti_cheat.TrustTier</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Trust tier for devices/users, determining anti-cheat thresholds.</p> <p>Different tiers have different rate limits and detection thresholds:</p> <ul> <li>Tier A (Trusted): Most lenient thresholds, highest rate limits</li> <li>Tier B (Verified): Moderate thresholds and rate limits</li> <li>Tier C (Unverified): Strictest thresholds, lowest rate limits</li> </ul> <p>Attributes:</p> <ul> <li>A \u2013 Tier A - Trusted devices with verified attestation.</li> <li>B \u2013 Tier B - Verified devices without full attestation.</li> <li>C \u2013 Tier C - Unverified or new devices.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheattrusttiera","title":"# <code>leadr.scores.domain.anti_cheat.TrustTier.A</code>","text":"<pre><code>A = 'A'\n</code></pre> <p>Tier A - Trusted devices with verified attestation.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheattrusttierb","title":"# <code>leadr.scores.domain.anti_cheat.TrustTier.B</code>","text":"<pre><code>B = 'B'\n</code></pre> <p>Tier B - Verified devices without full attestation.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheattrusttierc","title":"# <code>leadr.scores.domain.anti_cheat.TrustTier.C</code>","text":"<pre><code>C = 'C'\n</code></pre> <p>Tier C - Unverified or new devices.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenums","title":"<code>leadr.scores.domain.anti_cheat.enums</code>","text":"<p>Anti-cheat enums for flag types, confidence levels, and actions.</p> <p>Classes:</p> <ul> <li>FlagAction \u2013 Action to take based on anti-cheat analysis.</li> <li>FlagConfidence \u2013 Confidence level for anti-cheat detection.</li> <li>FlagType \u2013 Type of anti-cheat flag detected.</li> <li>ScoreFlagStatus \u2013 Status of a score flag review.</li> <li>TrustTier \u2013 Trust tier for devices/users, determining anti-cheat thresholds.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagaction","title":"# <code>leadr.scores.domain.anti_cheat.enums.FlagAction</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Action to take based on anti-cheat analysis.</p> <p>Determines how the score submission should be handled.</p> <p>Attributes:</p> <ul> <li>ACCEPT \u2013 Accept the score submission without any flags.</li> <li>FLAG \u2013 Accept the score but flag it for manual review.</li> <li>REJECT \u2013 Reject the score submission (do not save to database).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagactionaccept","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagAction.ACCEPT</code>","text":"<pre><code>ACCEPT = 'ACCEPT'\n</code></pre> <p>Accept the score submission without any flags.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagactionflag","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagAction.FLAG</code>","text":"<pre><code>FLAG = 'FLAG'\n</code></pre> <p>Accept the score but flag it for manual review.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagactionreject","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagAction.REJECT</code>","text":"<pre><code>REJECT = 'REJECT'\n</code></pre> <p>Reject the score submission (do not save to database).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagconfidence","title":"# <code>leadr.scores.domain.anti_cheat.enums.FlagConfidence</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Confidence level for anti-cheat detection.</p> <p>Determines the action taken when a flag is raised:</p> <ul> <li>HIGH: Auto-reject submission</li> <li>MEDIUM: Flag for manual review, accept submission</li> <li>LOW: Log for analysis, accept submission</li> </ul> <p>Attributes:</p> <ul> <li>HIGH \u2013 High confidence detection - reject submission.</li> <li>LOW \u2013 Low confidence detection - log but accept.</li> <li>MEDIUM \u2013 Medium confidence detection - flag for review but accept.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagconfidencehigh","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagConfidence.HIGH</code>","text":"<pre><code>HIGH = 'HIGH'\n</code></pre> <p>High confidence detection - reject submission.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagconfidencelow","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagConfidence.LOW</code>","text":"<pre><code>LOW = 'LOW'\n</code></pre> <p>Low confidence detection - log but accept.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagconfidencemedium","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagConfidence.MEDIUM</code>","text":"<pre><code>MEDIUM = 'MEDIUM'\n</code></pre> <p>Medium confidence detection - flag for review but accept.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtype","title":"# <code>leadr.scores.domain.anti_cheat.enums.FlagType</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Type of anti-cheat flag detected.</p> <p>Each flag type represents a different detection tactic used to identify potentially suspicious score submissions.</p> <p>Attributes:</p> <ul> <li>CLUSTER \u2013 Multiple users submitting identical scores in short time window.</li> <li>DUPLICATE \u2013 Identical score value submitted multiple times in short time window.</li> <li>IMPOSSIBLE_VALUE \u2013 Score contains mathematically impossible value (negative, NaN, etc).</li> <li>OUTLIER \u2013 Score is statistically anomalous compared to board distribution.</li> <li>PATTERN \u2013 Suspicious pattern detected in submission history (all round numbers, etc).</li> <li>PROGRESSION \u2013 Unrealistic improvement percentage between submissions.</li> <li>RATE_LIMIT \u2013 Score submission exceeds rate limits for the user/board.</li> <li>VELOCITY \u2013 Submissions are happening too quickly (&lt; 2 seconds apart).</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypecluster","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.CLUSTER</code>","text":"<pre><code>CLUSTER = 'CLUSTER'\n</code></pre> <p>Multiple users submitting identical scores in short time window.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypeduplicate","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.DUPLICATE</code>","text":"<pre><code>DUPLICATE = 'DUPLICATE'\n</code></pre> <p>Identical score value submitted multiple times in short time window.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypeimpossible_value","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.IMPOSSIBLE_VALUE</code>","text":"<pre><code>IMPOSSIBLE_VALUE = 'IMPOSSIBLE_VALUE'\n</code></pre> <p>Score contains mathematically impossible value (negative, NaN, etc).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypeoutlier","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.OUTLIER</code>","text":"<pre><code>OUTLIER = 'OUTLIER'\n</code></pre> <p>Score is statistically anomalous compared to board distribution.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypepattern","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.PATTERN</code>","text":"<pre><code>PATTERN = 'PATTERN'\n</code></pre> <p>Suspicious pattern detected in submission history (all round numbers, etc).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypeprogression","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.PROGRESSION</code>","text":"<pre><code>PROGRESSION = 'PROGRESSION'\n</code></pre> <p>Unrealistic improvement percentage between submissions.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtyperate_limit","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.RATE_LIMIT</code>","text":"<pre><code>RATE_LIMIT = 'RATE_LIMIT'\n</code></pre> <p>Score submission exceeds rate limits for the user/board.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsflagtypevelocity","title":"## <code>leadr.scores.domain.anti_cheat.enums.FlagType.VELOCITY</code>","text":"<pre><code>VELOCITY = 'VELOCITY'\n</code></pre> <p>Submissions are happening too quickly (&lt; 2 seconds apart).</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsscoreflagstatus","title":"# <code>leadr.scores.domain.anti_cheat.enums.ScoreFlagStatus</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Status of a score flag review.</p> <p>Indicates whether a flag has been reviewed and what decision was made.</p> <p>Attributes:</p> <ul> <li>CONFIRMED_CHEAT \u2013 Admin confirmed this is cheating behavior.</li> <li>DISMISSED \u2013 Admin dismissed the flag without a specific determination.</li> <li>FALSE_POSITIVE \u2013 Admin determined this was legitimate gameplay.</li> <li>PENDING \u2013 Flag has not been reviewed yet.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsscoreflagstatusconfirmed_cheat","title":"## <code>leadr.scores.domain.anti_cheat.enums.ScoreFlagStatus.CONFIRMED_CHEAT</code>","text":"<pre><code>CONFIRMED_CHEAT = 'CONFIRMED_CHEAT'\n</code></pre> <p>Admin confirmed this is cheating behavior.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsscoreflagstatusdismissed","title":"## <code>leadr.scores.domain.anti_cheat.enums.ScoreFlagStatus.DISMISSED</code>","text":"<pre><code>DISMISSED = 'DISMISSED'\n</code></pre> <p>Admin dismissed the flag without a specific determination.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsscoreflagstatusfalse_positive","title":"## <code>leadr.scores.domain.anti_cheat.enums.ScoreFlagStatus.FALSE_POSITIVE</code>","text":"<pre><code>FALSE_POSITIVE = 'FALSE_POSITIVE'\n</code></pre> <p>Admin determined this was legitimate gameplay.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumsscoreflagstatuspending","title":"## <code>leadr.scores.domain.anti_cheat.enums.ScoreFlagStatus.PENDING</code>","text":"<pre><code>PENDING = 'PENDING'\n</code></pre> <p>Flag has not been reviewed yet.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumstrusttier","title":"# <code>leadr.scores.domain.anti_cheat.enums.TrustTier</code>","text":"<p>Bases: <code>str</code>, <code>Enum</code></p> <p>Trust tier for devices/users, determining anti-cheat thresholds.</p> <p>Different tiers have different rate limits and detection thresholds:</p> <ul> <li>Tier A (Trusted): Most lenient thresholds, highest rate limits</li> <li>Tier B (Verified): Moderate thresholds and rate limits</li> <li>Tier C (Unverified): Strictest thresholds, lowest rate limits</li> </ul> <p>Attributes:</p> <ul> <li>A \u2013 Tier A - Trusted devices with verified attestation.</li> <li>B \u2013 Tier B - Verified devices without full attestation.</li> <li>C \u2013 Tier C - Unverified or new devices.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumstrusttiera","title":"## <code>leadr.scores.domain.anti_cheat.enums.TrustTier.A</code>","text":"<pre><code>A = 'A'\n</code></pre> <p>Tier A - Trusted devices with verified attestation.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumstrusttierb","title":"## <code>leadr.scores.domain.anti_cheat.enums.TrustTier.B</code>","text":"<pre><code>B = 'B'\n</code></pre> <p>Tier B - Verified devices without full attestation.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatenumstrusttierc","title":"## <code>leadr.scores.domain.anti_cheat.enums.TrustTier.C</code>","text":"<pre><code>C = 'C'\n</code></pre> <p>Tier C - Unverified or new devices.</p>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodels","title":"<code>leadr.scores.domain.anti_cheat.models</code>","text":"<p>Anti-cheat domain models.</p> <p>Classes:</p> <ul> <li>AntiCheatResult \u2013 Result of anti-cheat analysis on a score submission.</li> <li>ScoreFlag \u2013 Record of an anti-cheat flag raised for a score submission.</li> <li>ScoreSubmissionMeta \u2013 Metadata tracking submission history for anti-cheat analysis.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresult","title":"# <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult</code>","text":"<p>Bases: <code>BaseModel</code></p> <p>Result of anti-cheat analysis on a score submission.</p> <p>This is a value object that encapsulates the decision made by the anti-cheat system. It indicates whether to accept, flag, or reject a score submission, along with the reasoning and supporting metadata.</p> <p>Attributes:</p> <ul> <li>action (<code>FlagAction</code>) \u2013</li> <li>confidence (<code>FlagConfidence | None</code>) \u2013</li> <li>flag_type (<code>FlagType | None</code>) \u2013</li> <li>metadata (<code>dict[str, Any] | None</code>) \u2013</li> <li>model_config \u2013</li> <li>reason (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultaction","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.action</code>","text":"<pre><code>action: FlagAction = Field(description='Action to take (ACCEPT/FLAG/REJECT)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultconfidence","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.confidence</code>","text":"<pre><code>confidence: FlagConfidence | None = Field(default=None, description='Confidence level of detection (if flagged/rejected)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultflag_type","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.flag_type</code>","text":"<pre><code>flag_type: FlagType | None = Field(default=None, description='Type of flag detected (if flagged/rejected)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultmetadata","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.metadata</code>","text":"<pre><code>metadata: dict[str, Any] | None = Field(default=None, description='Additional context and data supporting the decision')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultmodel_config","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.model_config</code>","text":"<pre><code>model_config = {'frozen': True}\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsanticheatresultreason","title":"## <code>leadr.scores.domain.anti_cheat.models.AntiCheatResult.reason</code>","text":"<pre><code>reason: str | None = Field(default=None, description='Human-readable reason for the action')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflag","title":"# <code>leadr.scores.domain.anti_cheat.models.ScoreFlag</code>","text":"<p>Bases: <code>Entity</code></p> <p>Record of an anti-cheat flag raised for a score submission.</p> <p>Represents a suspicious pattern detected by the anti-cheat system. Flags can be reviewed by admins to confirm or dismiss the detection.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>confidence (<code>FlagConfidence</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>flag_type (<code>FlagType</code>) \u2013</li> <li>id (<code>ScoreFlagID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>metadata (<code>dict[str, Any]</code>) \u2013</li> <li>model_config \u2013</li> <li>reviewed_at (<code>datetime | None</code>) \u2013</li> <li>reviewer_decision (<code>str | None</code>) \u2013</li> <li>reviewer_id (<code>UserID | None</code>) \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>status (<code>ScoreFlagStatus</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagconfidence","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.confidence</code>","text":"<pre><code>confidence: FlagConfidence = Field(description='Confidence level of detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagcreated_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagdeleted_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagflag_type","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.flag_type</code>","text":"<pre><code>flag_type: FlagType = Field(description='Type of suspicious behavior detected')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagid","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.id</code>","text":"<pre><code>id: ScoreFlagID = Field(frozen=True, default_factory=ScoreFlagID, description='Unique score flag identifier')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagis_deleted","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagmetadata","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.metadata</code>","text":"<pre><code>metadata: dict[str, Any] = Field(default_factory=dict, description='Supporting data for the detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagmodel_config","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagrestore","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagreviewed_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.reviewed_at</code>","text":"<pre><code>reviewed_at: datetime | None = Field(default=None, description='When the flag was reviewed by an admin')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagreviewer_decision","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.reviewer_decision</code>","text":"<pre><code>reviewer_decision: str | None = Field(default=None, description=\"Admin's decision/notes on the flag\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagreviewer_id","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.reviewer_id</code>","text":"<pre><code>reviewer_id: UserID | None = Field(default=None, description='ID of the admin who reviewed the flag')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagscore_id","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.score_id</code>","text":"<pre><code>score_id: ScoreID = Field(description='ID of the flagged score')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagsoft_delete","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagstatus","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.status</code>","text":"<pre><code>status: ScoreFlagStatus = Field(default=(ScoreFlagStatus.PENDING), description='Review status (PENDING/CONFIRMED_CHEAT/FALSE_POSITIVE/DISMISSED)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoreflagupdated_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreFlag.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmeta","title":"# <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta</code>","text":"<p>Bases: <code>Entity</code></p> <p>Metadata tracking submission history for anti-cheat analysis.</p> <p>Tracks the number and timing of score submissions per device/board combination to enable detection of suspicious patterns like rapid-fire submissions or excessive submission rates.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> </ul> <p>Attributes:</p> <ul> <li>board_id (<code>BoardID</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>id (<code>ScoreSubmissionMetaID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>last_score_value (<code>float | None</code>) \u2013</li> <li>last_submission_at (<code>datetime</code>) \u2013</li> <li>model_config \u2013</li> <li>score_id (<code>ScoreID</code>) \u2013</li> <li>submission_count (<code>int</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetaboard_id","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.board_id</code>","text":"<pre><code>board_id: BoardID = Field(description='ID of the board being submitted to')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetacreated_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetadeleted_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetadevice_id","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(description='ID of the device submitting scores')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetaid","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.id</code>","text":"<pre><code>id: ScoreSubmissionMetaID = Field(frozen=True, default_factory=ScoreSubmissionMetaID, description='Unique submission metadata identifier')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetais_deleted","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetalast_score_value","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.last_score_value</code>","text":"<pre><code>last_score_value: float | None = Field(default=None, description='Value of the most recent score submission for duplicate detection')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetalast_submission_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.last_submission_at</code>","text":"<pre><code>last_submission_at: datetime = Field(description='Timestamp of the most recent submission')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetamodel_config","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetarestore","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetascore_id","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.score_id</code>","text":"<pre><code>score_id: ScoreID = Field(description='ID of the most recent score submission')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetasoft_delete","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetasubmission_count","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.submission_count</code>","text":"<pre><code>submission_count: int = Field(default=1, description='Total number of submissions by this device to this board')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainanti_cheatmodelsscoresubmissionmetaupdated_at","title":"## <code>leadr.scores.domain.anti_cheat.models.ScoreSubmissionMeta.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscore","title":"<code>leadr.scores.domain.score</code>","text":"<p>Score domain entity.</p> <p>Classes:</p> <ul> <li>Score \u2013 Score represents a player's score submission for a board.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainscorescore","title":"<code>leadr.scores.domain.score.Score</code>","text":"<p>Bases: <code>Entity</code></p> <p>Score represents a player's score submission for a board.</p> <p>Scores are immutable in terms of their associations (account, game, board, device) but mutable in terms of their value and metadata for corrections/updates.</p> <p>Functions:</p> <ul> <li>restore \u2013 Restore a soft-deleted entity.</li> <li>soft_delete \u2013 Mark entity as soft-deleted.</li> <li>validate_metadata_size \u2013 Validate that metadata does not exceed size limit.</li> <li>validate_player_name \u2013 Validate that player_name is not empty and strip whitespace.</li> </ul> <p>Attributes:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013</li> <li>board_id (<code>BoardID</code>) \u2013</li> <li>city (<code>str | None</code>) \u2013</li> <li>country (<code>str | None</code>) \u2013</li> <li>created_at (<code>datetime</code>) \u2013</li> <li>deleted_at (<code>datetime | None</code>) \u2013</li> <li>device_id (<code>DeviceID</code>) \u2013</li> <li>game_id (<code>GameID</code>) \u2013</li> <li>id (<code>ScoreID</code>) \u2013</li> <li>is_deleted (<code>bool</code>) \u2013 Check if entity is soft-deleted.</li> <li>metadata (<code>Any | None</code>) \u2013</li> <li>model_config \u2013</li> <li>player_name (<code>str</code>) \u2013</li> <li>timezone (<code>str | None</code>) \u2013</li> <li>updated_at (<code>datetime</code>) \u2013</li> <li>value (<code>float</code>) \u2013</li> <li>value_display (<code>str | None</code>) \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreaccount_id","title":"# <code>leadr.scores.domain.score.Score.account_id</code>","text":"<pre><code>account_id: AccountID = Field(frozen=True, description='ID of the account this score belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreboard_id","title":"# <code>leadr.scores.domain.score.Score.board_id</code>","text":"<pre><code>board_id: BoardID = Field(frozen=True, description='ID of the board this score belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorecity","title":"# <code>leadr.scores.domain.score.Score.city</code>","text":"<pre><code>city: str | None = Field(default=None, description='Optional city filter for score categorization')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorecountry","title":"# <code>leadr.scores.domain.score.Score.country</code>","text":"<pre><code>country: str | None = Field(default=None, description='Optional country filter for score categorization')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorecreated_at","title":"# <code>leadr.scores.domain.score.Score.created_at</code>","text":"<pre><code>created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when entity was created (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoredeleted_at","title":"# <code>leadr.scores.domain.score.Score.deleted_at</code>","text":"<pre><code>deleted_at: datetime | None = Field(default=None, description='Timestamp when entity was soft-deleted (UTC), or null if active')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoredevice_id","title":"# <code>leadr.scores.domain.score.Score.device_id</code>","text":"<pre><code>device_id: DeviceID = Field(frozen=True, description='ID of the device that submitted this score (immutable)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoregame_id","title":"# <code>leadr.scores.domain.score.Score.game_id</code>","text":"<pre><code>game_id: GameID = Field(frozen=True, description='ID of the game this score belongs to (immutable)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreid","title":"# <code>leadr.scores.domain.score.Score.id</code>","text":"<pre><code>id: ScoreID = Field(frozen=True, default_factory=ScoreID, description='Unique score identifier')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreis_deleted","title":"# <code>leadr.scores.domain.score.Score.is_deleted</code>","text":"<pre><code>is_deleted: bool\n</code></pre> <p>Check if entity is soft-deleted.</p> <p>Returns:</p> <ul> <li><code>bool</code> \u2013 True if the entity has a deleted_at timestamp, False otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoremetadata","title":"# <code>leadr.scores.domain.score.Score.metadata</code>","text":"<pre><code>metadata: Any | None = Field(default=None, description='Optional JSON metadata for game-specific data (loadouts, seeds, etc.)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoremodel_config","title":"# <code>leadr.scores.domain.score.Score.model_config</code>","text":"<pre><code>model_config = ConfigDict(validate_assignment=True)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreplayer_name","title":"# <code>leadr.scores.domain.score.Score.player_name</code>","text":"<pre><code>player_name: str = Field(description='Display name of the player')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorerestore","title":"# <code>leadr.scores.domain.score.Score.restore</code>","text":"<pre><code>restore()\n</code></pre> <p>Restore a soft-deleted entity.</p> <p>Clears the deleted_at timestamp, making the entity active again.</p> Example  &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; account.restore() &gt; &gt; &gt; assert account.is_deleted is False"},{"location":"api/reference/scores/#leadrscoresdomainscorescoresoft_delete","title":"# <code>leadr.scores.domain.score.Score.soft_delete</code>","text":"<pre><code>soft_delete()\n</code></pre> <p>Mark entity as soft-deleted.</p> <p>Sets the deleted_at timestamp to the current UTC time. Entities that are already deleted are not affected (deleted_at remains at original deletion time).</p> Example  &gt; &gt; &gt; account = Account(name=\"Test\", slug=\"test\") &gt; &gt; &gt; account.soft_delete() &gt; &gt; &gt; assert account.is_deleted is True"},{"location":"api/reference/scores/#leadrscoresdomainscorescoretimezone","title":"# <code>leadr.scores.domain.score.Score.timezone</code>","text":"<pre><code>timezone: str | None = Field(default=None, description='Optional timezone filter for score categorization')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescoreupdated_at","title":"# <code>leadr.scores.domain.score.Score.updated_at</code>","text":"<pre><code>updated_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp of last update (UTC)')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorevalidate_metadata_size","title":"# <code>leadr.scores.domain.score.Score.validate_metadata_size</code>","text":"<pre><code>validate_metadata_size(v)\n</code></pre> <p>Validate that metadata does not exceed size limit.</p> <p>Parameters:</p> <ul> <li>v (<code>Any</code>) \u2013 The metadata to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>Any</code> \u2013 The validated metadata.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If metadata exceeds the configured size limit.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorevalidate_player_name","title":"# <code>leadr.scores.domain.score.Score.validate_player_name</code>","text":"<pre><code>validate_player_name(v)\n</code></pre> <p>Validate that player_name is not empty and strip whitespace.</p> <p>Parameters:</p> <ul> <li>v (<code>str</code>) \u2013 The player_name to validate.</li> </ul> <p>Returns:</p> <ul> <li><code>str</code> \u2013 The validated and trimmed player_name.</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If player_name is empty or whitespace only.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorevalue","title":"# <code>leadr.scores.domain.score.Score.value</code>","text":"<pre><code>value: float = Field(description='Numeric value of the score for sorting/comparison')\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresdomainscorescorevalue_display","title":"# <code>leadr.scores.domain.score.Score.value_display</code>","text":"<pre><code>value_display: str | None = Field(default=None, description=\"Optional formatted display string (e.g., '1:23.45', '1,234 points')\")\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservices","title":"<code>leadr.scores.services</code>","text":"<p>Modules:</p> <ul> <li>anti_cheat_repositories \u2013 Anti-cheat repository services.</li> <li>anti_cheat_service \u2013 Anti-cheat service for detecting suspicious score submissions.</li> <li>dependencies \u2013 Score service dependencies for FastAPI dependency injection.</li> <li>repositories \u2013 Score repository services.</li> <li>score_flag_service \u2013 Score flag service for managing flag operations.</li> <li>score_service \u2013 Score service for managing score operations.</li> <li>score_submission_meta_service \u2013 Service for score submission metadata management.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositories","title":"<code>leadr.scores.services.anti_cheat_repositories</code>","text":"<p>Anti-cheat repository services.</p> <p>Classes:</p> <ul> <li>ScoreFlagRepository \u2013 Repository for managing score flag persistence.</li> <li>ScoreSubmissionMetaRepository \u2013 Repository for managing score submission metadata persistence.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepository","title":"<code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository</code>","text":"<p>Bases: <code>BaseRepository[ScoreFlag, ScoreFlagORM]</code></p> <p>Repository for managing score flag persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter flags by account and optional criteria with pagination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_flags_by_score_id \u2013 Get all flags for a specific score.</li> <li>get_pending_flags \u2013 Get all pending (unreviewed) flags.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositorysortable_fields","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'score_id', 'flag_type', 'confidence', 'status', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositorycreate","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositorydelete","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositoryfilter","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.filter</code>","text":"<pre><code>filter(account_id=None, board_id=None, game_id=None, status=None, flag_type=None, *, pagination, **kwargs)\n</code></pre> <p>Filter flags by account and optional criteria with pagination.</p> <p>Joins with scores table to filter by account_id since flags don't have a direct account relation.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all flags   (superadmin use case). Regular users should always pass account_id.</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>status (<code>str | None</code>) \u2013 Optional status to filter by (PENDING, CONFIRMED_CHEAT, etc.)</li> <li>flag_type (<code>str | None</code>) \u2013 Optional flag type to filter by (VELOCITY, DUPLICATE, etc.)</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[ScoreFlag]</code> \u2013 PaginatedResult containing flags matching the filter criteria</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositoryget_by_id","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositoryget_flags_by_score_id","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.get_flags_by_score_id</code>","text":"<pre><code>get_flags_by_score_id(score_id)\n</code></pre> <p>Get all flags for a specific score.</p> <p>Parameters:</p> <ul> <li>score_id (<code>ScoreID</code>) \u2013 ID of the score to get flags for</li> </ul> <p>Returns:</p> <ul> <li><code>list[ScoreFlag]</code> \u2013 List of flags for the score (excludes soft-deleted)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositoryget_pending_flags","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.get_pending_flags</code>","text":"<pre><code>get_pending_flags()\n</code></pre> <p>Get all pending (unreviewed) flags.</p> <p>Returns:</p> <ul> <li><code>list[ScoreFlag]</code> \u2013 List of flags with status PENDING (excludes soft-deleted)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositorysession","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoreflagrepositoryupdate","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreFlagRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepository","title":"<code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository</code>","text":"<p>Bases: <code>BaseRepository[ScoreSubmissionMeta, ScoreSubmissionMetaORM]</code></p> <p>Repository for managing score submission metadata persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter submission metadata by account and optional criteria with pagination.</li> <li>get_by_device_and_board \u2013 Get submission metadata for a device/board combination.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositorysortable_fields","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'device_id', 'board_id', 'submission_count', 'last_submission_at', 'last_score_value', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositorycreate","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositorydelete","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositoryfilter","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.filter</code>","text":"<pre><code>filter(account_id=None, board_id=None, device_id=None, *, pagination, **kwargs)\n</code></pre> <p>Filter submission metadata by account and optional criteria with pagination.</p> <p>Joins with scores table to filter by account_id since submission meta doesn't have a direct account relation.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all metadata   (superadmin use case). Regular users should always pass account_id.</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[ScoreSubmissionMeta]</code> \u2013 PaginatedResult containing submission metadata matching the filter criteria</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositoryget_by_device_and_board","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.get_by_device_and_board</code>","text":"<pre><code>get_by_device_and_board(device_id, board_id)\n</code></pre> <p>Get submission metadata for a device/board combination.</p> <p>Parameters:</p> <ul> <li>device_id (<code>DeviceID</code>) \u2013 ID of the device submitting scores</li> <li>board_id (<code>BoardID</code>) \u2013 ID of the board being submitted to</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreSubmissionMeta | None</code> \u2013 ScoreSubmissionMeta if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositoryget_by_id","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositorysession","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_repositoriesscoresubmissionmetarepositoryupdate","title":"# <code>leadr.scores.services.anti_cheat_repositories.ScoreSubmissionMetaRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_service","title":"<code>leadr.scores.services.anti_cheat_service</code>","text":"<p>Anti-cheat service for detecting suspicious score submissions.</p> <p>Classes:</p> <ul> <li>AntiCheatService \u2013 Service for anti-cheat detection and analysis.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_serviceanticheatservice","title":"<code>leadr.scores.services.anti_cheat_service.AntiCheatService</code>","text":"<pre><code>AntiCheatService(session)\n</code></pre> <p>Service for anti-cheat detection and analysis.</p> <p>Implements various detection tactics to identify suspicious score submissions:</p> <ul> <li>Rate limiting: Prevents excessive submissions per device/board</li> <li>Duplicate detection: Identifies repeated identical scores</li> <li>Velocity detection: Detects rapid-fire submissions</li> <li>Statistical outliers: Identifies anomalous scores</li> <li>Pattern detection: Finds suspicious submission patterns</li> </ul> <p>Functions:</p> <ul> <li>check_submission \u2013 Check a score submission for suspicious patterns.</li> </ul> <p>Attributes:</p> <ul> <li>meta_repo \u2013</li> <li>session \u2013</li> </ul> <p>Parameters:</p> <ul> <li>session (<code>AsyncSession</code>) \u2013 Database session for querying metadata</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_serviceanticheatservicecheck_submission","title":"# <code>leadr.scores.services.anti_cheat_service.AntiCheatService.check_submission</code>","text":"<pre><code>check_submission(score, trust_tier, device_id, board_id)\n</code></pre> <p>Check a score submission for suspicious patterns.</p> <p>Parameters:</p> <ul> <li>score (<code>Score</code>) \u2013 Score being submitted</li> <li>trust_tier (<code>TrustTier</code>) \u2013 Trust tier of the device (A/B/C)</li> <li>device_id (<code>DeviceID</code>) \u2013 ID of the device submitting the score</li> <li>board_id (<code>BoardID</code>) \u2013 ID of the board being submitted to</li> </ul> <p>Returns:</p> <ul> <li><code>AntiCheatResult</code> \u2013 AntiCheatResult indicating action to take (ACCEPT/FLAG/REJECT)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_serviceanticheatservicemeta_repo","title":"# <code>leadr.scores.services.anti_cheat_service.AntiCheatService.meta_repo</code>","text":"<pre><code>meta_repo = ScoreSubmissionMetaRepository(session)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesanti_cheat_serviceanticheatservicesession","title":"# <code>leadr.scores.services.anti_cheat_service.AntiCheatService.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesdependencies","title":"<code>leadr.scores.services.dependencies</code>","text":"<p>Score service dependencies for FastAPI dependency injection.</p> <p>Functions:</p> <ul> <li>get_score_flag_service \u2013 Get ScoreFlagService dependency.</li> <li>get_score_service \u2013 Get ScoreService dependency.</li> <li>get_score_submission_meta_service \u2013 Get ScoreSubmissionMetaService dependency.</li> </ul> <p>Attributes:</p> <ul> <li>ScoreFlagServiceDep \u2013</li> <li>ScoreServiceDep \u2013</li> <li>ScoreSubmissionMetaServiceDep \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesscoreflagservicedep","title":"<code>leadr.scores.services.dependencies.ScoreFlagServiceDep</code>","text":"<pre><code>ScoreFlagServiceDep = Annotated[ScoreFlagService, Depends(get_score_flag_service)]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesscoreservicedep","title":"<code>leadr.scores.services.dependencies.ScoreServiceDep</code>","text":"<pre><code>ScoreServiceDep = Annotated[ScoreService, Depends(get_score_service)]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesscoresubmissionmetaservicedep","title":"<code>leadr.scores.services.dependencies.ScoreSubmissionMetaServiceDep</code>","text":"<pre><code>ScoreSubmissionMetaServiceDep = Annotated[ScoreSubmissionMetaService, Depends(get_score_submission_meta_service)]\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesget_score_flag_service","title":"<code>leadr.scores.services.dependencies.get_score_flag_service</code>","text":"<pre><code>get_score_flag_service(db)\n</code></pre> <p>Get ScoreFlagService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session from dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlagService</code> \u2013 Initialized ScoreFlagService instance</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesget_score_service","title":"<code>leadr.scores.services.dependencies.get_score_service</code>","text":"<pre><code>get_score_service(db)\n</code></pre> <p>Get ScoreService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session from dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreService</code> \u2013 Initialized ScoreService instance</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesdependenciesget_score_submission_meta_service","title":"<code>leadr.scores.services.dependencies.get_score_submission_meta_service</code>","text":"<pre><code>get_score_submission_meta_service(db)\n</code></pre> <p>Get ScoreSubmissionMetaService dependency.</p> <p>Parameters:</p> <ul> <li>db (<code>DatabaseSession</code>) \u2013 Database session from dependency injection</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreSubmissionMetaService</code> \u2013 Initialized ScoreSubmissionMetaService instance</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositories","title":"<code>leadr.scores.services.repositories</code>","text":"<p>Score repository services.</p> <p>Classes:</p> <ul> <li>ScoreRepository \u2013 Score repository for managing score persistence.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepository","title":"<code>leadr.scores.services.repositories.ScoreRepository</code>","text":"<p>Bases: <code>BaseRepository[Score, ScoreORM]</code></p> <p>Score repository for managing score persistence.</p> <p>Functions:</p> <ul> <li>create \u2013 Create a new entity in the database.</li> <li>delete \u2013 Soft delete an entity by setting its deleted_at timestamp.</li> <li>filter \u2013 Filter scores by account and optional criteria.</li> <li>get_by_device_and_board \u2013 Get the active score for a specific device on a board.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>update \u2013 Update an existing entity in the database.</li> </ul> <p>Attributes:</p> <ul> <li>SORTABLE_FIELDS \u2013</li> <li>session \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositorysortable_fields","title":"# <code>leadr.scores.services.repositories.ScoreRepository.SORTABLE_FIELDS</code>","text":"<pre><code>SORTABLE_FIELDS = {'id', 'value', 'player_name', 'filter_timezone', 'filter_country', 'filter_city', 'created_at', 'updated_at'}\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositorycreate","title":"# <code>leadr.scores.services.repositories.ScoreRepository.create</code>","text":"<pre><code>create(entity)\n</code></pre> <p>Create a new entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity to create</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Created domain entity with refreshed data</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositorydelete","title":"# <code>leadr.scores.services.repositories.ScoreRepository.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft delete an entity by setting its deleted_at timestamp.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 ID of entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositoryfilter","title":"# <code>leadr.scores.services.repositories.ScoreRepository.filter</code>","text":"<pre><code>filter(account_id=None, board_id=None, game_id=None, device_id=None, *, pagination, around_score=None, **kwargs)\n</code></pre> <p>Filter scores by account and optional criteria.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Optional account ID to filter by. If None, returns all scores   (superadmin use case). Regular users should always pass account_id.</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> <li>around_score (<code>Score | None</code>) \u2013 Optional target score to center results around. When provided,   returns a window of scores centered on this score (mutually exclusive   with cursor pagination).</li> <li>**kwargs (<code>Any</code>) \u2013 Additional filter parameters (reserved for future use)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Score]</code> \u2013 PaginatedResult containing scores</li> </ul> <p>Raises:</p> <ul> <li><code>ValueError</code> \u2013 If sort field is not in SORTABLE_FIELDS</li> <li><code>CursorValidationError</code> \u2013 If cursor is invalid or state doesn't match</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositoryget_by_device_and_board","title":"# <code>leadr.scores.services.repositories.ScoreRepository.get_by_device_and_board</code>","text":"<pre><code>get_by_device_and_board(account_id, device_id, board_id)\n</code></pre> <p>Get the active score for a specific device on a board.</p> <p>This is an optimized single-record lookup for keep_strategy logic.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 Account ID to filter by (multi-tenant safety).</li> <li>device_id (<code>DeviceID</code>) \u2013 Device ID to search for.</li> <li>board_id (<code>BoardID</code>) \u2013 Board ID to search for.</li> </ul> <p>Returns:</p> <ul> <li><code>Score | None</code> \u2013 The first matching Score or None if no score exists.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositoryget_by_id","title":"# <code>leadr.scores.services.repositories.ScoreRepository.get_by_id</code>","text":"<pre><code>get_by_id(entity_id, include_deleted=False)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID4 | PrefixedID</code>) \u2013 Entity ID to retrieve</li> <li>include_deleted (<code>bool</code>) \u2013 If True, include soft-deleted entities. Defaults to False.</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 Domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositorysession","title":"# <code>leadr.scores.services.repositories.ScoreRepository.session</code>","text":"<pre><code>session = session\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesrepositoriesscorerepositoryupdate","title":"# <code>leadr.scores.services.repositories.ScoreRepository.update</code>","text":"<pre><code>update(entity)\n</code></pre> <p>Update an existing entity in the database.</p> <p>Parameters:</p> <ul> <li>entity (<code>DomainEntityT</code>) \u2013 Domain entity with updated data</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 Updated domain entity with refreshed data</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If entity is not found</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_service","title":"<code>leadr.scores.services.score_flag_service</code>","text":"<p>Score flag service for managing flag operations.</p> <p>Classes:</p> <ul> <li>ScoreFlagService \u2013 Service for managing score flag lifecycle and operations.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservice","title":"<code>leadr.scores.services.score_flag_service.ScoreFlagService</code>","text":"<p>Bases: <code>BaseService[ScoreFlag, ScoreFlagRepository]</code></p> <p>Service for managing score flag lifecycle and operations.</p> <p>This service orchestrates flag listing, retrieval, and review operations by coordinating between the domain models and repository layer.</p> <p>Functions:</p> <ul> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>get_flag \u2013 Get a flag by its ID.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_flags \u2013 List score flags for an account with optional filters and pagination.</li> <li>review_flag \u2013 Review a flag and update its status.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_flag \u2013 Update a flag's status and/or reviewer decision.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicedelete","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagserviceget_by_id","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagserviceget_by_id_or_raise","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagserviceget_flag","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.get_flag</code>","text":"<pre><code>get_flag(flag_id)\n</code></pre> <p>Get a flag by its ID.</p> <p>Parameters:</p> <ul> <li>flag_id (<code>ScoreFlagID</code>) \u2013 The ID of the flag to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlag | None</code> \u2013 The flag if found, None otherwise</li> </ul> Example  &gt; &gt; &gt; flag = await service.get_flag(flag_id)"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicelist_all","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicelist_flags","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.list_flags</code>","text":"<pre><code>list_flags(account_id, board_id=None, game_id=None, status=None, flag_type=None, *, pagination)\n</code></pre> <p>List score flags for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all flags   (superadmin use case).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by</li> <li>status (<code>str | None</code>) \u2013 Optional status to filter by (PENDING, CONFIRMED_CHEAT, etc.)</li> <li>flag_type (<code>str | None</code>) \u2013 Optional flag type to filter by (VELOCITY, DUPLICATE, etc.)</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[ScoreFlag]</code> \u2013 PaginatedResult containing flags matching the filter criteria</li> </ul> Example  &gt; &gt; &gt; flags = await service.list_flags( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... status=\"PENDING\", &gt; &gt; &gt; ... pagination=PaginationParams(cursor=None, limit=100, sort=None), &gt; &gt; &gt; ... )"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicerepository","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicereview_flag","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.review_flag</code>","text":"<pre><code>review_flag(flag_id, status, reviewer_decision=None, reviewer_id=None)\n</code></pre> <p>Review a flag and update its status.</p> <p>Parameters:</p> <ul> <li>flag_id (<code>ScoreFlagID</code>) \u2013 The ID of the flag to review</li> <li>status (<code>ScoreFlagStatus</code>) \u2013 New status (CONFIRMED_CHEAT, FALSE_POSITIVE, DISMISSED)</li> <li>reviewer_decision (<code>str | None</code>) \u2013 Optional admin notes/decision</li> <li>reviewer_id (<code>UserID | None</code>) \u2013 Optional ID of the reviewing admin</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlag</code> \u2013 The updated flag</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the flag doesn't exist</li> </ul> Example  &gt; &gt; &gt; flag = await service.review_flag( &gt; &gt; &gt; ... flag_id=flag.id, &gt; &gt; &gt; ... status=ScoreFlagStatus.CONFIRMED_CHEAT, &gt; &gt; &gt; ... reviewer_decision=\"Verified cheating behavior\", &gt; &gt; &gt; ... )"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagservicesoft_delete","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_flag_servicescoreflagserviceupdate_flag","title":"# <code>leadr.scores.services.score_flag_service.ScoreFlagService.update_flag</code>","text":"<pre><code>update_flag(flag_id, status=None, reviewer_decision=None)\n</code></pre> <p>Update a flag's status and/or reviewer decision.</p> <p>Parameters:</p> <ul> <li>flag_id (<code>ScoreFlagID</code>) \u2013 The ID of the flag to update</li> <li>status (<code>ScoreFlagStatus | None</code>) \u2013 Optional new status</li> <li>reviewer_decision (<code>str | None</code>) \u2013 Optional new reviewer decision</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreFlag</code> \u2013 The updated flag</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the flag doesn't exist</li> </ul> Example  &gt; &gt; &gt; flag = await service.update_flag( &gt; &gt; &gt; ... flag_id=flag.id, &gt; &gt; &gt; ... status=ScoreFlagStatus.FALSE_POSITIVE, &gt; &gt; &gt; ... )"},{"location":"api/reference/scores/#leadrscoresservicesscore_service","title":"<code>leadr.scores.services.score_service</code>","text":"<p>Score service for managing score operations.</p> <p>Classes:</p> <ul> <li>ScoreService \u2013 Service for managing score lifecycle and operations.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservice","title":"<code>leadr.scores.services.score_service.ScoreService</code>","text":"<p>Bases: <code>BaseService[Score, ScoreRepository]</code></p> <p>Service for managing score lifecycle and operations.</p> <p>This service orchestrates score creation, updates, and retrieval by coordinating between the domain models and repository layer. Ensures business rules like board/game validation are enforced.</p> <p>Functions:</p> <ul> <li>create_score \u2013 Create a new score.</li> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>get_score \u2013 Get a score by its ID.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_scores \u2013 List scores for an account with optional filters and pagination.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> <li>update_score \u2013 Update a score's mutable fields.</li> <li>update_submission_metadata \u2013 Update submission metadata and create flags if needed.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicecreate_score","title":"# <code>leadr.scores.services.score_service.ScoreService.create_score</code>","text":"<pre><code>create_score(account_id, game_id, board_id, device_id, player_name, value, value_display=None, timezone=None, country=None, city=None, metadata=None, trust_tier=TrustTier.B, background_tasks=None)\n</code></pre> <p>Create a new score.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID</code>) \u2013 The ID of the account this score belongs to.</li> <li>game_id (<code>GameID</code>) \u2013 The ID of the game this score belongs to.</li> <li>board_id (<code>BoardID</code>) \u2013 The ID of the board this score belongs to.</li> <li>device_id (<code>DeviceID</code>) \u2013 The ID of the device that submitted this score.</li> <li>player_name (<code>str</code>) \u2013 Display name of the player.</li> <li>value (<code>float</code>) \u2013 Numeric value of the score for sorting/comparison.</li> <li>value_display (<code>str | None</code>) \u2013 Optional formatted display string.</li> <li>timezone (<code>str | None</code>) \u2013 Optional timezone filter for categorization.</li> <li>country (<code>str | None</code>) \u2013 Optional country filter for categorization.</li> <li>city (<code>str | None</code>) \u2013 Optional city filter for categorization.</li> <li>metadata (<code>Any | None</code>) \u2013 Optional JSON metadata for game-specific data.</li> <li>trust_tier (<code>TrustTier</code>) \u2013 Trust tier of the device (defaults to B/medium trust).</li> </ul> <p>Returns:</p> <ul> <li><code>tuple[Score, AntiCheatResult | None]</code> \u2013 Tuple of (created Score domain entity, AntiCheatResult or None).</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the board doesn't exist.</li> <li><code>ValueError</code> \u2013 If validation fails (board doesn't belong to account,   game doesn't match board's game, or anti-cheat rejects submission).</li> </ul> Example  &gt; &gt; &gt; score = await service.create_score( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... game_id=game.id, &gt; &gt; &gt; ... board_id=board.id, &gt; &gt; &gt; ... device_id=device.id, &gt; &gt; &gt; ... player_name=\"SpeedRunner99\", &gt; &gt; &gt; ... value=123.45, &gt; &gt; &gt; ... )"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicedelete","title":"# <code>leadr.scores.services.score_service.ScoreService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreserviceget_by_id","title":"# <code>leadr.scores.services.score_service.ScoreService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreserviceget_by_id_or_raise","title":"# <code>leadr.scores.services.score_service.ScoreService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreserviceget_score","title":"# <code>leadr.scores.services.score_service.ScoreService.get_score</code>","text":"<pre><code>get_score(score_id)\n</code></pre> <p>Get a score by its ID.</p> <p>Parameters:</p> <ul> <li>score_id (<code>ScoreID</code>) \u2013 The ID of the score to retrieve.</li> </ul> <p>Returns:</p> <ul> <li><code>Score | None</code> \u2013 The Score domain entity if found, None otherwise.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicelist_all","title":"# <code>leadr.scores.services.score_service.ScoreService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicelist_scores","title":"# <code>leadr.scores.services.score_service.ScoreService.list_scores</code>","text":"<pre><code>list_scores(account_id, board_id=None, game_id=None, device_id=None, *, pagination, around_score_id=None)\n</code></pre> <p>List scores for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all scores   (superadmin use case).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by.</li> <li>game_id (<code>GameID | None</code>) \u2013 Optional game ID to filter by.</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by.</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required).</li> <li>around_score_id (<code>ScoreID | None</code>) \u2013 Optional score ID to center results around. When provided,   returns a window of scores centered on this score. Mutually exclusive   with cursor pagination.</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[Score]</code> \u2013 PaginatedResult containing scores.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If around_score_id is provided but score doesn't exist.</li> <li><code>ValueError</code> \u2013 If around_score_id score doesn't belong to the specified board_id.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicerepository","title":"# <code>leadr.scores.services.score_service.ScoreService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreservicesoft_delete","title":"# <code>leadr.scores.services.score_service.ScoreService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreserviceupdate_score","title":"# <code>leadr.scores.services.score_service.ScoreService.update_score</code>","text":"<pre><code>update_score(score_id, player_name=None, value=None, value_display=None, timezone=None, country=None, city=None, metadata=None)\n</code></pre> <p>Update a score's mutable fields.</p> <p>Parameters:</p> <ul> <li>score_id (<code>ScoreID</code>) \u2013 The ID of the score to update.</li> <li>player_name (<code>str | None</code>) \u2013 Optional new player name.</li> <li>value (<code>float | None</code>) \u2013 Optional new value.</li> <li>value_display (<code>str | None</code>) \u2013 Optional new value display string.</li> <li>timezone (<code>str | None</code>) \u2013 Optional new timezone.</li> <li>country (<code>str | None</code>) \u2013 Optional new country.</li> <li>city (<code>str | None</code>) \u2013 Optional new city.</li> <li>metadata (<code>Any | None</code>) \u2013 Optional new metadata.</li> </ul> <p>Returns:</p> <ul> <li><code>Score</code> \u2013 The updated Score entity.</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the score doesn't exist.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_servicescoreserviceupdate_submission_metadata","title":"# <code>leadr.scores.services.score_service.ScoreService.update_submission_metadata</code>","text":"<pre><code>update_submission_metadata(saved_score, device_id, board_id, anti_cheat_result)\n</code></pre> <p>Update submission metadata and create flags if needed.</p> <p>This method is designed to be called as a background task after score creation to avoid blocking the HTTP response.</p> <p>Parameters:</p> <ul> <li>saved_score (<code>Score</code>) \u2013 The score that was created</li> <li>device_id (<code>DeviceID</code>) \u2013 ID of the device that submitted the score</li> <li>board_id (<code>BoardID</code>) \u2013 ID of the board the score was submitted to</li> <li>anti_cheat_result (<code>AntiCheatResult | None</code>) \u2013 Result from anti-cheat check (or None)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_service","title":"<code>leadr.scores.services.score_submission_meta_service</code>","text":"<p>Service for score submission metadata management.</p> <p>Classes:</p> <ul> <li>ScoreSubmissionMetaService \u2013 Service for managing score submission metadata.</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservice","title":"<code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService</code>","text":"<p>Bases: <code>BaseService[ScoreSubmissionMeta, ScoreSubmissionMetaRepository]</code></p> <p>Service for managing score submission metadata.</p> <p>Provides read-only access to submission metadata for debugging and analysis.</p> <p>Functions:</p> <ul> <li>delete \u2013 Soft-delete an entity.</li> <li>get_by_id \u2013 Get an entity by its ID.</li> <li>get_by_id_or_raise \u2013 Get an entity by its ID or raise EntityNotFoundError.</li> <li>get_submission_meta \u2013 Get submission metadata by its ID.</li> <li>list_all \u2013 List all non-deleted entities.</li> <li>list_submission_meta \u2013 List score submission metadata for an account with optional filters and pagination.</li> <li>soft_delete \u2013 Soft-delete an entity and return it before deletion.</li> </ul> <p>Attributes:</p> <ul> <li>repository \u2013</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservicedelete","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.delete</code>","text":"<pre><code>delete(entity_id)\n</code></pre> <p>Soft-delete an entity.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaserviceget_by_id","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.get_by_id</code>","text":"<pre><code>get_by_id(entity_id)\n</code></pre> <p>Get an entity by its ID.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT | None</code> \u2013 The domain entity if found, None otherwise</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaserviceget_by_id_or_raise","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.get_by_id_or_raise</code>","text":"<pre><code>get_by_id_or_raise(entity_id)\n</code></pre> <p>Get an entity by its ID or raise EntityNotFoundError.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The domain entity</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity is not found   (converted to HTTP 404 by global handler)</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaserviceget_submission_meta","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.get_submission_meta</code>","text":"<pre><code>get_submission_meta(meta_id)\n</code></pre> <p>Get submission metadata by its ID.</p> <p>Parameters:</p> <ul> <li>meta_id (<code>ScoreSubmissionMetaID</code>) \u2013 The ID of the submission metadata to retrieve</li> </ul> <p>Returns:</p> <ul> <li><code>ScoreSubmissionMeta | None</code> \u2013 The submission metadata if found, None otherwise</li> </ul> Example  &gt; &gt; &gt; meta = await service.get_submission_meta(meta_id)"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservicelist_all","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.list_all</code>","text":"<pre><code>list_all()\n</code></pre> <p>List all non-deleted entities.</p> <p>Returns:</p> <ul> <li><code>list[DomainEntityT]</code> \u2013 List of domain entities</li> </ul>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservicelist_submission_meta","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.list_submission_meta</code>","text":"<pre><code>list_submission_meta(account_id, board_id=None, device_id=None, *, pagination)\n</code></pre> <p>List score submission metadata for an account with optional filters and pagination.</p> <p>Parameters:</p> <ul> <li>account_id (<code>AccountID | None</code>) \u2013 Account ID to filter by. If None, returns all metadata   (superadmin use case).</li> <li>board_id (<code>BoardID | None</code>) \u2013 Optional board ID to filter by</li> <li>device_id (<code>DeviceID | None</code>) \u2013 Optional device ID to filter by</li> <li>pagination (<code>PaginationParams</code>) \u2013 Pagination parameters (required)</li> </ul> <p>Returns:</p> <ul> <li><code>PaginatedResult[ScoreSubmissionMeta]</code> \u2013 PaginatedResult containing submission metadata matching the filter criteria</li> </ul> Example  &gt; &gt; &gt; metas = await service.list_submission_meta( &gt; &gt; &gt; ... account_id=account.id, &gt; &gt; &gt; ... board_id=board.id, &gt; &gt; &gt; ... pagination=PaginationParams(cursor=None, limit=100, sort=None), &gt; &gt; &gt; ... )"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservicerepository","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.repository</code>","text":"<pre><code>repository = self._create_repository(session)\n</code></pre>"},{"location":"api/reference/scores/#leadrscoresservicesscore_submission_meta_servicescoresubmissionmetaservicesoft_delete","title":"# <code>leadr.scores.services.score_submission_meta_service.ScoreSubmissionMetaService.soft_delete</code>","text":"<pre><code>soft_delete(entity_id)\n</code></pre> <p>Soft-delete an entity and return it before deletion.</p> <p>Useful for endpoints that need to return the deleted entity in the response.</p> <p>Parameters:</p> <ul> <li>entity_id (<code>UUID | PrefixedID</code>) \u2013 The ID of the entity to delete</li> </ul> <p>Returns:</p> <ul> <li><code>DomainEntityT</code> \u2013 The entity before it was deleted</li> </ul> <p>Raises:</p> <ul> <li><code>EntityNotFoundError</code> \u2013 If the entity doesn't exist</li> </ul>"},{"location":"cli/","title":"LEADR CLI","text":"<p>Command-line tool for managing your LEADR account and leaderboards.</p> <p>Need help? Give us a shout on Discord: discord.gg/RMUukcAxSZ</p>"},{"location":"cli/#what-is-leadr","title":"What is LEADR?","text":"<p>LEADR is the cross-platform leaderboard backend for game developers. The LEADR CLI provides a command-line interface to manage your account, games, leaderboards, and scores.</p>"},{"location":"cli/#quick-links","title":"Quick Links","text":"<ul> <li>Getting Started - Installation and first steps</li> <li>Authentication - How to configure your API key</li> <li>Command Reference - Full command documentation</li> </ul>"},{"location":"cli/#quick-start","title":"Quick Start","text":"<pre><code>curl -sSL https://raw.githubusercontent.com/LEADR-official/leadr-cli-releases/main/install.sh | bash\nleadr register\n</code></pre> <p>See Getting Started for more details.</p>"},{"location":"cli/#features","title":"Features","text":"<ul> <li>Account Management - Create and manage your LEADR account</li> <li>Game Management - Register and configure your games</li> <li>Leaderboard Management - Create and customize leaderboards</li> <li>Score Management - Submit and query scores</li> <li>Anti-Cheat - Review flagged scores and manage devices</li> </ul>"},{"location":"cli/#common-commands","title":"Common Commands","text":"Command Description <code>leadr register</code> Create a new LEADR account <code>leadr auth admin configure</code> Configure your API key <code>leadr game create</code> Create a new game <code>leadr game list</code> List your games <code>leadr board create</code> Create a leaderboard <code>leadr board list</code> List boards for a game <code>leadr score list</code> List scores on a leaderboard <code>leadr --help</code> Show all available commands <code>leadr &lt;command&gt; --help</code> Show help for a specific command"},{"location":"cli/#command-groups","title":"Command Groups","text":"Group Description auth Authentication and API key management account Account management user User management api-key API key management game Game management board Leaderboard management board-template Recurring leaderboard templates score Score management device Device management device-session Device session management score-flag Anti-cheat score flags score-submission-meta Score submission analytics"},{"location":"cli/#documentation","title":"Documentation","text":"<p>For full documentation, visit docs.leadr.gg</p>"},{"location":"cli/authentication/","title":"Authentication","text":"<p>The LEADR CLI uses API keys to authenticate requests to the LEADR API. This guide explains how authentication works and how to manage your credentials.</p>"},{"location":"cli/authentication/#how-it-works","title":"How It Works","text":"<p>When you run <code>leadr register</code> or <code>leadr auth admin configure</code>, the CLI stores your API key in a local configuration file. All subsequent commands use this stored key to authenticate with the LEADR API.</p> <p>Configuration location: <code>~/.leadr/config.toml</code></p> <p>The configuration file is created with restrictive permissions (readable only by you) to protect your credentials.</p>"},{"location":"cli/authentication/#configuring-your-api-key","title":"Configuring Your API Key","text":""},{"location":"cli/authentication/#during-registration","title":"During Registration","text":"<p>When you create a new account with <code>leadr register</code>, an API key is automatically generated and saved:</p> <pre><code>leadr register\n</code></pre>"},{"location":"cli/authentication/#manual-configuration","title":"Manual Configuration","text":"<p>If you already have an API key (e.g., from the LEADR dashboard), configure it manually:</p> <pre><code>leadr auth admin configure\n</code></pre> <p>This command prompts you to enter your API key securely (input is hidden).</p>"},{"location":"cli/authentication/#check-configuration-status","title":"Check Configuration Status","text":"<p>Verify your API key is configured:</p> <pre><code>leadr auth admin status\n</code></pre> <p>This shows whether an API key is saved and its prefix (for identification).</p>"},{"location":"cli/authentication/#clear-saved-credentials","title":"Clear Saved Credentials","text":"<p>Remove your saved API key:</p> <pre><code>leadr auth admin clear\n</code></pre>"},{"location":"cli/authentication/#api-key-format","title":"API Key Format","text":"<p>LEADR API keys have the format <code>ldr_&lt;random-string&gt;</code>.</p> <p>Example: <code>ldr_abc123def456...</code></p> <p>Important: API keys are shown only once when created. Store them securely.</p>"},{"location":"cli/authentication/#account-context","title":"Account Context","text":"<p>Many commands require knowing which account to operate on. The CLI determines this in one of two ways:</p>"},{"location":"cli/authentication/#1-automatic-recommended","title":"1. Automatic (Recommended)","text":"<p>When you authenticate with a non-superadmin API key, the CLI automatically uses your account for all operations. You don't need to specify <code>--account-id</code>.</p> <pre><code># These work without --account-id for regular users\nleadr game list\nleadr board list\nleadr user list\n</code></pre>"},{"location":"cli/authentication/#2-explicit-account-id","title":"2. Explicit Account ID","text":"<p>Superadmin users can operate on any account by specifying <code>--account-id</code>:</p> <pre><code>leadr game list --account-id &lt;account-uuid&gt;\nleadr user create --account-id &lt;account-uuid&gt; --email user@example.com --display-name \"User\"\n</code></pre>"},{"location":"cli/authentication/#creating-additional-api-keys","title":"Creating Additional API Keys","text":"<p>Create additional API keys for team members or services:</p> <pre><code># First, create a user\nleadr user create --email teammate@example.com --display-name \"Teammate\"\n\n# Then create an API key for that user\nleadr api-key create --user-id &lt;user-uuid&gt; --name \"Teammate's Key\"\n</code></pre> <p>Note: The API key value is displayed only once. Make sure to copy and save it.</p>"},{"location":"cli/authentication/#managing-api-keys","title":"Managing API Keys","text":"<p>List all API keys for your account:</p> <pre><code>leadr api-key list\n</code></pre> <p>Get details about a specific key:</p> <pre><code>leadr api-key get --key-id &lt;key-uuid&gt;\n</code></pre> <p>Revoke a compromised or unused key:</p> <pre><code>leadr api-key revoke --key-id &lt;key-uuid&gt;\n</code></pre>"},{"location":"cli/authentication/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Never commit API keys to version control</li> <li>Use separate keys for development and production</li> <li>Revoke unused keys promptly</li> <li>Rotate keys periodically for sensitive applications</li> <li>Use environment variables in CI/CD pipelines instead of storing keys in config files</li> </ol>"},{"location":"cli/authentication/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/authentication/#no-api-key-configured","title":"\"No API key configured\"","text":"<p>Run <code>leadr auth admin configure</code> to set up your API key.</p>"},{"location":"cli/authentication/#invalid-api-key","title":"\"Invalid API key\"","text":"<p>Your API key may have been revoked or is incorrect. Check the key and reconfigure if needed.</p>"},{"location":"cli/authentication/#permission-denied","title":"\"Permission denied\"","text":"<p>You may be trying to access resources outside your account. Contact support if you believe this is an error.</p>"},{"location":"cli/authentication/#command-reference","title":"Command Reference","text":"Command Description <code>leadr auth admin configure</code> Set up API key (interactive) <code>leadr auth admin status</code> Check API key status <code>leadr auth admin clear</code> Remove saved API key <code>leadr api-key create</code> Create a new API key <code>leadr api-key list</code> List all API keys <code>leadr api-key get</code> Get API key details <code>leadr api-key revoke</code> Revoke an API key <p>See API Key Commands for detailed documentation.</p>"},{"location":"cli/getting-started/","title":"Getting Started","text":"<p>This guide walks you through installing the LEADR CLI and setting up your first game and leaderboard.</p>"},{"location":"cli/getting-started/#installation","title":"Installation","text":""},{"location":"cli/getting-started/#quick-install-macoslinux","title":"Quick Install (macOS/Linux)","text":"<pre><code>curl -sSL https://raw.githubusercontent.com/LEADR-official/leadr-cli-releases/main/install.sh | bash\n</code></pre>"},{"location":"cli/getting-started/#manual-download","title":"Manual Download","text":"<p>Download binaries from the Releases page.</p>"},{"location":"cli/getting-started/#verify-installation","title":"Verify Installation","text":"<p>After installation, verify the CLI is working:</p> <pre><code>leadr --version\n</code></pre>"},{"location":"cli/getting-started/#create-your-account","title":"Create Your Account","text":"<p>Register a new LEADR account using the interactive registration command:</p> <pre><code>leadr register\n</code></pre> <p>This will prompt you for:</p> <ul> <li>Email address - Your account email</li> <li>Display name - Your name as shown in the dashboard</li> <li>Account name - Your organization or studio name</li> <li>Account slug - A URL-friendly identifier (e.g., <code>my-studio</code>)</li> </ul> <p>After registration, an API key will be generated and automatically saved to your local configuration.</p>"},{"location":"cli/getting-started/#verify-your-setup","title":"Verify Your Setup","text":"<p>Check that your API key is configured correctly:</p> <pre><code>leadr auth admin status\n</code></pre> <p>View your account information:</p> <pre><code>leadr me\n</code></pre>"},{"location":"cli/getting-started/#create-your-first-game","title":"Create Your First Game","text":"<p>Create a game to start adding leaderboards:</p> <pre><code>leadr game create --name \"My Awesome Game\"\n</code></pre> <p>The command outputs the game details including its UUID. Save this ID for the next steps.</p> <p>List your games to see all registered games:</p> <pre><code>leadr game list\n</code></pre>"},{"location":"cli/getting-started/#create-your-first-leaderboard","title":"Create Your First Leaderboard","text":"<p>Create a leaderboard for your game:</p> <pre><code>leadr board create \\\n  --game-id &lt;game-uuid&gt; \\\n  --name \"High Scores\" \\\n  --short-code highscores \\\n  --sort-direction desc\n</code></pre> <p>Options explained:</p> <ul> <li><code>--game-id</code> - The UUID of your game</li> <li><code>--name</code> - Display name for the leaderboard</li> <li><code>--short-code</code> - A unique identifier used in your game's API calls</li> <li><code>--sort-direction</code> - <code>desc</code> for highest-first (default), <code>asc</code> for lowest-first</li> </ul>"},{"location":"cli/getting-started/#additional-leaderboard-options","title":"Additional Leaderboard Options","text":"<pre><code>leadr board create \\\n  --game-id &lt;game-uuid&gt; \\\n  --name \"Speedrun Times\" \\\n  --short-code speedrun \\\n  --sort-direction asc \\\n  --unit \"seconds\" \\\n  --keep-strategy best\n</code></pre> <ul> <li><code>--unit</code> - Label for the score value (e.g., \"points\", \"seconds\", \"kills\")</li> <li><code>--keep-strategy</code> - How to handle multiple submissions from the same player:</li> <li><code>all</code> - Keep all scores (default)</li> <li><code>best</code> - Keep only the best score</li> <li><code>first</code> - Keep only the first score</li> <li><code>last</code> - Keep only the latest score</li> </ul>"},{"location":"cli/getting-started/#submit-a-test-score","title":"Submit a Test Score","text":"<p>Submit a score to your leaderboard:</p> <pre><code>leadr score create \\\n  --board-id &lt;board-uuid&gt; \\\n  --player-name \"TestPlayer\" \\\n  --value 1000\n</code></pre> <p>With a formatted display value:</p> <pre><code>leadr score create \\\n  --board-id &lt;board-uuid&gt; \\\n  --player-name \"SpeedRunner\" \\\n  --value 125.5 \\\n  --value-display \"2:05.500\"\n</code></pre>"},{"location":"cli/getting-started/#view-leaderboard-scores","title":"View Leaderboard Scores","text":"<p>List scores on a leaderboard:</p> <pre><code>leadr score list --board-id &lt;board-uuid&gt;\n</code></pre> <p>With pagination:</p> <pre><code>leadr score list --board-id &lt;board-uuid&gt; --limit 50\n</code></pre> <p>Fetch all pages:</p> <pre><code>leadr score list --board-id &lt;board-uuid&gt; --all\n</code></pre>"},{"location":"cli/getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Authentication Guide - Learn about API keys and authentication</li> <li>Command Reference - Explore all available commands</li> <li>Board Templates - Set up recurring leaderboards (daily, weekly, etc.)</li> <li>Anti-Cheat Flags - Manage flagged suspicious scores</li> </ul>"},{"location":"cli/commands/","title":"Command Reference","text":"<p>This section documents all available commands in the LEADR CLI.</p>"},{"location":"cli/commands/#global-options","title":"Global Options","text":"<p>All commands support the following global options:</p> Option Description <code>--host &lt;HOST&gt;</code> Override the default API host <code>--help</code> Show help information <code>--version</code> Show version information"},{"location":"cli/commands/#top-level-commands","title":"Top-Level Commands","text":"Command Description <code>register</code> Create a new LEADR account (interactive) <code>me</code> Show current account and user info"},{"location":"cli/commands/#command-groups","title":"Command Groups","text":""},{"location":"cli/commands/#authentication","title":"Authentication","text":"Command Description <code>auth admin configure</code> Configure admin API key <code>auth admin status</code> Show API key status <code>auth admin clear</code> Clear saved API key"},{"location":"cli/commands/#resource-management","title":"Resource Management","text":"Group Description Commands account Account management get, update, delete user User management create, list, get, update, delete api-key API key management create, list, get, revoke game Game management create, list, get, update, delete board Leaderboard management create, list, get, get-by-code, update, delete board-template Recurring leaderboards create, list, get, update, delete score Score management create, list, get, update, delete"},{"location":"cli/commands/#device-anti-cheat","title":"Device &amp; Anti-Cheat","text":"Group Description Commands device Device management list, get, update, delete device-session Device sessions list, get, update, delete score-flag Anti-cheat flags list, get, review, delete"},{"location":"cli/commands/#analytics","title":"Analytics","text":"Group Description Commands score-submission-meta Submission analytics list, get"},{"location":"cli/commands/#full-reference","title":"Full Reference","text":"<p>For a complete single-page reference of all commands, see reference.md.</p>"},{"location":"cli/commands/#getting-help","title":"Getting Help","text":"<p>Get help for any command:</p> <pre><code># General help\nleadr --help\n\n# Help for a command group\nleadr game --help\n\n# Help for a specific command\nleadr game create --help\n</code></pre>"},{"location":"cli/commands/account/","title":"Account","text":"<p>Account management</p>"},{"location":"cli/commands/account/#usage","title":"Usage","text":"<pre><code>leadr account &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/account/#commands","title":"Commands","text":"Command Description <code>get</code> Get account by ID <code>update</code> Update an account <code>delete</code> Delete an account (soft delete)"},{"location":"cli/commands/account/#account-get","title":"account get","text":"<p>Get account by ID</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <p>Example:</p> <pre><code>leadr account get\nleadr account get --account-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/account/#account-update","title":"account update","text":"<p>Update an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--json</code> JSON string with fields to update (e.g., <code>{\"name\": \"New Name\", \"status\": \"suspended\"}</code>) Yes <p>Example:</p> <pre><code>leadr account update --account-id &lt;UUID&gt; --json '{\"name\": \"New Name\"}'\n</code></pre>"},{"location":"cli/commands/account/#account-delete","title":"account delete","text":"<p>Delete an account (soft delete)</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <p>Example:</p> <pre><code>leadr account delete --account-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/api_key/","title":"Api Key","text":"<p>API key management</p>"},{"location":"cli/commands/api_key/#usage","title":"Usage","text":"<pre><code>leadr api-key &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/api_key/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new API key <code>list</code> List API keys for an account <code>get</code> Get API key by ID <code>revoke</code> Revoke an API key (soft delete)"},{"location":"cli/commands/api_key/#api-key-create","title":"api-key create","text":"<p>Create a new API key</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--user-id</code> User ID (UUID) - the user who owns this API key Yes <code>--name</code> API key name Yes <p>Example:</p> <pre><code>leadr api-key create --user-id &lt;UUID&gt; --name \"Production Key\"\n</code></pre>"},{"location":"cli/commands/api_key/#api-key-list","title":"api-key list","text":"<p>List API keys for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <p>Example:</p> <pre><code>leadr api-key list\n</code></pre>"},{"location":"cli/commands/api_key/#api-key-get","title":"api-key get","text":"<p>Get API key by ID</p> <p>Options:</p> Option Description Required <code>--key-id</code> API key ID (UUID) Yes <p>Example:</p> <pre><code>leadr api-key get --key-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/api_key/#api-key-revoke","title":"api-key revoke","text":"<p>Revoke an API key (soft delete)</p> <p>Options:</p> Option Description Required <code>--key-id</code> API key ID (UUID) Yes <p>Example:</p> <pre><code>leadr api-key revoke --key-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/auth/","title":"Auth","text":"<p>Authentication commands</p>"},{"location":"cli/commands/auth/#usage","title":"Usage","text":"<pre><code>leadr auth &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/auth/#commands","title":"Commands","text":"Command Description <code>admin</code> Admin authentication"},{"location":"cli/commands/auth/#auth-admin","title":"Auth Admin","text":"<p>Admin authentication</p>"},{"location":"cli/commands/auth/#commands_1","title":"Commands","text":"Command Description <code>configure</code> Configure admin API key (interactive prompt) <code>status</code> Show API key configuration status <code>clear</code> Clear saved API key"},{"location":"cli/commands/auth/#auth-admin-configure","title":"auth admin configure","text":"<p>Configure admin API key (interactive prompt)</p> <p>Example:</p> <pre><code>leadr auth admin configure\n</code></pre>"},{"location":"cli/commands/auth/#auth-admin-status","title":"auth admin status","text":"<p>Show API key configuration status</p> <p>Example:</p> <pre><code>leadr auth admin status\n</code></pre>"},{"location":"cli/commands/auth/#auth-admin-clear","title":"auth admin clear","text":"<p>Clear saved API key</p> <p>Example:</p> <pre><code>leadr auth admin clear\n</code></pre>"},{"location":"cli/commands/board/","title":"Board","text":"<p>Board (leaderboard) management</p>"},{"location":"cli/commands/board/#usage","title":"Usage","text":"<pre><code>leadr board &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/board/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new board <code>list</code> List boards for an account <code>get</code> Get board by ID <code>get-by-code</code> Get board by short code <code>update</code> Update a board <code>delete</code> Delete a board (soft delete)"},{"location":"cli/commands/board/#board-create","title":"board create","text":"<p>Create a new board</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--game-id</code> Game ID (UUID) Yes <code>--name</code> Board name Yes <code>--description</code> Board description No <code>--icon</code> Icon (emoji or URL) No <code>--short-code</code> Short code (globally unique identifier) No <code>--unit</code> Unit (e.g., \"points\", \"seconds\", \"kills\") No <code>--sort-direction</code> Sort direction (asc or desc) No <code>--keep-strategy</code> Keep strategy (best, first, last, or all) No <code>--is-active</code> Board is active (default: true) No <code>--is-published</code> Board is published/visible to clients (default: true) No <code>--starts-at</code> Optional start time for time-bounded boards (ISO 8601 datetime) No <code>--ends-at</code> Optional end time for time-bounded boards (ISO 8601 datetime) No <p>Example:</p> <pre><code>leadr board create --game-id &lt;UUID&gt; --name \"High Scores\"\nleadr board create --game-id &lt;UUID&gt; --name \"Weekly\" --short-code weekly --sort-direction desc\n</code></pre>"},{"location":"cli/commands/board/#board-list","title":"board list","text":"<p>List boards for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional when using client authentication No <code>--game-id</code> Optional Game ID to filter boards by (UUID) No <p>Example:</p> <pre><code>leadr board list\nleadr board list --game-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/board/#board-get","title":"board get","text":"<p>Get board by ID</p> <p>Options:</p> Option Description Required <code>--board-id</code> Board ID (e.g., <code>brd_xxx</code>) Yes <code>--account-id</code> Account ID (for superadmin cross-account access) No <p>Example:</p> <pre><code>leadr board get --board-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/board/#board-get-by-code","title":"board get-by-code","text":"<p>Get board by short code</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--short-code</code> Short code Yes <p>Example:</p> <pre><code>leadr board get-by-code --short-code highscores\n</code></pre>"},{"location":"cli/commands/board/#board-update","title":"board update","text":"<p>Update a board</p> <p>Options:</p> Option Description Required <code>--board-id</code> Board ID (UUID) Yes <code>--json</code> JSON string with fields to update Yes <p>Example:</p> <pre><code>leadr board update --board-id &lt;UUID&gt; --json '{\"name\": \"New Name\"}'\n</code></pre>"},{"location":"cli/commands/board/#board-delete","title":"board delete","text":"<p>Delete a board (soft delete)</p> <p>Options:</p> Option Description Required <code>--board-id</code> Board ID (UUID) Yes <p>Example:</p> <pre><code>leadr board delete --board-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/board_template/","title":"Board Template","text":"<p>Board template management</p>"},{"location":"cli/commands/board_template/#usage","title":"Usage","text":"<pre><code>leadr board-template &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/board_template/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new board template <code>list</code> List board templates for an account <code>get</code> Get board template by ID <code>update</code> Update a board template <code>delete</code> Delete a board template (soft delete)"},{"location":"cli/commands/board_template/#board-template-create","title":"board-template create","text":"<p>Create a new board template</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--game-id</code> Game ID (UUID) Yes <code>--name</code> Template name Yes <code>--slug</code> URL-friendly slug for boards created from this template No <code>--repeat-interval</code> Repeat interval (<code>PostgreSQL</code> interval syntax, e.g., \"7 days\", \"1 month\") Yes <code>--next-run-at</code> Next run time (ISO 8601 datetime, e.g., \"2025-01-01T00:00:00Z\") Yes <code>--is-active</code> Template is active (default: true) No <code>--is-published</code> Whether boards created from this template should be published (default: true) No <code>--name-template</code> Optional name template for generated boards No <code>--series</code> Optional series identifier for sequential board naming No <code>--icon</code> Icon identifier for boards (e.g., \"fa-crown\") No <code>--unit</code> Unit of measurement for scores (e.g., \"seconds\", \"points\") No <code>--sort-direction</code> Sort direction for scores (default: desc) No <code>--keep-strategy</code> Strategy for keeping multiple scores from the same user (default: all) No <code>--starts-at</code> Optional start time for time-bounded boards (ISO 8601 datetime) No <code>--ends-at</code> Optional end time for time-bounded boards (ISO 8601 datetime) No <p>Example:</p> <pre><code>leadr board-template create --game-id &lt;UUID&gt; --name \"Weekly Challenge\" --repeat-interval \"7 days\" --next-run-at \"2025-01-01T00:00:00Z\"\n</code></pre>"},{"location":"cli/commands/board_template/#board-template-list","title":"board-template list","text":"<p>List board templates for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--game-id</code> Optional Game ID to filter templates by (UUID) No <p>Example:</p> <pre><code>leadr board-template list\n</code></pre>"},{"location":"cli/commands/board_template/#board-template-get","title":"board-template get","text":"<p>Get board template by ID</p> <p>Options:</p> Option Description Required <code>--template-id</code> Template ID (UUID) Yes <p>Example:</p> <pre><code>leadr board-template get --template-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/board_template/#board-template-update","title":"board-template update","text":"<p>Update a board template</p> <p>Options:</p> Option Description Required <code>--template-id</code> Template ID (UUID) Yes <code>--json</code> JSON string with fields to update Yes <p>Example:</p> <pre><code>leadr board-template update --template-id &lt;UUID&gt; --json '{\"is_active\": false}'\n</code></pre>"},{"location":"cli/commands/board_template/#board-template-delete","title":"board-template delete","text":"<p>Delete a board template (soft delete)</p> <p>Options:</p> Option Description Required <code>--template-id</code> Template ID (UUID) Yes <p>Example:</p> <pre><code>leadr board-template delete --template-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/device/","title":"Device","text":"<p>Device management</p>"},{"location":"cli/commands/device/#usage","title":"Usage","text":"<pre><code>leadr device &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/device/#commands","title":"Commands","text":"Command Description <code>list</code> List devices for an account <code>get</code> Get device by ID <code>update</code> Update device status <code>delete</code> Delete a device (soft delete)"},{"location":"cli/commands/device/#device-list","title":"device list","text":"<p>List devices for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--game-id</code> Optional Game ID to filter by (UUID) No <code>--status</code> Optional status filter (active, banned, suspended) No <p>Example:</p> <pre><code>leadr device list\nleadr device list --status banned\n</code></pre>"},{"location":"cli/commands/device/#device-get","title":"device get","text":"<p>Get device by ID</p> <p>Options:</p> Option Description Required <code>--device-id</code> Device ID (UUID) Yes <p>Example:</p> <pre><code>leadr device get --device-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/device/#device-update","title":"device update","text":"<p>Update device status</p> <p>Options:</p> Option Description Required <code>--device-id</code> Device ID (UUID) Yes <code>--status</code> New status (active, banned, suspended) No <p>Example:</p> <pre><code>leadr device update --device-id &lt;UUID&gt; --status banned\n</code></pre>"},{"location":"cli/commands/device/#device-delete","title":"device delete","text":"<p>Delete a device (soft delete)</p> <p>Options:</p> Option Description Required <code>--device-id</code> Device ID (UUID) Yes <p>Example:</p> <pre><code>leadr device delete --device-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/device_session/","title":"Device Session","text":"<p>Device session management</p>"},{"location":"cli/commands/device_session/#usage","title":"Usage","text":"<pre><code>leadr device-session &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/device_session/#commands","title":"Commands","text":"Command Description <code>list</code> List device sessions for an account <code>get</code> Get device session by ID <code>update</code> Update device session status <code>delete</code> Delete a device session (soft delete)"},{"location":"cli/commands/device_session/#device-session-list","title":"device-session list","text":"<p>List device sessions for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--device-id</code> Optional Device ID to filter by (UUID) No <code>--game-id</code> Optional Game ID to filter by (UUID) No <code>--status</code> Optional status filter No <p>Example:</p> <pre><code>leadr device-session list\n</code></pre>"},{"location":"cli/commands/device_session/#device-session-get","title":"device-session get","text":"<p>Get device session by ID</p> <p>Options:</p> Option Description Required <code>--session-id</code> Session ID (UUID) Yes <p>Example:</p> <pre><code>leadr device-session get --session-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/device_session/#device-session-update","title":"device-session update","text":"<p>Update device session status</p> <p>Options:</p> Option Description Required <code>--session-id</code> Session ID (UUID) Yes <code>--status</code> New status No <p>Example:</p> <pre><code>leadr device-session update --session-id &lt;UUID&gt; --status terminated\n</code></pre>"},{"location":"cli/commands/device_session/#device-session-delete","title":"device-session delete","text":"<p>Delete a device session (soft delete)</p> <p>Options:</p> Option Description Required <code>--session-id</code> Session ID (UUID) Yes <p>Example:</p> <pre><code>leadr device-session delete --session-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/game/","title":"Game","text":"<p>Game management</p>"},{"location":"cli/commands/game/#usage","title":"Usage","text":"<pre><code>leadr game &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/game/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new game <code>list</code> List games for an account <code>get</code> Get game by ID <code>update</code> Update a game <code>delete</code> Delete a game (soft delete)"},{"location":"cli/commands/game/#game-create","title":"game create","text":"<p>Create a new game</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--name</code> Game name Yes <code>--description</code> Game description No <code>--page-url</code> URL to game's page (e.g., Steam store page, itch.io page) No <code>--steam-app-id</code> Steam App ID (optional) No <code>--anti-cheat-enabled</code> Enable anti-cheat (default: true) No <p>Example:</p> <pre><code>leadr game create --name \"My Game\"\nleadr game create --name \"My Game\" --steam-app-id 123456 --anti-cheat-enabled true\n</code></pre>"},{"location":"cli/commands/game/#game-list","title":"game list","text":"<p>List games for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <p>Example:</p> <pre><code>leadr game list\n</code></pre>"},{"location":"cli/commands/game/#game-get","title":"game get","text":"<p>Get game by ID</p> <p>Options:</p> Option Description Required <code>--game-id</code> Game ID (UUID) Yes <p>Example:</p> <pre><code>leadr game get --game-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/game/#game-update","title":"game update","text":"<p>Update a game</p> <p>Options:</p> Option Description Required <code>--game-id</code> Game ID (UUID) Yes <code>--json</code> JSON string with fields to update Yes <p>Example:</p> <pre><code>leadr game update --game-id &lt;UUID&gt; --json '{\"name\": \"New Game Name\"}'\n</code></pre>"},{"location":"cli/commands/game/#game-delete","title":"game delete","text":"<p>Delete a game (soft delete)</p> <p>Options:</p> Option Description Required <code>--game-id</code> Game ID (UUID) Yes <p>Example:</p> <pre><code>leadr game delete --game-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/me/","title":"Me","text":"<p>Show current account and user info</p>"},{"location":"cli/commands/me/#usage","title":"Usage","text":"<pre><code>leadr me [OPTIONS]\n</code></pre> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (required for superadmins) No"},{"location":"cli/commands/me/#example","title":"Example","text":"<pre><code>leadr me\nleadr me --account-id &lt;UUID&gt;  # For superadmins\n</code></pre>"},{"location":"cli/commands/reference/","title":"Command-Line Help for <code>leadr</code>","text":"<p>This document contains the help content for the <code>leadr</code> command-line program.</p> <p>Command Overview:</p> <ul> <li><code>leadr</code>\u21b4</li> <li><code>leadr register</code>\u21b4</li> <li><code>leadr me</code>\u21b4</li> <li><code>leadr auth</code>\u21b4</li> <li><code>leadr auth admin</code>\u21b4</li> <li><code>leadr auth admin configure</code>\u21b4</li> <li><code>leadr auth admin status</code>\u21b4</li> <li><code>leadr auth admin clear</code>\u21b4</li> <li><code>leadr account</code>\u21b4</li> <li><code>leadr account get</code>\u21b4</li> <li><code>leadr account update</code>\u21b4</li> <li><code>leadr account delete</code>\u21b4</li> <li><code>leadr user</code>\u21b4</li> <li><code>leadr user create</code>\u21b4</li> <li><code>leadr user list</code>\u21b4</li> <li><code>leadr user get</code>\u21b4</li> <li><code>leadr user update</code>\u21b4</li> <li><code>leadr user delete</code>\u21b4</li> <li><code>leadr api-key</code>\u21b4</li> <li><code>leadr api-key create</code>\u21b4</li> <li><code>leadr api-key list</code>\u21b4</li> <li><code>leadr api-key get</code>\u21b4</li> <li><code>leadr api-key revoke</code>\u21b4</li> <li><code>leadr game</code>\u21b4</li> <li><code>leadr game create</code>\u21b4</li> <li><code>leadr game list</code>\u21b4</li> <li><code>leadr game get</code>\u21b4</li> <li><code>leadr game update</code>\u21b4</li> <li><code>leadr game delete</code>\u21b4</li> <li><code>leadr board</code>\u21b4</li> <li><code>leadr board create</code>\u21b4</li> <li><code>leadr board list</code>\u21b4</li> <li><code>leadr board get</code>\u21b4</li> <li><code>leadr board get-by-code</code>\u21b4</li> <li><code>leadr board update</code>\u21b4</li> <li><code>leadr board delete</code>\u21b4</li> <li><code>leadr board-template</code>\u21b4</li> <li><code>leadr board-template create</code>\u21b4</li> <li><code>leadr board-template list</code>\u21b4</li> <li><code>leadr board-template get</code>\u21b4</li> <li><code>leadr board-template update</code>\u21b4</li> <li><code>leadr board-template delete</code>\u21b4</li> <li><code>leadr score</code>\u21b4</li> <li><code>leadr score create</code>\u21b4</li> <li><code>leadr score list</code>\u21b4</li> <li><code>leadr score get</code>\u21b4</li> <li><code>leadr score update</code>\u21b4</li> <li><code>leadr score delete</code>\u21b4</li> <li><code>leadr device</code>\u21b4</li> <li><code>leadr device list</code>\u21b4</li> <li><code>leadr device get</code>\u21b4</li> <li><code>leadr device update</code>\u21b4</li> <li><code>leadr device delete</code>\u21b4</li> <li><code>leadr device-session</code>\u21b4</li> <li><code>leadr device-session list</code>\u21b4</li> <li><code>leadr device-session get</code>\u21b4</li> <li><code>leadr device-session update</code>\u21b4</li> <li><code>leadr device-session delete</code>\u21b4</li> <li><code>leadr score-flag</code>\u21b4</li> <li><code>leadr score-flag list</code>\u21b4</li> <li><code>leadr score-flag get</code>\u21b4</li> <li><code>leadr score-flag review</code>\u21b4</li> <li><code>leadr score-flag delete</code>\u21b4</li> <li><code>leadr score-submission-meta</code>\u21b4</li> <li><code>leadr score-submission-meta list</code>\u21b4</li> <li><code>leadr score-submission-meta get</code>\u21b4</li> </ul>"},{"location":"cli/commands/reference/#leadr","title":"<code>leadr</code>","text":"<p>LEADR CLI - Admin and testing tool for LEADR API</p> <p>Usage: <code>leadr [OPTIONS] &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands","title":"Subcommands:","text":"<ul> <li><code>register</code> \u2014 Register a new LEADR account (interactive)</li> <li><code>me</code> \u2014 Show current account and user info</li> <li><code>auth</code> \u2014 Authentication commands</li> <li><code>account</code> \u2014 Account management</li> <li><code>user</code> \u2014 User management</li> <li><code>api-key</code> \u2014 API key management</li> <li><code>game</code> \u2014 Game management</li> <li><code>board</code> \u2014 Board (leaderboard) management</li> <li><code>board-template</code> \u2014 Board template management</li> <li><code>score</code> \u2014 Score management</li> <li><code>device</code> \u2014 Device management</li> <li><code>device-session</code> \u2014 Device session management</li> <li><code>score-flag</code> \u2014 Score flag management (anti-cheat)</li> <li><code>score-submission-meta</code> \u2014 Score submission metadata (analytics)</li> </ul>"},{"location":"cli/commands/reference/#options","title":"Options:","text":"<ul> <li><code>--host &lt;HOST&gt;</code> \u2014 API host override. Overrides default URLs for all commands. Defaults to <code>admin-api.leadrcloud.com</code> (public) or <code>0.0.0.0:8001</code>/<code>0.0.0.0:8000</code> (internal)</li> </ul>"},{"location":"cli/commands/reference/#leadr-register","title":"<code>leadr register</code>","text":"<p>Register a new LEADR account (interactive)</p> <p>Usage: <code>leadr register</code></p>"},{"location":"cli/commands/reference/#leadr-me","title":"<code>leadr me</code>","text":"<p>Show current account and user info</p> <p>Usage: <code>leadr me [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_1","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (required for superadmins)</li> </ul>"},{"location":"cli/commands/reference/#leadr-auth","title":"<code>leadr auth</code>","text":"<p>Authentication commands</p> <p>Usage: <code>leadr auth &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_1","title":"Subcommands:","text":"<ul> <li><code>admin</code> \u2014 Admin authentication</li> </ul>"},{"location":"cli/commands/reference/#leadr-auth-admin","title":"<code>leadr auth admin</code>","text":"<p>Admin authentication</p> <p>Usage: <code>leadr auth admin &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_2","title":"Subcommands:","text":"<ul> <li><code>configure</code> \u2014 Configure admin API key (interactive prompt)</li> <li><code>status</code> \u2014 Show API key configuration status</li> <li><code>clear</code> \u2014 Clear saved API key</li> </ul>"},{"location":"cli/commands/reference/#leadr-auth-admin-configure","title":"<code>leadr auth admin configure</code>","text":"<p>Configure admin API key (interactive prompt)</p> <p>Usage: <code>leadr auth admin configure</code></p>"},{"location":"cli/commands/reference/#leadr-auth-admin-status","title":"<code>leadr auth admin status</code>","text":"<p>Show API key configuration status</p> <p>Usage: <code>leadr auth admin status</code></p>"},{"location":"cli/commands/reference/#leadr-auth-admin-clear","title":"<code>leadr auth admin clear</code>","text":"<p>Clear saved API key</p> <p>Usage: <code>leadr auth admin clear</code></p>"},{"location":"cli/commands/reference/#leadr-account","title":"<code>leadr account</code>","text":"<p>Account management</p> <p>Usage: <code>leadr account &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_3","title":"Subcommands:","text":"<ul> <li><code>get</code> \u2014 Get account by ID</li> <li><code>update</code> \u2014 Update an account</li> <li><code>delete</code> \u2014 Delete an account (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-account-get","title":"<code>leadr account get</code>","text":"<p>Get account by ID</p> <p>Usage: <code>leadr account get [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_2","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> </ul>"},{"location":"cli/commands/reference/#leadr-account-update","title":"<code>leadr account update</code>","text":"<p>Update an account</p> <p>Usage: <code>leadr account update [OPTIONS] --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_3","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update (e.g., <code>{\"name\": \"New Name\", \"status\": \"suspended\"}</code>)</li> </ul>"},{"location":"cli/commands/reference/#leadr-account-delete","title":"<code>leadr account delete</code>","text":"<p>Delete an account (soft delete)</p> <p>Usage: <code>leadr account delete [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_4","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> </ul>"},{"location":"cli/commands/reference/#leadr-user","title":"<code>leadr user</code>","text":"<p>User management</p> <p>Usage: <code>leadr user &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_4","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new user</li> <li><code>list</code> \u2014 List users for an account</li> <li><code>get</code> \u2014 Get user by ID</li> <li><code>update</code> \u2014 Update a user</li> <li><code>delete</code> \u2014 Delete a user (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-user-create","title":"<code>leadr user create</code>","text":"<p>Create a new user</p> <p>Usage: <code>leadr user create [OPTIONS] --email &lt;EMAIL&gt; --display-name &lt;DISPLAY_NAME&gt;</code></p>"},{"location":"cli/commands/reference/#options_5","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--email &lt;EMAIL&gt;</code> \u2014 User email</li> <li><code>--display-name &lt;DISPLAY_NAME&gt;</code> \u2014 Display name</li> </ul>"},{"location":"cli/commands/reference/#leadr-user-list","title":"<code>leadr user list</code>","text":"<p>List users for an account</p> <p>Usage: <code>leadr user list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_6","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> </ul>"},{"location":"cli/commands/reference/#leadr-user-get","title":"<code>leadr user get</code>","text":"<p>Get user by ID</p> <p>Usage: <code>leadr user get --user-id &lt;USER_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_7","title":"Options:","text":"<ul> <li><code>--user-id &lt;USER_ID&gt;</code> \u2014 User ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-user-update","title":"<code>leadr user update</code>","text":"<p>Update a user</p> <p>Usage: <code>leadr user update --user-id &lt;USER_ID&gt; --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_8","title":"Options:","text":"<ul> <li><code>--user-id &lt;USER_ID&gt;</code> \u2014 User ID (UUID)</li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update (e.g., <code>{\"email\": \"new@example.com\", \"display_name\": \"New Name\"}</code>)</li> </ul>"},{"location":"cli/commands/reference/#leadr-user-delete","title":"<code>leadr user delete</code>","text":"<p>Delete a user (soft delete)</p> <p>Usage: <code>leadr user delete --user-id &lt;USER_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_9","title":"Options:","text":"<ul> <li><code>--user-id &lt;USER_ID&gt;</code> \u2014 User ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-api-key","title":"<code>leadr api-key</code>","text":"<p>API key management</p> <p>Usage: <code>leadr api-key &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_5","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new API key</li> <li><code>list</code> \u2014 List API keys for an account</li> <li><code>get</code> \u2014 Get API key by ID</li> <li><code>revoke</code> \u2014 Revoke an API key (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-api-key-create","title":"<code>leadr api-key create</code>","text":"<p>Create a new API key</p> <p>Usage: <code>leadr api-key create [OPTIONS] --user-id &lt;USER_ID&gt; --name &lt;NAME&gt;</code></p>"},{"location":"cli/commands/reference/#options_10","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--user-id &lt;USER_ID&gt;</code> \u2014 User ID (UUID) - the user who owns this API key</li> <li><code>--name &lt;NAME&gt;</code> \u2014 API key name</li> </ul>"},{"location":"cli/commands/reference/#leadr-api-key-list","title":"<code>leadr api-key list</code>","text":"<p>List API keys for an account</p> <p>Usage: <code>leadr api-key list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_11","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> </ul>"},{"location":"cli/commands/reference/#leadr-api-key-get","title":"<code>leadr api-key get</code>","text":"<p>Get API key by ID</p> <p>Usage: <code>leadr api-key get --key-id &lt;KEY_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_12","title":"Options:","text":"<ul> <li><code>--key-id &lt;KEY_ID&gt;</code> \u2014 API key ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-api-key-revoke","title":"<code>leadr api-key revoke</code>","text":"<p>Revoke an API key (soft delete)</p> <p>Usage: <code>leadr api-key revoke --key-id &lt;KEY_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_13","title":"Options:","text":"<ul> <li><code>--key-id &lt;KEY_ID&gt;</code> \u2014 API key ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-game","title":"<code>leadr game</code>","text":"<p>Game management</p> <p>Usage: <code>leadr game &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_6","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new game</li> <li><code>list</code> \u2014 List games for an account</li> <li><code>get</code> \u2014 Get game by ID</li> <li><code>update</code> \u2014 Update a game</li> <li><code>delete</code> \u2014 Delete a game (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-game-create","title":"<code>leadr game create</code>","text":"<p>Create a new game</p> <p>Usage: <code>leadr game create [OPTIONS] --name &lt;NAME&gt;</code></p>"},{"location":"cli/commands/reference/#options_14","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--name &lt;NAME&gt;</code> \u2014 Game name</li> <li><code>--description &lt;DESCRIPTION&gt;</code> \u2014 Game description</li> <li><code>--page-url &lt;PAGE_URL&gt;</code> \u2014 URL to game's page (e.g., Steam store page, itch.io page)</li> <li><code>--steam-app-id &lt;STEAM_APP_ID&gt;</code> \u2014 Steam App ID (optional)</li> <li><code>--anti-cheat-enabled &lt;ANTI_CHEAT_ENABLED&gt;</code> \u2014 Enable anti-cheat (default: true)</li> </ul> <p>Possible values: <code>true</code>, <code>false</code></p>"},{"location":"cli/commands/reference/#leadr-game-list","title":"<code>leadr game list</code>","text":"<p>List games for an account</p> <p>Usage: <code>leadr game list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_15","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> </ul>"},{"location":"cli/commands/reference/#leadr-game-get","title":"<code>leadr game get</code>","text":"<p>Get game by ID</p> <p>Usage: <code>leadr game get --game-id &lt;GAME_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_16","title":"Options:","text":"<ul> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-game-update","title":"<code>leadr game update</code>","text":"<p>Update a game</p> <p>Usage: <code>leadr game update --game-id &lt;GAME_ID&gt; --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_17","title":"Options:","text":"<ul> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID)</li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update</li> </ul>"},{"location":"cli/commands/reference/#leadr-game-delete","title":"<code>leadr game delete</code>","text":"<p>Delete a game (soft delete)</p> <p>Usage: <code>leadr game delete --game-id &lt;GAME_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_18","title":"Options:","text":"<ul> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board","title":"<code>leadr board</code>","text":"<p>Board (leaderboard) management</p> <p>Usage: <code>leadr board &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_7","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new board</li> <li><code>list</code> \u2014 List boards for an account</li> <li><code>get</code> \u2014 Get board by ID</li> <li><code>get-by-code</code> \u2014 Get board by short code</li> <li><code>update</code> \u2014 Update a board</li> <li><code>delete</code> \u2014 Delete a board (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-create","title":"<code>leadr board create</code>","text":"<p>Create a new board</p> <p>Usage: <code>leadr board create [OPTIONS] --game-id &lt;GAME_ID&gt; --name &lt;NAME&gt;</code></p>"},{"location":"cli/commands/reference/#options_19","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID)</li> <li><code>--name &lt;NAME&gt;</code> \u2014 Board name</li> <li><code>--description &lt;DESCRIPTION&gt;</code> \u2014 Board description</li> <li><code>--icon &lt;ICON&gt;</code> \u2014 Icon (emoji or URL)</li> <li><code>--short-code &lt;SHORT_CODE&gt;</code> \u2014 Short code (globally unique identifier)</li> <li><code>--unit &lt;UNIT&gt;</code> \u2014 Unit (e.g., \"points\", \"seconds\", \"kills\")</li> <li><code>--sort-direction &lt;SORT_DIRECTION&gt;</code> \u2014 Sort direction (asc or desc)</li> <li><code>--keep-strategy &lt;KEEP_STRATEGY&gt;</code> \u2014 Keep strategy (best, first, last, or all)</li> <li><code>--is-active &lt;IS_ACTIVE&gt;</code> \u2014 Board is active (default: true)</li> </ul> <p>Default value: <code>true</code></p> <p>Possible values: <code>true</code>, <code>false</code></p> <ul> <li><code>--is-published &lt;IS_PUBLISHED&gt;</code> \u2014 Board is published/visible to clients (default: true)</li> </ul> <p>Default value: <code>true</code></p> <p>Possible values: <code>true</code>, <code>false</code></p> <ul> <li><code>--starts-at &lt;STARTS_AT&gt;</code> \u2014 Optional start time for time-bounded boards (ISO 8601 datetime)</li> <li><code>--ends-at &lt;ENDS_AT&gt;</code> \u2014 Optional end time for time-bounded boards (ISO 8601 datetime)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-list","title":"<code>leadr board list</code>","text":"<p>List boards for an account</p> <p>Usage: <code>leadr board list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_20","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional when using client authentication</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter boards by (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-get","title":"<code>leadr board get</code>","text":"<p>Get board by ID</p> <p>Usage: <code>leadr board get [OPTIONS] --board-id &lt;BOARD_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_21","title":"Options:","text":"<ul> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Board ID (e.g., <code>brd_xxx</code>)</li> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (for superadmin cross-account access)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-get-by-code","title":"<code>leadr board get-by-code</code>","text":"<p>Get board by short code</p> <p>Usage: <code>leadr board get-by-code [OPTIONS] --short-code &lt;SHORT_CODE&gt;</code></p>"},{"location":"cli/commands/reference/#options_22","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--short-code &lt;SHORT_CODE&gt;</code> \u2014 Short code</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-update","title":"<code>leadr board update</code>","text":"<p>Update a board</p> <p>Usage: <code>leadr board update --board-id &lt;BOARD_ID&gt; --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_23","title":"Options:","text":"<ul> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Board ID (UUID)</li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-delete","title":"<code>leadr board delete</code>","text":"<p>Delete a board (soft delete)</p> <p>Usage: <code>leadr board delete --board-id &lt;BOARD_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_24","title":"Options:","text":"<ul> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Board ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template","title":"<code>leadr board-template</code>","text":"<p>Board template management</p> <p>Usage: <code>leadr board-template &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_8","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new board template</li> <li><code>list</code> \u2014 List board templates for an account</li> <li><code>get</code> \u2014 Get board template by ID</li> <li><code>update</code> \u2014 Update a board template</li> <li><code>delete</code> \u2014 Delete a board template (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template-create","title":"<code>leadr board-template create</code>","text":"<p>Create a new board template</p> <p>Usage: <code>leadr board-template create [OPTIONS] --game-id &lt;GAME_ID&gt; --name &lt;NAME&gt; --repeat-interval &lt;REPEAT_INTERVAL&gt; --next-run-at &lt;NEXT_RUN_AT&gt;</code></p>"},{"location":"cli/commands/reference/#options_25","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID)</li> <li><code>--name &lt;NAME&gt;</code> \u2014 Template name</li> <li><code>--slug &lt;SLUG&gt;</code> \u2014 URL-friendly slug for boards created from this template</li> <li><code>--repeat-interval &lt;REPEAT_INTERVAL&gt;</code> \u2014 Repeat interval (<code>PostgreSQL</code> interval syntax, e.g., \"7 days\", \"1 month\")</li> <li><code>--next-run-at &lt;NEXT_RUN_AT&gt;</code> \u2014 Next run time (ISO 8601 datetime, e.g., \"2025-01-01T00:00:00Z\")</li> <li><code>--is-active &lt;IS_ACTIVE&gt;</code> \u2014 Template is active (default: true)</li> </ul> <p>Default value: <code>true</code></p> <p>Possible values: <code>true</code>, <code>false</code></p> <ul> <li><code>--is-published &lt;IS_PUBLISHED&gt;</code> \u2014 Whether boards created from this template should be published (default: true)</li> </ul> <p>Default value: <code>true</code></p> <p>Possible values: <code>true</code>, <code>false</code></p> <ul> <li><code>--name-template &lt;NAME_TEMPLATE&gt;</code> \u2014 Optional name template for generated boards</li> <li><code>--series &lt;SERIES&gt;</code> \u2014 Optional series identifier for sequential board naming</li> <li><code>--icon &lt;ICON&gt;</code> \u2014 Icon identifier for boards (e.g., \"fa-crown\")</li> <li><code>--unit &lt;UNIT&gt;</code> \u2014 Unit of measurement for scores (e.g., \"seconds\", \"points\")</li> <li><code>--sort-direction &lt;SORT_DIRECTION&gt;</code> \u2014 Sort direction for scores (default: desc)</li> </ul> <p>Default value: <code>desc</code></p> <p>Possible values:   - <code>asc</code>:     Ascending order (lowest score first)   - <code>desc</code>:     Descending order (highest score first)</p> <ul> <li><code>--keep-strategy &lt;KEEP_STRATEGY&gt;</code> \u2014 Strategy for keeping multiple scores from the same user (default: all)</li> </ul> <p>Default value: <code>all</code></p> <p>Possible values:   - <code>all</code>:     Keep all scores   - <code>best</code>:     Keep only the best score   - <code>first</code>:     Keep only the first score   - <code>last</code>:     Keep only the latest score</p> <ul> <li><code>--starts-at &lt;STARTS_AT&gt;</code> \u2014 Optional start time for time-bounded boards (ISO 8601 datetime)</li> <li><code>--ends-at &lt;ENDS_AT&gt;</code> \u2014 Optional end time for time-bounded boards (ISO 8601 datetime)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template-list","title":"<code>leadr board-template list</code>","text":"<p>List board templates for an account</p> <p>Usage: <code>leadr board-template list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_26","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter templates by (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template-get","title":"<code>leadr board-template get</code>","text":"<p>Get board template by ID</p> <p>Usage: <code>leadr board-template get --template-id &lt;TEMPLATE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_27","title":"Options:","text":"<ul> <li><code>--template-id &lt;TEMPLATE_ID&gt;</code> \u2014 Template ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template-update","title":"<code>leadr board-template update</code>","text":"<p>Update a board template</p> <p>Usage: <code>leadr board-template update --template-id &lt;TEMPLATE_ID&gt; --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_28","title":"Options:","text":"<ul> <li><code>--template-id &lt;TEMPLATE_ID&gt;</code> \u2014 Template ID (UUID)</li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update</li> </ul>"},{"location":"cli/commands/reference/#leadr-board-template-delete","title":"<code>leadr board-template delete</code>","text":"<p>Delete a board template (soft delete)</p> <p>Usage: <code>leadr board-template delete --template-id &lt;TEMPLATE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_29","title":"Options:","text":"<ul> <li><code>--template-id &lt;TEMPLATE_ID&gt;</code> \u2014 Template ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score","title":"<code>leadr score</code>","text":"<p>Score management</p> <p>Usage: <code>leadr score &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_9","title":"Subcommands:","text":"<ul> <li><code>create</code> \u2014 Create a new score</li> <li><code>list</code> \u2014 List scores for an account</li> <li><code>get</code> \u2014 Get score by ID</li> <li><code>update</code> \u2014 Update a score</li> <li><code>delete</code> \u2014 Delete a score (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-create","title":"<code>leadr score create</code>","text":"<p>Create a new score</p> <p>Usage: <code>leadr score create [OPTIONS] --board-id &lt;BOARD_ID&gt; --player-name &lt;PLAYER_NAME&gt; --value &lt;VALUE&gt;</code></p>"},{"location":"cli/commands/reference/#options_30","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional when using client authentication</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Game ID (UUID) - optional when using client authentication</li> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Board ID (UUID)</li> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Device ID (UUID) - optional when using client authentication</li> <li><code>--player-name &lt;PLAYER_NAME&gt;</code> \u2014 Player name</li> <li><code>--value &lt;VALUE&gt;</code> \u2014 Score value (number)</li> <li><code>--value-display &lt;VALUE_DISPLAY&gt;</code> \u2014 Optional display string (e.g., \"1:23.45\", \"1,234 points\")</li> <li><code>--filter-timezone &lt;FILTER_TIMEZONE&gt;</code> \u2014 Optional timezone filter</li> <li><code>--filter-country &lt;FILTER_COUNTRY&gt;</code> \u2014 Optional country filter</li> <li><code>--filter-city &lt;FILTER_CITY&gt;</code> \u2014 Optional city filter</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-list","title":"<code>leadr score list</code>","text":"<p>List scores for an account</p> <p>Usage: <code>leadr score list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_31","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional when using client authentication</li> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Optional Board ID to filter by (UUID)</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter by (UUID)</li> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Optional Device ID to filter by (UUID)</li> <li><code>--cursor &lt;CURSOR&gt;</code> \u2014 Pagination cursor (from previous response)</li> <li><code>--limit &lt;LIMIT&gt;</code> \u2014 Number of items per page (1-100, default: 20)</li> <li><code>--sort &lt;SORT&gt;</code> \u2014 Sort order (e.g., \"value:desc\", \"<code>created_at:asc</code>\")</li> <li><code>--all</code> \u2014 Fetch all pages automatically</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-get","title":"<code>leadr score get</code>","text":"<p>Get score by ID</p> <p>Usage: <code>leadr score get --score-id &lt;SCORE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_32","title":"Options:","text":"<ul> <li><code>--score-id &lt;SCORE_ID&gt;</code> \u2014 Score ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-update","title":"<code>leadr score update</code>","text":"<p>Update a score</p> <p>Usage: <code>leadr score update --score-id &lt;SCORE_ID&gt; --json &lt;JSON&gt;</code></p>"},{"location":"cli/commands/reference/#options_33","title":"Options:","text":"<ul> <li><code>--score-id &lt;SCORE_ID&gt;</code> \u2014 Score ID (UUID)</li> <li><code>--json &lt;JSON&gt;</code> \u2014 JSON string with fields to update</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-delete","title":"<code>leadr score delete</code>","text":"<p>Delete a score (soft delete)</p> <p>Usage: <code>leadr score delete --score-id &lt;SCORE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_34","title":"Options:","text":"<ul> <li><code>--score-id &lt;SCORE_ID&gt;</code> \u2014 Score ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device","title":"<code>leadr device</code>","text":"<p>Device management</p> <p>Usage: <code>leadr device &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_10","title":"Subcommands:","text":"<ul> <li><code>list</code> \u2014 List devices for an account</li> <li><code>get</code> \u2014 Get device by ID</li> <li><code>update</code> \u2014 Update device status</li> <li><code>delete</code> \u2014 Delete a device (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-list","title":"<code>leadr device list</code>","text":"<p>List devices for an account</p> <p>Usage: <code>leadr device list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_35","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter by (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 Optional status filter (active, banned, suspended)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-get","title":"<code>leadr device get</code>","text":"<p>Get device by ID</p> <p>Usage: <code>leadr device get --device-id &lt;DEVICE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_36","title":"Options:","text":"<ul> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Device ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-update","title":"<code>leadr device update</code>","text":"<p>Update device status</p> <p>Usage: <code>leadr device update [OPTIONS] --device-id &lt;DEVICE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_37","title":"Options:","text":"<ul> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Device ID (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 New status (active, banned, suspended)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-delete","title":"<code>leadr device delete</code>","text":"<p>Delete a device (soft delete)</p> <p>Usage: <code>leadr device delete --device-id &lt;DEVICE_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_38","title":"Options:","text":"<ul> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Device ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-session","title":"<code>leadr device-session</code>","text":"<p>Device session management</p> <p>Usage: <code>leadr device-session &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_11","title":"Subcommands:","text":"<ul> <li><code>list</code> \u2014 List device sessions for an account</li> <li><code>get</code> \u2014 Get device session by ID</li> <li><code>update</code> \u2014 Update device session status</li> <li><code>delete</code> \u2014 Delete a device session (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-session-list","title":"<code>leadr device-session list</code>","text":"<p>List device sessions for an account</p> <p>Usage: <code>leadr device-session list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_39","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Optional Device ID to filter by (UUID)</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter by (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 Optional status filter</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-session-get","title":"<code>leadr device-session get</code>","text":"<p>Get device session by ID</p> <p>Usage: <code>leadr device-session get --session-id &lt;SESSION_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_40","title":"Options:","text":"<ul> <li><code>--session-id &lt;SESSION_ID&gt;</code> \u2014 Session ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-session-update","title":"<code>leadr device-session update</code>","text":"<p>Update device session status</p> <p>Usage: <code>leadr device-session update [OPTIONS] --session-id &lt;SESSION_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_41","title":"Options:","text":"<ul> <li><code>--session-id &lt;SESSION_ID&gt;</code> \u2014 Session ID (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 New status</li> </ul>"},{"location":"cli/commands/reference/#leadr-device-session-delete","title":"<code>leadr device-session delete</code>","text":"<p>Delete a device session (soft delete)</p> <p>Usage: <code>leadr device-session delete --session-id &lt;SESSION_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_42","title":"Options:","text":"<ul> <li><code>--session-id &lt;SESSION_ID&gt;</code> \u2014 Session ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-flag","title":"<code>leadr score-flag</code>","text":"<p>Score flag management (anti-cheat)</p> <p>Usage: <code>leadr score-flag &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_12","title":"Subcommands:","text":"<ul> <li><code>list</code> \u2014 List score flags for an account</li> <li><code>get</code> \u2014 Get score flag by ID</li> <li><code>review</code> \u2014 Review/update a score flag</li> <li><code>delete</code> \u2014 Delete a score flag (soft delete)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-flag-list","title":"<code>leadr score-flag list</code>","text":"<p>List score flags for an account</p> <p>Usage: <code>leadr score-flag list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_43","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Optional Board ID to filter by (UUID)</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter by (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 Optional status filter (<code>PENDING</code>, <code>CONFIRMED_CHEAT</code>, <code>FALSE_POSITIVE</code>, <code>DISMISSED</code>)</li> <li><code>--flag-type &lt;FLAG_TYPE&gt;</code> \u2014 Optional flag type filter (<code>VELOCITY</code>, <code>DUPLICATE</code>, <code>RATE_LIMIT</code>)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-flag-get","title":"<code>leadr score-flag get</code>","text":"<p>Get score flag by ID</p> <p>Usage: <code>leadr score-flag get --flag-id &lt;FLAG_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_44","title":"Options:","text":"<ul> <li><code>--flag-id &lt;FLAG_ID&gt;</code> \u2014 Flag ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-flag-review","title":"<code>leadr score-flag review</code>","text":"<p>Review/update a score flag</p> <p>Usage: <code>leadr score-flag review [OPTIONS] --flag-id &lt;FLAG_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_45","title":"Options:","text":"<ul> <li><code>--flag-id &lt;FLAG_ID&gt;</code> \u2014 Flag ID (UUID)</li> <li><code>--status &lt;STATUS&gt;</code> \u2014 New status (<code>PENDING</code>, <code>CONFIRMED_CHEAT</code>, <code>FALSE_POSITIVE</code>, <code>DISMISSED</code>)</li> <li><code>--reviewer-decision &lt;REVIEWER_DECISION&gt;</code> \u2014 Reviewer decision/notes</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-flag-delete","title":"<code>leadr score-flag delete</code>","text":"<p>Delete a score flag (soft delete)</p> <p>Usage: <code>leadr score-flag delete --flag-id &lt;FLAG_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_46","title":"Options:","text":"<ul> <li><code>--flag-id &lt;FLAG_ID&gt;</code> \u2014 Flag ID (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-submission-meta","title":"<code>leadr score-submission-meta</code>","text":"<p>Score submission metadata (analytics)</p> <p>Usage: <code>leadr score-submission-meta &lt;COMMAND&gt;</code></p>"},{"location":"cli/commands/reference/#subcommands_13","title":"Subcommands:","text":"<ul> <li><code>list</code> \u2014 List score submission metadata for an account</li> <li><code>get</code> \u2014 Get score submission metadata by ID</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-submission-meta-list","title":"<code>leadr score-submission-meta list</code>","text":"<p>List score submission metadata for an account</p> <p>Usage: <code>leadr score-submission-meta list [OPTIONS]</code></p>"},{"location":"cli/commands/reference/#options_47","title":"Options:","text":"<ul> <li><code>--account-id &lt;ACCOUNT_ID&gt;</code> \u2014 Account ID (UUID) - optional if configured via <code>auth admin configure</code></li> <li><code>--board-id &lt;BOARD_ID&gt;</code> \u2014 Optional Board ID to filter by (UUID)</li> <li><code>--device-id &lt;DEVICE_ID&gt;</code> \u2014 Optional Device ID to filter by (UUID)</li> <li><code>--game-id &lt;GAME_ID&gt;</code> \u2014 Optional Game ID to filter by (UUID)</li> </ul>"},{"location":"cli/commands/reference/#leadr-score-submission-meta-get","title":"<code>leadr score-submission-meta get</code>","text":"<p>Get score submission metadata by ID</p> <p>Usage: <code>leadr score-submission-meta get --meta-id &lt;META_ID&gt;</code></p>"},{"location":"cli/commands/reference/#options_48","title":"Options:","text":"<ul> <li><code>--meta-id &lt;META_ID&gt;</code> \u2014 Metadata ID (UUID)</li> </ul> <p>     This document was generated automatically by     <code>clap-markdown</code>. </p>"},{"location":"cli/commands/register/","title":"Register","text":"<p>Register a new LEADR account (interactive)</p>"},{"location":"cli/commands/register/#usage","title":"Usage","text":"<pre><code>leadr register\n</code></pre>"},{"location":"cli/commands/register/#example","title":"Example","text":"<pre><code>leadr register\n</code></pre>"},{"location":"cli/commands/score/","title":"Score","text":"<p>Score management</p>"},{"location":"cli/commands/score/#usage","title":"Usage","text":"<pre><code>leadr score &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/score/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new score <code>list</code> List scores for an account <code>get</code> Get score by ID <code>update</code> Update a score <code>delete</code> Delete a score (soft delete)"},{"location":"cli/commands/score/#score-create","title":"score create","text":"<p>Create a new score</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional when using client authentication No <code>--game-id</code> Game ID (UUID) - optional when using client authentication No <code>--board-id</code> Board ID (UUID) Yes <code>--device-id</code> Device ID (UUID) - optional when using client authentication No <code>--player-name</code> Player name Yes <code>--value</code> Score value (number) Yes <code>--value-display</code> Optional display string (e.g., \"1:23.45\", \"1,234 points\") No <code>--filter-timezone</code> Optional timezone filter No <code>--filter-country</code> Optional country filter No <code>--filter-city</code> Optional city filter No <p>Example:</p> <pre><code>leadr score create --board-id &lt;UUID&gt; --player-name \"Player1\" --value 1000\nleadr score create --board-id &lt;UUID&gt; --player-name \"Player1\" --value 1000 --value-display \"1,000 pts\"\n</code></pre>"},{"location":"cli/commands/score/#score-list","title":"score list","text":"<p>List scores for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional when using client authentication No <code>--board-id</code> Optional Board ID to filter by (UUID) No <code>--game-id</code> Optional Game ID to filter by (UUID) No <code>--device-id</code> Optional Device ID to filter by (UUID) No <code>--cursor</code> Pagination cursor (from previous response) No <code>--limit</code> Number of items per page (1-100, default: 20) No <code>--sort</code> Sort order (e.g., \"value:desc\", \"<code>created_at:asc</code>\") No <code>--all</code> Fetch all pages automatically No <p>Example:</p> <pre><code>leadr score list\nleadr score list --board-id &lt;UUID&gt; --limit 50\n</code></pre>"},{"location":"cli/commands/score/#score-get","title":"score get","text":"<p>Get score by ID</p> <p>Options:</p> Option Description Required <code>--score-id</code> Score ID (UUID) Yes <p>Example:</p> <pre><code>leadr score get --score-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/score/#score-update","title":"score update","text":"<p>Update a score</p> <p>Options:</p> Option Description Required <code>--score-id</code> Score ID (UUID) Yes <code>--json</code> JSON string with fields to update Yes <p>Example:</p> <pre><code>leadr score update --score-id &lt;UUID&gt; --json '{\"value\": 2000}'\n</code></pre>"},{"location":"cli/commands/score/#score-delete","title":"score delete","text":"<p>Delete a score (soft delete)</p> <p>Options:</p> Option Description Required <code>--score-id</code> Score ID (UUID) Yes <p>Example:</p> <pre><code>leadr score delete --score-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/score_flag/","title":"Score Flag","text":"<p>Score flag management (anti-cheat)</p>"},{"location":"cli/commands/score_flag/#usage","title":"Usage","text":"<pre><code>leadr score-flag &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/score_flag/#commands","title":"Commands","text":"Command Description <code>list</code> List score flags for an account <code>get</code> Get score flag by ID <code>review</code> Review/update a score flag <code>delete</code> Delete a score flag (soft delete)"},{"location":"cli/commands/score_flag/#score-flag-list","title":"score-flag list","text":"<p>List score flags for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--board-id</code> Optional Board ID to filter by (UUID) No <code>--game-id</code> Optional Game ID to filter by (UUID) No <code>--status</code> Optional status filter (<code>PENDING</code>, <code>CONFIRMED_CHEAT</code>, <code>FALSE_POSITIVE</code>, <code>DISMISSED</code>) No <code>--flag-type</code> Optional flag type filter (<code>VELOCITY</code>, <code>DUPLICATE</code>, <code>RATE_LIMIT</code>) No <p>Example:</p> <pre><code>leadr score-flag list\nleadr score-flag list --status PENDING --flag-type VELOCITY\n</code></pre>"},{"location":"cli/commands/score_flag/#score-flag-get","title":"score-flag get","text":"<p>Get score flag by ID</p> <p>Options:</p> Option Description Required <code>--flag-id</code> Flag ID (UUID) Yes <p>Example:</p> <pre><code>leadr score-flag get --flag-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/score_flag/#score-flag-review","title":"score-flag review","text":"<p>Review/update a score flag</p> <p>Options:</p> Option Description Required <code>--flag-id</code> Flag ID (UUID) Yes <code>--status</code> New status (<code>PENDING</code>, <code>CONFIRMED_CHEAT</code>, <code>FALSE_POSITIVE</code>, <code>DISMISSED</code>) No <code>--reviewer-decision</code> Reviewer decision/notes No <p>Example:</p> <pre><code>leadr score-flag review --flag-id &lt;UUID&gt; --status CONFIRMED_CHEAT\nleadr score-flag review --flag-id &lt;UUID&gt; --status FALSE_POSITIVE --reviewer-decision \"Legitimate speedrun\"\n</code></pre>"},{"location":"cli/commands/score_flag/#score-flag-delete","title":"score-flag delete","text":"<p>Delete a score flag (soft delete)</p> <p>Options:</p> Option Description Required <code>--flag-id</code> Flag ID (UUID) Yes <p>Example:</p> <pre><code>leadr score-flag delete --flag-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/score_submission_meta/","title":"Score Submission Meta","text":"<p>Score submission metadata (analytics)</p>"},{"location":"cli/commands/score_submission_meta/#usage","title":"Usage","text":"<pre><code>leadr score-submission-meta &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/score_submission_meta/#commands","title":"Commands","text":"Command Description <code>list</code> List score submission metadata for an account <code>get</code> Get score submission metadata by ID"},{"location":"cli/commands/score_submission_meta/#score-submission-meta-list","title":"score-submission-meta list","text":"<p>List score submission metadata for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--board-id</code> Optional Board ID to filter by (UUID) No <code>--device-id</code> Optional Device ID to filter by (UUID) No <code>--game-id</code> Optional Game ID to filter by (UUID) No <p>Example:</p> <pre><code>leadr score-submission-meta list\n</code></pre>"},{"location":"cli/commands/score_submission_meta/#score-submission-meta-get","title":"score-submission-meta get","text":"<p>Get score submission metadata by ID</p> <p>Options:</p> Option Description Required <code>--meta-id</code> Metadata ID (UUID) Yes <p>Example:</p> <pre><code>leadr score-submission-meta get --meta-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/user/","title":"User","text":"<p>User management</p>"},{"location":"cli/commands/user/#usage","title":"Usage","text":"<pre><code>leadr user &lt;COMMAND&gt;\n</code></pre>"},{"location":"cli/commands/user/#commands","title":"Commands","text":"Command Description <code>create</code> Create a new user <code>list</code> List users for an account <code>get</code> Get user by ID <code>update</code> Update a user <code>delete</code> Delete a user (soft delete)"},{"location":"cli/commands/user/#user-create","title":"user create","text":"<p>Create a new user</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <code>--email</code> User email Yes <code>--display-name</code> Display name Yes <p>Example:</p> <pre><code>leadr user create --email user@example.com --display-name \"John Doe\"\n</code></pre>"},{"location":"cli/commands/user/#user-list","title":"user list","text":"<p>List users for an account</p> <p>Options:</p> Option Description Required <code>--account-id</code> Account ID (UUID) - optional if configured via <code>auth admin configure</code> No <p>Example:</p> <pre><code>leadr user list\n</code></pre>"},{"location":"cli/commands/user/#user-get","title":"user get","text":"<p>Get user by ID</p> <p>Options:</p> Option Description Required <code>--user-id</code> User ID (UUID) Yes <p>Example:</p> <pre><code>leadr user get --user-id &lt;UUID&gt;\n</code></pre>"},{"location":"cli/commands/user/#user-update","title":"user update","text":"<p>Update a user</p> <p>Options:</p> Option Description Required <code>--user-id</code> User ID (UUID) Yes <code>--json</code> JSON string with fields to update (e.g., <code>{\"email\": \"new@example.com\", \"display_name\": \"New Name\"}</code>) Yes <p>Example:</p> <pre><code>leadr user update --user-id &lt;UUID&gt; --json '{\"display_name\": \"Jane Doe\"}'\n</code></pre>"},{"location":"cli/commands/user/#user-delete","title":"user delete","text":"<p>Delete a user (soft delete)</p> <p>Options:</p> Option Description Required <code>--user-id</code> User ID (UUID) Yes <p>Example:</p> <pre><code>leadr user delete --user-id &lt;UUID&gt;\n</code></pre>"},{"location":"concepts/","title":"Index","text":""},{"location":"concepts/#backend-services","title":"Backend Services","text":""},{"location":"concepts/#leadr-api","title":"LEADR API","text":""},{"location":"concepts/#sdks","title":"SDKs","text":""},{"location":"concepts/#open-source","title":"Open Source","text":""},{"location":"concepts/#time-limited-boards","title":"Time-Limited Boards","text":""},{"location":"concepts/#keep-strategy","title":"Keep Strategy","text":""},{"location":"sdks/","title":"SDKs","text":"<p>Software Development Kits (SDKs) are native libraries for your game engine or programming language that make integrating LEADR straightforward. Instead of making raw HTTP requests, SDKs provide idiomatic APIs that feel natural in your development environment\u0014whether you're working in C# for Unity, GDScript for Godot, or C++ for Unreal. If you're using plugins, libraries or code assets that someone else made inside your game engine, you already know how to use a LEADR SDK.</p>"},{"location":"sdks/#getting-started","title":"Getting Started","text":"<ul> <li>Quick Start Guide - Integration walkthrough</li> </ul>"},{"location":"sdks/#sdks-coming-soon","title":"SDKs (Coming soon)","text":"<ul> <li>Godot - GDScript SDK for Godot Engine</li> <li>Unity - C# SDK for Unity Engine</li> </ul>"},{"location":"sdks/#planned-sdks","title":"Planned SDKs","text":"<p>We're building native SDKs for the most popular game engines and platforms. SDKs are being developed in priority order based on indie game developer usage:</p> <ul> <li>Unreal Engine - C++ SDK for Unreal Engine</li> <li>GameMaker - GML SDK for GameMaker</li> <li>Lua/Defold/LOVE2D - For games written in Lua or Lua-based game engines like Defold or LOVE2D</li> <li>JavaScript/TypeScript - For web games and Node.js backends</li> <li>Python - For game servers and tools</li> <li>C++ - Standalone C++ library for custom engines</li> <li>C# - Standalone .NET library</li> </ul> <p>Want to see an SDK for your platform? Let us know on Discord or Reddit.</p>"},{"location":"sdks/#advanced","title":"Advanced","text":"<ul> <li>Client Authentication - A deep dive on how LEADR's secure client authentication works</li> </ul>"}]}