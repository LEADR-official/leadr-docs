
<!doctype html>
<html lang="en" class="no-js">
  <head>
    

      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for LEADR - the cross-platform leaderboard backend for indie game developers">
      
      
        <meta name="author" content="LEADR">
      
      
        <link rel="canonical" href="https://docs.leadr.gg/v0.3/api/reference/auth/">
      
      
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    

<!-- Open Graph Meta Tags -->
<meta property="og:type" content="website">
<meta property="og:site_name" content="LEADR Docs">
<meta property="og:title" content="Auth | LEADR Docs">
<meta property="og:description" content="Documentation for LEADR - the cross-platform leaderboard backend for indie game developers">
<meta property="og:url" content="https://docs.leadr.gg/v0.3/api/reference/auth/">
<meta property="og:image" content="https://docs.leadr.gg/v0.3/assets/images/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="LEADR - Cross-platform leaderboard backend for indie game developers">
<meta property="og:locale" content="en_US">

<!-- Fediverse Meta Tags -->
<meta name="fediverse:creator" content="@LEADR_official">
<meta property="profile:username" content="leadr-official.bsky.social">

<!-- Additional SEO Meta Tags -->
<meta name="keywords" content="leaderboard, game backend, indie games, REST API, cross-platform, game development, FastAPI, open source">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta name="referrer" content="no-referrer-when-downgrade">

<!-- Theme Color for Mobile Browsers -->
<meta name="theme-color" content="#FF007A">
<meta name="msapplication-TileColor" content="#FF007A">

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "LEADR Docs",
  "url": "https://docs.leadr.gg/v0.3",
  "description": "Documentation for LEADR - the cross-platform leaderboard backend for indie game developers",
  "publisher": {
    "@type": "Organization",
    "name": "LEADR",
    "url": "https://github.com/LEADR-official"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://docs.leadr.gg/v0.3?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<!-- Analytics -->
<script defer src="https://cloud.umami.is/script.js" data-website-id="1c543107-ded6-4eb1-8f34-01ee69bb95ef"></script>


    
      
        <title>Auth - LEADR Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Figtree:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Figtree";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#leadrauth" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="LEADR Docs" class="md-header__button md-logo" aria-label="LEADR Docs" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LEADR Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auth
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="LEADR Docs" class="md-nav__button md-logo" aria-label="LEADR Docs" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    LEADR Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    SDKs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            SDKs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdks/unity/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdks/godot/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    REST API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            REST API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../client_api.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../client_auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            CLI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/index.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/register/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    register
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/me/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    me
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/account/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    account
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    user
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/api_key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    api-key
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/game/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    game
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/board/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    board
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/board_template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    board-template
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/score/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    score
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/device/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    device
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/device_session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    device-session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/score_flag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    score-flag
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cli/commands/score_submission_meta/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    score-submission-meta
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../template_naming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Board Template Naming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../self_host/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Self Host
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Admin API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Admin API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pagination
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../http-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#leadrauth" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthadapters" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.adapters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersorm" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.adapters.orm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyorm" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.APIKeyORM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormcreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormdeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormkey_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.key_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormkey_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.key_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormlast_used_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.last_used_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormname" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormstatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeyormuser_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyORM.user_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeystatusenum" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.APIKeyStatusEnum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeystatusenumactive" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyStatusEnum.ACTIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormapikeystatusenumrevoked" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.APIKeyStatusEnum.REVOKED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceorm" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.DeviceORM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormclient_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.client_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormcreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormdeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormdevice_metadata" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.device_metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormfirst_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.first_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormfrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormgame" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.game
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormgame_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.game_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormlast_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.last_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormnonces" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.nonces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormplatform" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormsessions" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormstatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormto_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.to_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdeviceormupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceORM.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionorm" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.DeviceSessionORM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormaccess_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.access_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormcreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormdeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormdevice" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormdevice_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.device_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormfrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormip_address" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.ip_address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormrefresh_expires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.refresh_expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormrefresh_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.refresh_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormrevoked_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.revoked_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormto_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.to_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormtoken_version" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.token_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicesessionormuser_agent" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceSessionORM.user_agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicestatusenum" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.DeviceStatusEnum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicestatusenumactive" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceStatusEnum.ACTIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicestatusenumbanned" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceStatusEnum.BANNED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormdevicestatusenumsuspended" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.DeviceStatusEnum.SUSPENDED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceorm" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.NonceORM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormcreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormdeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormdevice" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormdevice_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.device_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormfrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormnonce_value" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.nonce_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormstatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormto_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.to_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnonceormused_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceORM.used_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnoncestatusenum" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.adapters.orm.NonceStatusEnum
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnoncestatusenumexpired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceStatusEnum.EXPIRED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnoncestatusenumpending" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceStatusEnum.PENDING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthadaptersormnoncestatusenumused" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.adapters.orm.NonceStatusEnum.USED
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapi" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routes" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.api_key_routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routescreate_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes.create_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routesget_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes.get_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routeslist_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes.list_api_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routesrouter" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes.router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_routesupdate_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_routes.update_api_key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.api_key_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_schemas.APIKeyResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponsecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponsefrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponselast_used_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.last_used_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponsemodel_config" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.model_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponsename" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseprefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponsestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasapikeyresponseuser_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.APIKeyResponse.user_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyrequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_schemas.CreateAPIKeyRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyrequestaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyrequestexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyrequestname" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyrequestuser_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.user_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_schemas.CreateAPIKeyResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponsecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponseexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponsefrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponseid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponsekey" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponsename" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponseprefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemascreateapikeyresponsestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasupdateapikeyrequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasupdateapikeyrequestdeleted" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.deleted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiapi_key_schemasupdateapikeyrequeststatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routes" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.client_routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routesgenerate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes.generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routesprotected_router" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes.protected_router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routespublic_router" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes.public_router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routesrefresh_session" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes.refresh_session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_routesstart_session" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_routes.start_session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.client_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasnonceresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas.NonceResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasnonceresponseexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.NonceResponse.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasnonceresponsenonce_value" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.NonceResponse.nonce_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenrequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas.RefreshTokenRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenrequestrefresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.RefreshTokenRequest.refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas.RefreshTokenResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenresponseaccess_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.RefreshTokenResponse.access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenresponseexpires_in" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.RefreshTokenResponse.expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasrefreshtokenresponserefresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.RefreshTokenResponse.refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionrequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas.StartSessionRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionrequestclient_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionRequest.client_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionrequestgame_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionRequest.game_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionrequestmetadata" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionRequest.metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionrequestplatform" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionRequest.platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.client_schemas.StartSessionResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseaccess_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseclient_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.client_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseexpires_in" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.expires_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponsefirst_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.first_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponsefrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponsegame_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.game_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponselast_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.last_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponsemetadata" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponseplatform" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponserefresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapiclient_schemasstartsessionresponsestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.client_schemas.StartSessionResponse.status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_routes" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.device_routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_routesget_device" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_routes.get_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_routeslist_devices" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_routes.list_devices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_routesrouter" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_routes.router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_routesupdate_device" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_routes.update_device
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.device_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_schemas.DeviceResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponseaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponseclient_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.client_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsefirst_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.first_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsefrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsegame_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.game_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponseid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponselast_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.last_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsemetadata" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponseplatform" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponsestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceresponseupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceResponse.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceupdaterequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_schemas.DeviceUpdateRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_schemasdeviceupdaterequeststatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_schemas.DeviceUpdateRequest.status
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_routes" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_routes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.device_session_routes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_routesget_session" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_routes.get_session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_routeslist_sessions" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_routes.list_sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_routesrouter" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_routes.router
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_routesupdate_session" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_routes.update_session
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemas" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_schemas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.api.device_session_schemas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponse" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_schemas.DeviceSessionResponse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponsecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponsedevice_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.device_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponseexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponsefrom_domain" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.from_domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponseid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponseip_address" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.ip_address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponserefresh_expires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.refresh_expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponserevoked_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.revoked_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponseupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionresponseuser_agent" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionResponse.user_agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionupdaterequest" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthapidevice_session_schemasdevicesessionupdaterequestrevoked" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest.revoked
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthbootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.bootstrap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.bootstrap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthbootstrapensure_superadmin_exists" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.bootstrap.ensure_superadmin_exists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthbootstraplogger" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.bootstrap.logger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependencies" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontext" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.dependencies.AdminAuthContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextapi_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextauth_type" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.auth_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextdevice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontexthas_access_to_account" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.has_access_to_account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextis_superadmin" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.is_superadmin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextuser" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContext.user
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextdep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContextDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesadminauthcontextwithaccountiddep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AdminAuthContextWithAccountIDDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontext" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.dependencies.AuthContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextapi_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextauth_type" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.auth_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdevice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontexthas_access_to_account" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.has_access_to_account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextis_superadmin" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.is_superadmin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextuser" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContext.user
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdependency" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContextDependency
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.dependencies.AuthContextDependency">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdependencyrequire_admin" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContextDependency.require_admin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdependencyrequire_client" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContextDependency.require_client
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdependencyrequire_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContextDependency.require_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesauthcontextdependencyrequire_superadmin_account_id" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.AuthContextDependency.require_superadmin_account_id
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontext" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.dependencies.ClientAuthContext">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextapi_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextauth_type" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.auth_type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextdevice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontexthas_access_to_account" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.has_access_to_account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextis_superadmin" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.is_superadmin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextuser" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContext.user
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextdep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContextDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesclientauthcontextwithnoncedep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.ClientAuthContextWithNonceDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependencieslogger" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.logger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesrequire_admin_auth" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.require_admin_auth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesrequire_admin_auth_with_account_id" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.require_admin_auth_with_account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesrequire_client_auth" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.require_client_auth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdependenciesrequire_client_auth_with_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.dependencies.require_client_auth_with_nonce
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomain" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.domain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.api_key
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.domain.api_key">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikey" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.api_key.APIKey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeycreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeydeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyis_deleted" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.is_deleted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyis_expired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyis_valid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.is_valid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeykey_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.key_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeykey_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.key_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeylast_used_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.last_used_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeymodel_config" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.model_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyname" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.name
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyrecord_usage" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.record_usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyrestore" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.restore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyrevoke" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.revoke
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeysoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeystatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyuser_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.user_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeyvalidate_key_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKey.validate_key_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeystatus_1" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.api_key.APIKeyStatus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeystatusactive" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKeyStatus.ACTIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainapi_keyapikeystatusrevoked" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.api_key.APIKeyStatus.REVOKED
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.device
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.domain.device">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.device.Device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceaccount_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.account_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceactivate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.activate
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceban" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.ban
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceclient_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.client_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicedeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicefirst_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.first_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicegame_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.game_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceis_active" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.is_active
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceis_deleted" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.is_deleted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicelast_seen_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.last_seen_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicemetadata" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.metadata
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicemodel_config" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.model_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceplatform" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.platform
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicerestore" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.restore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesuspend" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.suspend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceupdate_last_seen" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.update_last_seen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedeviceupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicevalidate_sha256" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.Device.validate_sha256
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesession" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.device.DeviceSession
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionaccess_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.access_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessioncreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessiondeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessiondevice_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.device_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionip_address" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.ip_address
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionis_deleted" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.is_deleted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionis_expired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionis_refresh_expired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.is_refresh_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionis_revoked" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.is_revoked
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionis_valid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.is_valid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionmodel_config" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.model_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrefresh_expires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.refresh_expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrefresh_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.refresh_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrestore" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.restore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrevoke" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.revoke
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrevoked_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.revoked_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionrotate_tokens" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.rotate_tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionsoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessiontoken_version" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.token_version
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicesessionuser_agent" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceSession.user_agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicestatus_1" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.device.DeviceStatus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicestatusactive" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceStatus.ACTIVE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicestatusbanned" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceStatus.BANNED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomaindevicedevicestatussuspended" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.device.DeviceStatus.SUSPENDED
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnonce" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.nonce
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.domain.nonce">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonce" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.nonce.Nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncecreated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.created_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncedeleted_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.deleted_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncedevice_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.device_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceexpires_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.expires_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceis_deleted" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.is_deleted
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceis_expired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.is_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceis_used" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.is_used
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceis_valid" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.is_valid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncemark_expired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.mark_expired
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncemark_used" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.mark_used
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncemodel_config" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.model_config
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncenonce_value" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.nonce_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncerestore" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.restore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncesoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncestatus" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceupdated_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.updated_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenonceused_at" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.Nonce.used_at
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncestatus_1" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.domain.nonce.NonceStatus
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncestatusexpired" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.NonceStatus.EXPIRED
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncestatuspending" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.NonceStatus.PENDING
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthdomainnoncenoncestatusused" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.domain.nonce.NonceStatus.USED
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservices" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_crypto" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.api_key_crypto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_cryptoapi_key_bytes" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto.API_KEY_BYTES
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_cryptoapi_key_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto.API_KEY_PREFIX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_cryptogenerate_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto.generate_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_cryptohash_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto.hash_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_cryptoverify_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_crypto.verify_api_key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.api_key_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.api_key_service.APIKeyService
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicecount_active_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.count_active_api_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.create_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key_with_value" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.create_api_key_with_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicedelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyserviceget_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.get_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyserviceget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyserviceget_by_id_or_raise" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.get_by_id_or_raise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicelist_account_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.list_account_api_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicelist_all" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.list_all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicelist_api_keys" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.list_api_keys
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicerecord_usage" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.record_usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicerepository" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicerevoke_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.revoke_api_key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicesoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyserviceupdate_api_key_status" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.update_api_key_status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesapi_key_serviceapikeyservicevalidate_api_key" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.api_key_service.APIKeyService.validate_api_key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependencies" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.dependencies">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesapikeyservicedep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.APIKeyServiceDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesdeviceservicedep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.DeviceServiceDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesnonceservicedep" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.NonceServiceDep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesget_api_key_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.get_api_key_service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesget_device_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.get_device_service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdependenciesget_nonce_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.dependencies.get_nonce_service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.device_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_service.DeviceService
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceactivate_device" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.activate_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceban_device" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.ban_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicedelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceget_by_id_or_raise" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.get_by_id_or_raise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceget_device" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.get_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceget_session" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.get_session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceserviceget_session_or_raise" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.get_session_or_raise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicelist_all" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.list_all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicelist_devices" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.list_devices
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicelist_sessions" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.list_sessions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicerefresh_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.refresh_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicerepository" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicerevoke_session" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.revoke_session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicesession" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicesession_repo" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.session_repo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicesoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicestart_session" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.start_session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicesuspend_device" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.suspend_device
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_servicedeviceservicevalidate_device_token" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.device_service.DeviceService.validate_device_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_crypto" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.device_token_crypto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_cryptogenerate_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto.generate_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_cryptogenerate_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto.generate_refresh_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_cryptohash_token" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto.hash_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_cryptovalidate_access_token" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto.validate_access_token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesdevice_token_cryptovalidate_refresh_token" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.device_token_crypto.validate_refresh_token
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_service" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.nonce_service
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.nonce_service">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservice" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.nonce_service.NonceService
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicecleanup_expired_nonces" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.cleanup_expired_nonces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicedelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicegenerate_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.generate_nonce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceserviceget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceserviceget_by_id_or_raise" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.get_by_id_or_raise
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicelist_all" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.list_all
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicerepository" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicesoft_delete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.soft_delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_servicenonceservicevalidate_and_consume_nonce" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.nonce_service.NonceService.validate_and_consume_nonce
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_tasks" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.nonce_tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.nonce_tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_taskscleanup_expired_nonces" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.nonce_tasks.cleanup_expired_nonces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesnonce_taskslogger" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.nonce_tasks.logger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositories" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.repositories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="leadr.auth.services.repositories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepository" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.repositories.APIKeyRepository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositorysortable_fields" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.SORTABLE_FIELDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositorycount_active_by_account" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.count_active_by_account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositorycreate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositorydelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositoryfilter" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositoryget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositoryget_by_prefix" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.get_by_prefix
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositorysession" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesapikeyrepositoryupdate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.APIKeyRepository.update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepository" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.repositories.DeviceRepository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositorysortable_fields" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.SORTABLE_FIELDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositorycreate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositorydelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositoryfilter" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositoryget_by_game_and_fingerprint" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.get_by_game_and_fingerprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositoryget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositorysession" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicerepositoryupdate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceRepository.update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepository" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.repositories.DeviceSessionRepository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositorysortable_fields" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.SORTABLE_FIELDS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositorycreate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositorydelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositoryfilter" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_refresh_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.get_by_refresh_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_token_hash" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.get_by_token_hash
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositorysession" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesdevicesessionrepositoryupdate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.DeviceSessionRepository.update
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepository" class="md-nav__link">
    <span class="md-ellipsis">
      leadr.auth.services.repositories.NonceRepository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositorycleanup_expired_nonces" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.cleanup_expired_nonces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositorycreate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.create
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositorydelete" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositoryfilter" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositoryget_by_id" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.get_by_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositoryget_by_nonce_value" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.get_by_nonce_value
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositorysession" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leadrauthservicesrepositoriesnoncerepositoryupdate" class="md-nav__link">
    <span class="md-ellipsis">
      # leadr.auth.services.repositories.NonceRepository.update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Auth</h1>

<h3 id="leadrauth"><code>leadr.auth</code><a class="headerlink" href="#leadrauth" title="Permanent link">&para;</a></h3>
<p><strong>Modules:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters"><strong>adapters</strong></a> </li>
<li><a href="./#leadr.auth.api"><strong>api</strong></a> </li>
<li><a href="./#leadr.auth.bootstrap"><strong>bootstrap</strong></a>  Superadmin bootstrap functionality.</li>
<li><a href="./#leadr.auth.dependencies"><strong>dependencies</strong></a>  Authentication dependencies for FastAPI.</li>
<li><a href="./#leadr.auth.domain"><strong>domain</strong></a> </li>
<li><a href="./#leadr.auth.services"><strong>services</strong></a> </li>
</ul>
<h4 id="leadrauthadapters"><code>leadr.auth.adapters</code><a class="headerlink" href="#leadrauthadapters" title="Permanent link">&para;</a></h4>
<p><strong>Modules:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters.orm"><strong>orm</strong></a>  Auth ORM models.</li>
</ul>
<h5 id="leadrauthadaptersorm"><code>leadr.auth.adapters.orm</code><a class="headerlink" href="#leadrauthadaptersorm" title="Permanent link">&para;</a></h5>
<p>Auth ORM models.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters.orm.APIKeyORM"><strong>APIKeyORM</strong></a>  API Key ORM model.</li>
<li><a href="./#leadr.auth.adapters.orm.APIKeyStatusEnum"><strong>APIKeyStatusEnum</strong></a>  API Key status enum for database.</li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM"><strong>DeviceORM</strong></a>  Device ORM model.</li>
<li><a href="./#leadr.auth.adapters.orm.DeviceSessionORM"><strong>DeviceSessionORM</strong></a>  DeviceSession ORM model.</li>
<li><a href="./#leadr.auth.adapters.orm.DeviceStatusEnum"><strong>DeviceStatusEnum</strong></a>  Device status enum for database.</li>
<li><a href="./#leadr.auth.adapters.orm.NonceORM"><strong>NonceORM</strong></a>  Nonce ORM model.</li>
<li><a href="./#leadr.auth.adapters.orm.NonceStatusEnum"><strong>NonceStatusEnum</strong></a>  Nonce status enum for database.</li>
</ul>
<h6 id="leadrauthadaptersormapikeyorm"><code>leadr.auth.adapters.orm.APIKeyORM</code><a class="headerlink" href="#leadrauthadaptersormapikeyorm" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.orm.Base">Base</a></code></p>
<p>API Key ORM model.</p>
<p>Represents an API key for account authentication in the database.
Maps to the api_keys table with foreign key to accounts and users.
Each API key is owned by a specific user within the account.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.account_id"><strong>account_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.created_at"><strong>created_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.nullable_timestamp">nullable_timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.expires_at"><strong>expires_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a> | None]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.APIKeyORM.id"><strong>id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.uuid_pk">uuid_pk</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.key_hash"><strong>key_hash</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.key_prefix"><strong>key_prefix</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.last_used_at"><strong>last_used_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a> | None]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.APIKeyORM.name"><strong>name</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.APIKeyORM.status"><strong>status</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="./#leadr.auth.adapters.orm.APIKeyStatusEnum">APIKeyStatusEnum</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.updated_at"><strong>updated_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.APIKeyORM.user_id"><strong>user_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
</ul>
<h6 id="leadrauthadaptersormapikeyormaccount_id"># <code>leadr.auth.adapters.orm.APIKeyORM.account_id</code><a class="headerlink" href="#leadrauthadaptersormapikeyormaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;accounts.id&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;CASCADE&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormcreated_at"># <code>leadr.auth.adapters.orm.APIKeyORM.created_at</code><a class="headerlink" href="#leadrauthadaptersormapikeyormcreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormdeleted_at"># <code>leadr.auth.adapters.orm.APIKeyORM.deleted_at</code><a class="headerlink" href="#leadrauthadaptersormapikeyormdeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">nullable_timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormexpires_at"># <code>leadr.auth.adapters.orm.APIKeyORM.expires_at</code><a class="headerlink" href="#leadrauthadaptersormapikeyormexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormid"># <code>leadr.auth.adapters.orm.APIKeyORM.id</code><a class="headerlink" href="#leadrauthadaptersormapikeyormid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">uuid_pk</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormkey_hash"># <code>leadr.auth.adapters.orm.APIKeyORM.key_hash</code><a class="headerlink" href="#leadrauthadaptersormapikeyormkey_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">key_hash</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormkey_prefix"># <code>leadr.auth.adapters.orm.APIKeyORM.key_prefix</code><a class="headerlink" href="#leadrauthadaptersormapikeyormkey_prefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">key_prefix</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormlast_used_at"># <code>leadr.auth.adapters.orm.APIKeyORM.last_used_at</code><a class="headerlink" href="#leadrauthadaptersormapikeyormlast_used_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_used_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormname"># <code>leadr.auth.adapters.orm.APIKeyORM.name</code><a class="headerlink" href="#leadrauthadaptersormapikeyormname" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormstatus"># <code>leadr.auth.adapters.orm.APIKeyORM.status</code><a class="headerlink" href="#leadrauthadaptersormapikeyormstatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">APIKeyStatusEnum</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="n">APIKeyStatusEnum</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;api_key_status&#39;</span><span class="p">,</span> <span class="n">native_enum</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">values_callable</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="n">APIKeyStatusEnum</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">),</span> <span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormupdated_at"># <code>leadr.auth.adapters.orm.APIKeyORM.updated_at</code><a class="headerlink" href="#leadrauthadaptersormapikeyormupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">onupdate</span><span class="o">=</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeyormuser_id"># <code>leadr.auth.adapters.orm.APIKeyORM.user_id</code><a class="headerlink" href="#leadrauthadaptersormapikeyormuser_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;users.id&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;CASCADE&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeystatusenum"><code>leadr.auth.adapters.orm.APIKeyStatusEnum</code><a class="headerlink" href="#leadrauthadaptersormapikeystatusenum" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#str">str</a></code>, <code><a href="#enum.Enum">Enum</a></code></p>
<p>API Key status enum for database.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters.orm.APIKeyStatusEnum.ACTIVE"><strong>ACTIVE</strong></a> </li>
<li><a href="./#leadr.auth.adapters.orm.APIKeyStatusEnum.REVOKED"><strong>REVOKED</strong></a> </li>
</ul>
<h6 id="leadrauthadaptersormapikeystatusenumactive"># <code>leadr.auth.adapters.orm.APIKeyStatusEnum.ACTIVE</code><a class="headerlink" href="#leadrauthadaptersormapikeystatusenumactive" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ACTIVE</span> <span class="o">=</span> <span class="s1">&#39;active&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormapikeystatusenumrevoked"># <code>leadr.auth.adapters.orm.APIKeyStatusEnum.REVOKED</code><a class="headerlink" href="#leadrauthadaptersormapikeystatusenumrevoked" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">REVOKED</span> <span class="o">=</span> <span class="s1">&#39;revoked&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceorm"><code>leadr.auth.adapters.orm.DeviceORM</code><a class="headerlink" href="#leadrauthadaptersormdeviceorm" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.orm.Base">Base</a></code></p>
<p>Device ORM model.</p>
<p>Represents a game client device (e.g., mobile device, PC, console) in the database.
Maps to the devices table with foreign key to games.
Devices are scoped per-game for client authentication.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.from_domain"><strong>from_domain</strong></a>  Convert Device domain entity to ORM model.</li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.to_domain"><strong>to_domain</strong></a>  Convert ORM model to Device domain entity.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.account_id"><strong>account_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.client_fingerprint"><strong>client_fingerprint</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.created_at"><strong>created_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.nullable_timestamp">nullable_timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.device_metadata"><strong>device_metadata</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>]]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.first_seen_at"><strong>first_seen_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.game"><strong>game</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../games/#leadr.games.adapters.orm.GameORM">GameORM</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.game_id"><strong>game_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.id"><strong>id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.uuid_pk">uuid_pk</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.last_seen_at"><strong>last_seen_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.nonces"><strong>nonces</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#list">list</a>[<a href="./#leadr.auth.adapters.orm.NonceORM">NonceORM</a>]]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.platform"><strong>platform</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a> | None]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.sessions"><strong>sessions</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#list">list</a>[<a href="./#leadr.auth.adapters.orm.DeviceSessionORM">DeviceSessionORM</a>]]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceORM.status"><strong>status</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="./#leadr.auth.adapters.orm.DeviceStatusEnum">DeviceStatusEnum</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceORM.updated_at"><strong>updated_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
</ul>
<h6 id="leadrauthadaptersormdeviceormaccount_id"># <code>leadr.auth.adapters.orm.DeviceORM.account_id</code><a class="headerlink" href="#leadrauthadaptersormdeviceormaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormclient_fingerprint"># <code>leadr.auth.adapters.orm.DeviceORM.client_fingerprint</code><a class="headerlink" href="#leadrauthadaptersormdeviceormclient_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">client_fingerprint</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">(</span><span class="mi">64</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormcreated_at"># <code>leadr.auth.adapters.orm.DeviceORM.created_at</code><a class="headerlink" href="#leadrauthadaptersormdeviceormcreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormdeleted_at"># <code>leadr.auth.adapters.orm.DeviceORM.deleted_at</code><a class="headerlink" href="#leadrauthadaptersormdeviceormdeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">nullable_timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormdevice_metadata"># <code>leadr.auth.adapters.orm.DeviceORM.device_metadata</code><a class="headerlink" href="#leadrauthadaptersormdeviceormdevice_metadata" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_metadata</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="n">JSON</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormfirst_seen_at"># <code>leadr.auth.adapters.orm.DeviceORM.first_seen_at</code><a class="headerlink" href="#leadrauthadaptersormdeviceormfirst_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">first_seen_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormfrom_domain"># <code>leadr.auth.adapters.orm.DeviceORM.from_domain</code><a class="headerlink" href="#leadrauthadaptersormdeviceormfrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<p>Convert Device domain entity to ORM model.</p>
<h6 id="leadrauthadaptersormdeviceormgame"># <code>leadr.auth.adapters.orm.DeviceORM.game</code><a class="headerlink" href="#leadrauthadaptersormdeviceormgame" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">GameORM</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;GameORM&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormgame_id"># <code>leadr.auth.adapters.orm.DeviceORM.game_id</code><a class="headerlink" href="#leadrauthadaptersormdeviceormgame_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;games.id&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;CASCADE&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormid"># <code>leadr.auth.adapters.orm.DeviceORM.id</code><a class="headerlink" href="#leadrauthadaptersormdeviceormid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">uuid_pk</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormlast_seen_at"># <code>leadr.auth.adapters.orm.DeviceORM.last_seen_at</code><a class="headerlink" href="#leadrauthadaptersormdeviceormlast_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_seen_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormnonces"># <code>leadr.auth.adapters.orm.DeviceORM.nonces</code><a class="headerlink" href="#leadrauthadaptersormdeviceormnonces" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">nonces</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">NonceORM</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;NonceORM&#39;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s1">&#39;all, delete-orphan&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormplatform"># <code>leadr.auth.adapters.orm.DeviceORM.platform</code><a class="headerlink" href="#leadrauthadaptersormdeviceormplatform" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">platform</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormsessions"># <code>leadr.auth.adapters.orm.DeviceORM.sessions</code><a class="headerlink" href="#leadrauthadaptersormdeviceormsessions" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">sessions</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">DeviceSessionORM</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;DeviceSessionORM&#39;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s1">&#39;device&#39;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s1">&#39;all, delete-orphan&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormstatus"># <code>leadr.auth.adapters.orm.DeviceORM.status</code><a class="headerlink" href="#leadrauthadaptersormdeviceormstatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">DeviceStatusEnum</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="n">DeviceStatusEnum</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;device_status&#39;</span><span class="p">,</span> <span class="n">native_enum</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">values_callable</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="n">DeviceStatusEnum</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">),</span> <span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdeviceormto_domain"># <code>leadr.auth.adapters.orm.DeviceORM.to_domain</code><a class="headerlink" href="#leadrauthadaptersormdeviceormto_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">to_domain</span><span class="p">()</span>
</code></pre></div>
<p>Convert ORM model to Device domain entity.</p>
<h6 id="leadrauthadaptersormdeviceormupdated_at"># <code>leadr.auth.adapters.orm.DeviceORM.updated_at</code><a class="headerlink" href="#leadrauthadaptersormdeviceormupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">onupdate</span><span class="o">=</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionorm"><code>leadr.auth.adapters.orm.DeviceSessionORM</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionorm" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.orm.Base">Base</a></code></p>
<p>DeviceSession ORM model.</p>
<p>Represents an active authentication session for a device in the database.
Maps to the device_sessions table with foreign key to devices.
Sessions include both access and refresh tokens with token rotation support.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.from_domain"><strong>from_domain</strong></a>  Convert DeviceSession domain entity to ORM model.</li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.to_domain"><strong>to_domain</strong></a>  Convert ORM model to DeviceSession domain entity.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.access_token_hash"><strong>access_token_hash</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.created_at"><strong>created_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.nullable_timestamp">nullable_timestamp</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceSessionORM.device"><strong>device</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="./#leadr.auth.adapters.orm.DeviceORM">DeviceORM</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.device_id"><strong>device_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.expires_at"><strong>expires_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceSessionORM.id"><strong>id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.uuid_pk">uuid_pk</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.ip_address"><strong>ip_address</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a> | None]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.refresh_expires_at"><strong>refresh_expires_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.refresh_token_hash"><strong>refresh_token_hash</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.revoked_at"><strong>revoked_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a> | None]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.token_version"><strong>token_version</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#int">int</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.updated_at"><strong>updated_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.DeviceSessionORM.user_agent"><strong>user_agent</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a> | None]</code>) </li>
</ul>
<h6 id="leadrauthadaptersormdevicesessionormaccess_token_hash"># <code>leadr.auth.adapters.orm.DeviceSessionORM.access_token_hash</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormaccess_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">access_token_hash</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormcreated_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.created_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormcreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormdeleted_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.deleted_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormdeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">nullable_timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormdevice"># <code>leadr.auth.adapters.orm.DeviceSessionORM.device</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormdevice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">DeviceORM</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;DeviceORM&#39;</span><span class="p">,</span> <span class="n">back_populates</span><span class="o">=</span><span class="s1">&#39;sessions&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormdevice_id"># <code>leadr.auth.adapters.orm.DeviceSessionORM.device_id</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormdevice_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;devices.id&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;CASCADE&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormexpires_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.expires_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormfrom_domain"># <code>leadr.auth.adapters.orm.DeviceSessionORM.from_domain</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormfrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<p>Convert DeviceSession domain entity to ORM model.</p>
<h6 id="leadrauthadaptersormdevicesessionormid"># <code>leadr.auth.adapters.orm.DeviceSessionORM.id</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">uuid_pk</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormip_address"># <code>leadr.auth.adapters.orm.DeviceSessionORM.ip_address</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormip_address" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ip_address</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormrefresh_expires_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.refresh_expires_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormrefresh_expires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormrefresh_token_hash"># <code>leadr.auth.adapters.orm.DeviceSessionORM.refresh_token_hash</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormrefresh_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_token_hash</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormrevoked_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.revoked_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormrevoked_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoked_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormto_domain"># <code>leadr.auth.adapters.orm.DeviceSessionORM.to_domain</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormto_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">to_domain</span><span class="p">()</span>
</code></pre></div>
<p>Convert ORM model to DeviceSession domain entity.</p>
<h6 id="leadrauthadaptersormdevicesessionormtoken_version"># <code>leadr.auth.adapters.orm.DeviceSessionORM.token_version</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormtoken_version" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">token_version</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormupdated_at"># <code>leadr.auth.adapters.orm.DeviceSessionORM.updated_at</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">onupdate</span><span class="o">=</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicesessionormuser_agent"># <code>leadr.auth.adapters.orm.DeviceSessionORM.user_agent</code><a class="headerlink" href="#leadrauthadaptersormdevicesessionormuser_agent" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_agent</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicestatusenum"><code>leadr.auth.adapters.orm.DeviceStatusEnum</code><a class="headerlink" href="#leadrauthadaptersormdevicestatusenum" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#str">str</a></code>, <code><a href="#enum.Enum">Enum</a></code></p>
<p>Device status enum for database.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters.orm.DeviceStatusEnum.ACTIVE"><strong>ACTIVE</strong></a> </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceStatusEnum.BANNED"><strong>BANNED</strong></a> </li>
<li><a href="./#leadr.auth.adapters.orm.DeviceStatusEnum.SUSPENDED"><strong>SUSPENDED</strong></a> </li>
</ul>
<h6 id="leadrauthadaptersormdevicestatusenumactive"># <code>leadr.auth.adapters.orm.DeviceStatusEnum.ACTIVE</code><a class="headerlink" href="#leadrauthadaptersormdevicestatusenumactive" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ACTIVE</span> <span class="o">=</span> <span class="s1">&#39;active&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicestatusenumbanned"># <code>leadr.auth.adapters.orm.DeviceStatusEnum.BANNED</code><a class="headerlink" href="#leadrauthadaptersormdevicestatusenumbanned" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">BANNED</span> <span class="o">=</span> <span class="s1">&#39;banned&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormdevicestatusenumsuspended"># <code>leadr.auth.adapters.orm.DeviceStatusEnum.SUSPENDED</code><a class="headerlink" href="#leadrauthadaptersormdevicestatusenumsuspended" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">SUSPENDED</span> <span class="o">=</span> <span class="s1">&#39;suspended&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceorm"><code>leadr.auth.adapters.orm.NonceORM</code><a class="headerlink" href="#leadrauthadaptersormnonceorm" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.orm.Base">Base</a></code></p>
<p>Nonce ORM model.</p>
<p>Represents a single-use nonce for replay protection in the database.
Maps to the nonces table with foreign key to devices.
Nonces are short-lived tokens (typically 60 seconds) that must be
obtained before making mutating requests.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.NonceORM.from_domain"><strong>from_domain</strong></a>  Convert Nonce domain entity to ORM model.</li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.to_domain"><strong>to_domain</strong></a>  Convert ORM model to Nonce domain entity.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.adapters.orm.NonceORM.created_at"><strong>created_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.nullable_timestamp">nullable_timestamp</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.NonceORM.device"><strong>device</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="./#leadr.auth.adapters.orm.DeviceORM">DeviceORM</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.device_id"><strong>device_id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#uuid.UUID">UUID</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.expires_at"><strong>expires_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.NonceORM.id"><strong>id</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#leadr.common.orm.uuid_pk">uuid_pk</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.nonce_value"><strong>nonce_value</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#str">str</a>]</code>) </li>
<li><a href="./#leadr.auth.adapters.orm.NonceORM.status"><strong>status</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="./#leadr.auth.adapters.orm.NonceStatusEnum">NonceStatusEnum</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.updated_at"><strong>updated_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="../common/#leadr.common.orm.timestamp">timestamp</a>]</code>) </li>
<li><a href="#leadr.auth.adapters.orm.NonceORM.used_at"><strong>used_at</strong></a> (<code><a href="#sqlalchemy.orm.Mapped">Mapped</a>[<a href="#datetime.datetime">datetime</a> | None]</code>) </li>
</ul>
<h6 id="leadrauthadaptersormnonceormcreated_at"># <code>leadr.auth.adapters.orm.NonceORM.created_at</code><a class="headerlink" href="#leadrauthadaptersormnonceormcreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormdeleted_at"># <code>leadr.auth.adapters.orm.NonceORM.deleted_at</code><a class="headerlink" href="#leadrauthadaptersormnonceormdeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">nullable_timestamp</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormdevice"># <code>leadr.auth.adapters.orm.NonceORM.device</code><a class="headerlink" href="#leadrauthadaptersormnonceormdevice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">DeviceORM</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s1">&#39;DeviceORM&#39;</span><span class="p">,</span> <span class="n">overlaps</span><span class="o">=</span><span class="s1">&#39;nonces&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormdevice_id"># <code>leadr.auth.adapters.orm.NonceORM.device_id</code><a class="headerlink" href="#leadrauthadaptersormnonceormdevice_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">UUID</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s1">&#39;devices.id&#39;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s1">&#39;CASCADE&#39;</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormexpires_at"># <code>leadr.auth.adapters.orm.NonceORM.expires_at</code><a class="headerlink" href="#leadrauthadaptersormnonceormexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormfrom_domain"># <code>leadr.auth.adapters.orm.NonceORM.from_domain</code><a class="headerlink" href="#leadrauthadaptersormnonceormfrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">nonce</span><span class="p">)</span>
</code></pre></div>
<p>Convert Nonce domain entity to ORM model.</p>
<h6 id="leadrauthadaptersormnonceormid"># <code>leadr.auth.adapters.orm.NonceORM.id</code><a class="headerlink" href="#leadrauthadaptersormnonceormid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">uuid_pk</span><span class="p">]</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormnonce_value"># <code>leadr.auth.adapters.orm.NonceORM.nonce_value</code><a class="headerlink" href="#leadrauthadaptersormnonceormnonce_value" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">nonce_value</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormstatus"># <code>leadr.auth.adapters.orm.NonceORM.status</code><a class="headerlink" href="#leadrauthadaptersormnonceormstatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">NonceStatusEnum</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="n">NonceStatusEnum</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;nonce_status&#39;</span><span class="p">,</span> <span class="n">native_enum</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">values_callable</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[(</span><span class="n">e</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="n">NonceStatusEnum</span><span class="o">.</span><span class="n">PENDING</span><span class="p">),</span> <span class="n">server_default</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormto_domain"># <code>leadr.auth.adapters.orm.NonceORM.to_domain</code><a class="headerlink" href="#leadrauthadaptersormnonceormto_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">to_domain</span><span class="p">()</span>
</code></pre></div>
<p>Convert ORM model to Nonce domain entity.</p>
<h6 id="leadrauthadaptersormnonceormupdated_at"># <code>leadr.auth.adapters.orm.NonceORM.updated_at</code><a class="headerlink" href="#leadrauthadaptersormnonceormupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">timestamp</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">onupdate</span><span class="o">=</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnonceormused_at"># <code>leadr.auth.adapters.orm.NonceORM.used_at</code><a class="headerlink" href="#leadrauthadaptersormnonceormused_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">used_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnoncestatusenum"><code>leadr.auth.adapters.orm.NonceStatusEnum</code><a class="headerlink" href="#leadrauthadaptersormnoncestatusenum" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#str">str</a></code>, <code><a href="#enum.Enum">Enum</a></code></p>
<p>Nonce status enum for database.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.adapters.orm.NonceStatusEnum.EXPIRED"><strong>EXPIRED</strong></a> </li>
<li><a href="./#leadr.auth.adapters.orm.NonceStatusEnum.PENDING"><strong>PENDING</strong></a> </li>
<li><a href="./#leadr.auth.adapters.orm.NonceStatusEnum.USED"><strong>USED</strong></a> </li>
</ul>
<h6 id="leadrauthadaptersormnoncestatusenumexpired"># <code>leadr.auth.adapters.orm.NonceStatusEnum.EXPIRED</code><a class="headerlink" href="#leadrauthadaptersormnoncestatusenumexpired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">EXPIRED</span> <span class="o">=</span> <span class="s1">&#39;expired&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnoncestatusenumpending"># <code>leadr.auth.adapters.orm.NonceStatusEnum.PENDING</code><a class="headerlink" href="#leadrauthadaptersormnoncestatusenumpending" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">PENDING</span> <span class="o">=</span> <span class="s1">&#39;pending&#39;</span>
</code></pre></div>
<h6 id="leadrauthadaptersormnoncestatusenumused"># <code>leadr.auth.adapters.orm.NonceStatusEnum.USED</code><a class="headerlink" href="#leadrauthadaptersormnoncestatusenumused" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">USED</span> <span class="o">=</span> <span class="s1">&#39;used&#39;</span>
</code></pre></div>
<h4 id="leadrauthapi"><code>leadr.auth.api</code><a class="headerlink" href="#leadrauthapi" title="Permanent link">&para;</a></h4>
<p><strong>Modules:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_routes"><strong>api_key_routes</strong></a>  API routes for authentication and API key management.</li>
<li><a href="#leadr.auth.api.api_key_schemas"><strong>api_key_schemas</strong></a>  API schemas for Authentication endpoints.</li>
<li><a href="#leadr.auth.api.client_routes"><strong>client_routes</strong></a>  API routes for client device authentication.</li>
<li><a href="#leadr.auth.api.client_schemas"><strong>client_schemas</strong></a>  API request and response models for client authentication.</li>
<li><a href="#leadr.auth.api.device_routes"><strong>device_routes</strong></a>  API routes for device management.</li>
<li><a href="#leadr.auth.api.device_schemas"><strong>device_schemas</strong></a>  API request and response models for devices.</li>
<li><a href="#leadr.auth.api.device_session_routes"><strong>device_session_routes</strong></a>  API routes for device session management.</li>
<li><a href="#leadr.auth.api.device_session_schemas"><strong>device_session_schemas</strong></a>  API schemas for device sessions.</li>
</ul>
<h5 id="leadrauthapiapi_key_routes"><code>leadr.auth.api.api_key_routes</code><a class="headerlink" href="#leadrauthapiapi_key_routes" title="Permanent link">&para;</a></h5>
<p>API routes for authentication and API key management.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_routes.create_api_key"><strong>create_api_key</strong></a>  Create a new API key for an account.</li>
<li><a href="#leadr.auth.api.api_key_routes.get_api_key"><strong>get_api_key</strong></a>  Get a single API key by ID.</li>
<li><a href="#leadr.auth.api.api_key_routes.list_api_keys"><strong>list_api_keys</strong></a>  List API keys for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.api.api_key_routes.update_api_key"><strong>update_api_key</strong></a>  Update an API key.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_routes.router"><strong>router</strong></a> </li>
</ul>
<h6 id="leadrauthapiapi_key_routescreate_api_key"><code>leadr.auth.api.api_key_routes.create_api_key</code><a class="headerlink" href="#leadrauthapiapi_key_routescreate_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create_api_key</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Create a new API key for an account.</p>
<p>The plain API key is returned only once in this response.
Store it securely as it cannot be retrieved later.</p>
<p>For regular users, account_id must match their API key's account.
For superadmins, any account_id is accepted.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse">CreateAPIKeyResponse</a></code>  CreateAPIKeyResponse with the plain key included.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to the specified account.</li>
<li><code>404</code>  Account not found.</li>
</ul>
<h6 id="leadrauthapiapi_key_routesget_api_key"><code>leadr.auth.api.api_key_routes.get_api_key</code><a class="headerlink" href="#leadrauthapiapi_key_routesget_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_api_key</span><span class="p">(</span><span class="n">key_id</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Get a single API key by ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The UUID of the API key to retrieve.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.APIKeyServiceDep">APIKeyServiceDep</a></code>)  Injected API key service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse">APIKeyResponse</a></code>  APIKeyResponse with key details (excludes the plain key).</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this API key's account.</li>
<li><code>404</code>  API key not found.</li>
</ul>
<h6 id="leadrauthapiapi_key_routeslist_api_keys"><code>leadr.auth.api.api_key_routes.list_api_keys</code><a class="headerlink" href="#leadrauthapiapi_key_routeslist_api_keys" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_api_keys</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_status</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>List API keys for an account with optional filters and pagination.</p>
<p>For regular users, account_id is automatically derived from their API key.
For superadmins, account_id is optional - if omitted, returns API keys from all accounts.</p>
<p>Pagination:</p>
<ul>
<li>Default: 20 items per page, sorted by created_at:desc,id:asc</li>
<li>Custom sort: Use ?sort=name:asc,created_at:desc</li>
<li>Valid sort fields: id, name, created_at, updated_at</li>
<li>Navigation: Use next_cursor/prev_cursor from response</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

GET /v1/api-keys?account_id=acc_123&status=active&limit=50&sort=name:asc

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.APIKeyServiceDep">APIKeyServiceDep</a></code>)  Injected API key service dependency.</li>
<li><strong>pagination</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a>, <a href="#fastapi.Depends">Depends</a>()]</code>)  Pagination parameters (cursor, limit, sort).</li>
<li><strong>account_id</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None, <a href="#fastapi.Query">Query</a>(description='Account ID filter')]</code>)  Optional account_id query parameter (superadmins can omit to see all).</li>
<li><strong>key_status</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a> | None, <a href="#fastapi.Query">Query</a>(alias=<a href="#fastapi.status">status</a>, description='Filter by status')]</code>)  Optional status to filter results (active or revoked).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.api.pagination.PaginatedResponse">PaginatedResponse</a>[<a href="#leadr.auth.api.api_key_schemas.APIKeyResponse">APIKeyResponse</a>]</code>  PaginatedResponse with API keys and pagination metadata.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>400</code>  Invalid cursor, sort field, or cursor state mismatch.</li>
<li><code>403</code>  User does not have access to the specified account.</li>
</ul>
<h6 id="leadrauthapiapi_key_routesrouter"><code>leadr.auth.api.api_key_routes.router</code><a class="headerlink" href="#leadrauthapiapi_key_routesrouter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_routesupdate_api_key"><code>leadr.auth.api.api_key_routes.update_api_key</code><a class="headerlink" href="#leadrauthapiapi_key_routesupdate_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update_api_key</span><span class="p">(</span><span class="n">key_id</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Update an API key.</p>
<p>Currently supports:</p>
<ul>
<li>Updating status (e.g., to revoke a key)</li>
<li>Soft delete via deleted flag</li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The UUID of the API key to update.</li>
<li><strong>request</strong> (<code><a href="#leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest">UpdateAPIKeyRequest</a></code>)  Update request with optional status and deleted fields.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.APIKeyServiceDep">APIKeyServiceDep</a></code>)  Injected API key service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse">APIKeyResponse</a></code>  APIKeyResponse with updated key details.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this API key's account.</li>
<li><code>404</code>  API key not found.</li>
</ul>
<h5 id="leadrauthapiapi_key_schemas"><code>leadr.auth.api.api_key_schemas</code><a class="headerlink" href="#leadrauthapiapi_key_schemas" title="Permanent link">&para;</a></h5>
<p>API schemas for Authentication endpoints.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse"><strong>APIKeyResponse</strong></a>  Response schema for API key details.</li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyRequest"><strong>CreateAPIKeyRequest</strong></a>  Request schema for creating an API key.</li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse"><strong>CreateAPIKeyResponse</strong></a>  Response schema for creating an API key.</li>
<li><a href="#leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest"><strong>UpdateAPIKeyRequest</strong></a>  Request schema for updating an API key.</li>
</ul>
<h6 id="leadrauthapiapi_key_schemasapikeyresponse"><code>leadr.auth.api.api_key_schemas.APIKeyResponse</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response schema for API key details.</p>
<p>Excludes sensitive information like key_hash.
The full key is never returned after creation.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.from_domain"><strong>from_domain</strong></a>  Convert domain entity to response model.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.last_used_at"><strong>last_used_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.model_config"><strong>model_config</strong></a> </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.name"><strong>name</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.prefix"><strong>prefix</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.status"><strong>status</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse.user_id"><strong>user_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.UserID">UserID</a></code>) </li>
</ul>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseaccount_id"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.account_id</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the account this key belongs to&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponsecreated_at"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.created_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponsecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when the key was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseexpires_at"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.expires_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Expiration timestamp (UTC), or null if never expires&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponsefrom_domain"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.from_domain</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponsefrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">api_key</span><span class="p">)</span>
</code></pre></div>
<p>Convert domain entity to response model.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>api_key</strong> (<code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>)  The domain APIKey entity</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.api_key_schemas.APIKeyResponse">APIKeyResponse</a></code>  APIKeyResponse with all fields populated</li>
</ul>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseid"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.id</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">APIKeyID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique identifier for the API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponselast_used_at"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.last_used_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponselast_used_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_used_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last successful authentication (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponsemodel_config"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.model_config</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponsemodel_config" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s1">&#39;forbid&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponsename"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.name</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponsename" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Human-readable name for the API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseprefix"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.prefix</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseprefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Key prefix for identification (first 8 characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponsestatus"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.status</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponsestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">APIKeyStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Current status (active, revoked, expired)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseupdated_at"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.updated_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasapikeyresponseuser_id"># <code>leadr.auth.api.api_key_schemas.APIKeyResponse.user_id</code><a class="headerlink" href="#leadrauthapiapi_key_schemasapikeyresponseuser_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_id</span><span class="p">:</span> <span class="n">UserID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the user who owns this API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyrequest"><code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyrequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request schema for creating an API key.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.name"><strong>name</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.user_id"><strong>user_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.UserID">UserID</a></code>) </li>
</ul>
<h6 id="leadrauthapiapi_key_schemascreateapikeyrequestaccount_id"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.account_id</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyrequestaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the account this API key belongs to&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyrequestexpires_at"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.expires_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyrequestexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Optional expiration timestamp (UTC). Key never expires if omitted&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyrequestname"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.name</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyrequestname" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Human-readable name for the API key (e.g., &#39;Production Server&#39;)&quot;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyrequestuser_id"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyRequest.user_id</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyrequestuser_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_id</span><span class="p">:</span> <span class="n">UserID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the user who owns this API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponse"><code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response schema for creating an API key.</p>
<p>Includes the plain API key which is only shown once.
The client must save this key as it cannot be retrieved later.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.from_domain"><strong>from_domain</strong></a>  Convert domain entity to response model with plain key.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.key"><strong>key</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.name"><strong>name</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.prefix"><strong>prefix</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.status"><strong>status</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a></code>) </li>
</ul>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponsecreated_at"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.created_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponsecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when the key was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponseexpires_at"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.expires_at</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponseexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Expiration timestamp (UTC), or null if never expires&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponsefrom_domain"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.from_domain</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponsefrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">api_key</span><span class="p">,</span> <span class="n">plain_key</span><span class="p">)</span>
</code></pre></div>
<p>Convert domain entity to response model with plain key.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>api_key</strong> (<code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>)  The domain APIKey entity</li>
<li><strong>plain_key</strong> (<code><a href="#str">str</a></code>)  The plain text API key (only available at creation)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.api_key_schemas.CreateAPIKeyResponse">CreateAPIKeyResponse</a></code>  CreateAPIKeyResponse with all fields populated</li>
</ul>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponseid"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.id</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponseid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">APIKeyID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique identifier for the API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponsekey"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.key</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponsekey" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Plain text API key. ONLY returned at creation - save this securely!&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponsename"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.name</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponsename" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Human-readable name for the API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponseprefix"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.prefix</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponseprefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Key prefix for identification (first 8 characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemascreateapikeyresponsestatus"># <code>leadr.auth.api.api_key_schemas.CreateAPIKeyResponse.status</code><a class="headerlink" href="#leadrauthapiapi_key_schemascreateapikeyresponsestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">APIKeyStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Current status of the API key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasupdateapikeyrequest"><code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest</code><a class="headerlink" href="#leadrauthapiapi_key_schemasupdateapikeyrequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request schema for updating an API key.</p>
<p>Can update status (e.g., to revoke) or set deleted flag for soft delete.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.deleted"><strong>deleted</strong></a> (<code><a href="#bool">bool</a> | None</code>) </li>
<li><a href="#leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.status"><strong>status</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a> | None</code>) </li>
</ul>
<h6 id="leadrauthapiapi_key_schemasupdateapikeyrequestdeleted"># <code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.deleted</code><a class="headerlink" href="#leadrauthapiapi_key_schemasupdateapikeyrequestdeleted" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Set to true to soft delete the key&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiapi_key_schemasupdateapikeyrequeststatus"># <code>leadr.auth.api.api_key_schemas.UpdateAPIKeyRequest.status</code><a class="headerlink" href="#leadrauthapiapi_key_schemasupdateapikeyrequeststatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">APIKeyStatus</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Updated status (use &#39;revoked&#39; to disable key)&quot;</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthapiclient_routes"><code>leadr.auth.api.client_routes</code><a class="headerlink" href="#leadrauthapiclient_routes" title="Permanent link">&para;</a></h5>
<p>API routes for client device authentication.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_routes.generate_nonce"><strong>generate_nonce</strong></a>  Generate a fresh nonce for replay protection.</li>
<li><a href="#leadr.auth.api.client_routes.refresh_session"><strong>refresh_session</strong></a>  Refresh an expired access token using a valid refresh token.</li>
<li><a href="#leadr.auth.api.client_routes.start_session"><strong>start_session</strong></a>  Start a new device session for a game client.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_routes.protected_router"><strong>protected_router</strong></a> </li>
<li><a href="#leadr.auth.api.client_routes.public_router"><strong>public_router</strong></a> </li>
</ul>
<h6 id="leadrauthapiclient_routesgenerate_nonce"><code>leadr.auth.api.client_routes.generate_nonce</code><a class="headerlink" href="#leadrauthapiclient_routesgenerate_nonce" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">generate_nonce</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
</code></pre></div>
<p>Generate a fresh nonce for replay protection.</p>
<p>Nonces are single-use tokens with short TTL (60 seconds) that clients must
obtain before making mutating requests (POST, PATCH, DELETE). This prevents
replay attacks by ensuring each request is fresh and authorized.</p>
<p>Requires device authentication via access token.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.ClientAuthContextDep">ClientAuthContextDep</a></code>)  Authenticated client auth context (device guaranteed non-None)</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.NonceServiceDep">NonceServiceDep</a></code>)  NonceService dependency</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.client_schemas.NonceResponse">NonceResponse</a></code>  NonceResponse with nonce_value and expires_at</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>401</code>  Invalid or missing device token</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

1. Client calls GET /client/nonce with Authorization header
1. Server returns nonce_value and expires_at
1. Client includes nonce in leadr-client-nonce header for mutations
1. Server validates and consumes nonce (single-use)

</details>

<h6 id="leadrauthapiclient_routesprotected_router"><code>leadr.auth.api.client_routes.protected_router</code><a class="headerlink" href="#leadrauthapiclient_routesprotected_router" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">protected_router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
</code></pre></div>
<h6 id="leadrauthapiclient_routespublic_router"><code>leadr.auth.api.client_routes.public_router</code><a class="headerlink" href="#leadrauthapiclient_routespublic_router" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">public_router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;/client&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_routesrefresh_session"><code>leadr.auth.api.client_routes.refresh_session</code><a class="headerlink" href="#leadrauthapiclient_routesrefresh_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_session</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
</code></pre></div>
<p>Refresh an expired access token using a valid refresh token.</p>
<p>This endpoint implements token rotation for security:</p>
<ul>
<li>Returns new access and refresh tokens</li>
<li>Increments the token version</li>
<li>Invalidates the old refresh token (prevents replay attacks)</li>
</ul>
<p>No authentication is required (the refresh token itself is the credential).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>request</strong> (<code><a href="#leadr.auth.api.client_schemas.RefreshTokenRequest">RefreshTokenRequest</a></code>)  Refresh token request</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  DeviceService dependency</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.client_schemas.RefreshTokenResponse">RefreshTokenResponse</a></code>  RefreshTokenResponse with new tokens</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>401</code>  Invalid or expired refresh token</li>
<li><code>422</code>  Invalid request (missing refresh_token)</li>
</ul>
<h6 id="leadrauthapiclient_routesstart_session"><code>leadr.auth.api.client_routes.start_session</code><a class="headerlink" href="#leadrauthapiclient_routesstart_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">start_session</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">)</span>
</code></pre></div>
<p>Start a new device session for a game client.</p>
<p>This endpoint authenticates game clients and provides JWT access tokens.
It is idempotent - calling multiple times for the same device updates last_seen_at
and generates a new access token.</p>
<p>No authentication is required to call this endpoint (it IS the authentication).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>request</strong> (<code><a href="#leadr.auth.api.client_schemas.StartSessionRequest">StartSessionRequest</a></code>)  Session start request with game_id and device_id</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  DeviceService dependency</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.client_schemas.StartSessionResponse">StartSessionResponse</a></code>  StartSessionResponse with device info and access token</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>404</code>  Game not found</li>
<li><code>422</code>  Invalid request (missing required fields, invalid UUID format)</li>
</ul>
<h5 id="leadrauthapiclient_schemas"><code>leadr.auth.api.client_schemas</code><a class="headerlink" href="#leadrauthapiclient_schemas" title="Permanent link">&para;</a></h5>
<p>API request and response models for client authentication.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.NonceResponse"><strong>NonceResponse</strong></a>  Response schema for nonce generation.</li>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenRequest"><strong>RefreshTokenRequest</strong></a>  Request schema for refreshing an access token.</li>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenResponse"><strong>RefreshTokenResponse</strong></a>  Response schema for token refresh.</li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionRequest"><strong>StartSessionRequest</strong></a>  Request schema for starting a device session.</li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse"><strong>StartSessionResponse</strong></a>  Response schema for starting a device session.</li>
</ul>
<h6 id="leadrauthapiclient_schemasnonceresponse"><code>leadr.auth.api.client_schemas.NonceResponse</code><a class="headerlink" href="#leadrauthapiclient_schemasnonceresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response schema for nonce generation.</p>
<p>Nonces are single-use tokens with short TTL (60 seconds) that clients must
obtain before making mutating requests. This prevents replay attacks.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.NonceResponse.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.NonceResponse.nonce_value"><strong>nonce_value</strong></a> (<code><a href="#str">str</a></code>) </li>
</ul>
<h6 id="leadrauthapiclient_schemasnonceresponseexpires_at"># <code>leadr.auth.api.client_schemas.NonceResponse.expires_at</code><a class="headerlink" href="#leadrauthapiclient_schemasnonceresponseexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Nonce expiration timestamp (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasnonceresponsenonce_value"># <code>leadr.auth.api.client_schemas.NonceResponse.nonce_value</code><a class="headerlink" href="#leadrauthapiclient_schemasnonceresponsenonce_value" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">nonce_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique nonce value (UUID)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasrefreshtokenrequest"><code>leadr.auth.api.client_schemas.RefreshTokenRequest</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenrequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request schema for refreshing an access token.</p>
<p>Used by clients when their access token has expired.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenRequest.refresh_token"><strong>refresh_token</strong></a> (<code><a href="#str">str</a></code>) </li>
</ul>
<h6 id="leadrauthapiclient_schemasrefreshtokenrequestrefresh_token"># <code>leadr.auth.api.client_schemas.RefreshTokenRequest.refresh_token</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenrequestrefresh_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;JWT refresh token obtained from start_session&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasrefreshtokenresponse"><code>leadr.auth.api.client_schemas.RefreshTokenResponse</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response schema for token refresh.</p>
<p>Returns new access and refresh tokens with incremented version.
The old refresh token is invalidated and cannot be reused.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenResponse.access_token"><strong>access_token</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenResponse.expires_in"><strong>expires_in</strong></a> (<code><a href="#int">int</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.RefreshTokenResponse.refresh_token"><strong>refresh_token</strong></a> (<code><a href="#str">str</a></code>) </li>
</ul>
<h6 id="leadrauthapiclient_schemasrefreshtokenresponseaccess_token"># <code>leadr.auth.api.client_schemas.RefreshTokenResponse.access_token</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenresponseaccess_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;New JWT access token&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasrefreshtokenresponseexpires_in"># <code>leadr.auth.api.client_schemas.RefreshTokenResponse.expires_in</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenresponseexpires_in" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Access token expiration time in seconds&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasrefreshtokenresponserefresh_token"># <code>leadr.auth.api.client_schemas.RefreshTokenResponse.refresh_token</code><a class="headerlink" href="#leadrauthapiclient_schemasrefreshtokenresponserefresh_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;New JWT refresh token (old token is invalidated)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionrequest"><code>leadr.auth.api.client_schemas.StartSessionRequest</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionrequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request schema for starting a device session.</p>
<p>Used by game clients to authenticate and obtain an access token.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.StartSessionRequest.client_fingerprint"><strong>client_fingerprint</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionRequest.game_id"><strong>game_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionRequest.metadata"><strong>metadata</strong></a> (<code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>] | None</code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionRequest.platform"><strong>platform</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
</ul>
<h6 id="leadrauthapiclient_schemasstartsessionrequestclient_fingerprint"># <code>leadr.auth.api.client_schemas.StartSessionRequest.client_fingerprint</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionrequestclient_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">client_fingerprint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Client-generated SHA256 device fingerprint (64 hex characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionrequestgame_id"># <code>leadr.auth.api.client_schemas.StartSessionRequest.game_id</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionrequestgame_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game_id</span><span class="p">:</span> <span class="n">GameID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the game this device belongs to&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionrequestmetadata"># <code>leadr.auth.api.client_schemas.StartSessionRequest.metadata</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionrequestmetadata" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Optional device metadata (e.g., OS version, device model)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionrequestplatform"># <code>leadr.auth.api.client_schemas.StartSessionRequest.platform</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionrequestplatform" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">platform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Device platform (e.g., &#39;ios&#39;, &#39;android&#39;, &#39;pc&#39;, &#39;console&#39;)&quot;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponse"><code>leadr.auth.api.client_schemas.StartSessionResponse</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response schema for starting a device session.</p>
<p>Includes both access and refresh tokens which must be saved by the client.</p>
<ul>
<li>Access token: Short-lived, used for API requests in Authorization header</li>
<li>Refresh token: Long-lived, used to obtain new access tokens when expired</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.from_domain"><strong>from_domain</strong></a>  Convert domain entity to response model with tokens.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.access_token"><strong>access_token</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.client_fingerprint"><strong>client_fingerprint</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.expires_in"><strong>expires_in</strong></a> (<code><a href="#int">int</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.first_seen_at"><strong>first_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.game_id"><strong>game_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.last_seen_at"><strong>last_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.metadata"><strong>metadata</strong></a> (<code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>]</code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.platform"><strong>platform</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.refresh_token"><strong>refresh_token</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.client_schemas.StartSessionResponse.status"><strong>status</strong></a> (<code><a href="./#leadr.auth.domain.device.DeviceStatus">DeviceStatus</a></code>) </li>
</ul>
<h6 id="leadrauthapiclient_schemasstartsessionresponseaccess_token"># <code>leadr.auth.api.client_schemas.StartSessionResponse.access_token</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseaccess_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">access_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;JWT access token for authenticating API requests&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponseaccount_id"># <code>leadr.auth.api.client_schemas.StartSessionResponse.account_id</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the account that owns the game&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponseclient_fingerprint"># <code>leadr.auth.api.client_schemas.StartSessionResponse.client_fingerprint</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseclient_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">client_fingerprint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Client-generated SHA256 device fingerprint (64 hex characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponseexpires_in"># <code>leadr.auth.api.client_schemas.StartSessionResponse.expires_in</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseexpires_in" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_in</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Access token expiration time in seconds&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponsefirst_seen_at"># <code>leadr.auth.api.client_schemas.StartSessionResponse.first_seen_at</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponsefirst_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">first_seen_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when device was first seen (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponsefrom_domain"># <code>leadr.auth.api.client_schemas.StartSessionResponse.from_domain</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponsefrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">device</span><span class="p">,</span> <span class="n">access_token</span><span class="p">,</span> <span class="n">refresh_token</span><span class="p">,</span> <span class="n">expires_in</span><span class="p">)</span>
</code></pre></div>
<p>Convert domain entity to response model with tokens.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device</strong> (<code><a href="./#leadr.auth.domain.device.Device">Device</a></code>)  The domain Device entity</li>
<li><strong>access_token</strong> (<code><a href="#str">str</a></code>)  The plain JWT access token</li>
<li><strong>refresh_token</strong> (<code><a href="#str">str</a></code>)  The plain JWT refresh token</li>
<li><strong>expires_in</strong> (<code><a href="#int">int</a></code>)  Access token expiration time in seconds</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.client_schemas.StartSessionResponse">StartSessionResponse</a></code>  StartSessionResponse with all fields populated</li>
</ul>
<h6 id="leadrauthapiclient_schemasstartsessionresponsegame_id"># <code>leadr.auth.api.client_schemas.StartSessionResponse.game_id</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponsegame_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game_id</span><span class="p">:</span> <span class="n">GameID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the game&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponseid"># <code>leadr.auth.api.client_schemas.StartSessionResponse.id</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">DeviceID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique identifier for the device&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponselast_seen_at"># <code>leadr.auth.api.client_schemas.StartSessionResponse.last_seen_at</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponselast_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_seen_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when device was last seen (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponsemetadata"># <code>leadr.auth.api.client_schemas.StartSessionResponse.metadata</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponsemetadata" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Device metadata&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponseplatform"># <code>leadr.auth.api.client_schemas.StartSessionResponse.platform</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponseplatform" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">platform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Device platform&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponserefresh_token"># <code>leadr.auth.api.client_schemas.StartSessionResponse.refresh_token</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponserefresh_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;JWT refresh token for obtaining new access tokens&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapiclient_schemasstartsessionresponsestatus"># <code>leadr.auth.api.client_schemas.StartSessionResponse.status</code><a class="headerlink" href="#leadrauthapiclient_schemasstartsessionresponsestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">DeviceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Device status (active, suspended, banned)&#39;</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthapidevice_routes"><code>leadr.auth.api.device_routes</code><a class="headerlink" href="#leadrauthapidevice_routes" title="Permanent link">&para;</a></h5>
<p>API routes for device management.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_routes.get_device"><strong>get_device</strong></a>  Get a device by ID.</li>
<li><a href="#leadr.auth.api.device_routes.list_devices"><strong>list_devices</strong></a>  List devices for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.api.device_routes.update_device"><strong>update_device</strong></a>  Update a device (change status).</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_routes.router"><strong>router</strong></a> </li>
</ul>
<h6 id="leadrauthapidevice_routesget_device"><code>leadr.auth.api.device_routes.get_device</code><a class="headerlink" href="#leadrauthapidevice_routesget_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Get a device by ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  Device identifier to retrieve.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.device_schemas.DeviceResponse">DeviceResponse</a></code>  DeviceResponse with the device details.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this device's account.</li>
<li><code>404</code>  Device not found or soft-deleted.</li>
</ul>
<h6 id="leadrauthapidevice_routeslist_devices"><code>leadr.auth.api.device_routes.list_devices</code><a class="headerlink" href="#leadrauthapidevice_routeslist_devices" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_devices</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device_status</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>List devices for an account with optional filters and pagination.</p>
<p>Returns all non-deleted devices for the specified account, with optional
filtering by game or status.</p>
<p>For regular users, account_id is automatically derived from their API key.
For superadmins, account_id is optional - if omitted, returns devices from all accounts.</p>
<p>Pagination:</p>
<ul>
<li>Default: 20 items per page, sorted by created_at:desc,id:asc</li>
<li>Custom sort: Use ?sort=name:asc,created_at:desc</li>
<li>Valid sort fields: id, platform, created_at, updated_at</li>
<li>Navigation: Use next_cursor/prev_cursor from response</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

GET /v1/devices?account_id=acc_123&game_id=game_456&status=active&limit=50

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>pagination</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a>, <a href="#fastapi.Depends">Depends</a>()]</code>)  Pagination parameters (cursor, limit, sort).</li>
<li><strong>account_id</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None, <a href="#fastapi.Query">Query</a>(description='Account ID filter')]</code>)  Optional account_id query parameter (superadmins can omit to see all).</li>
<li><strong>game_id</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.domain.ids.GameID">GameID</a> | None, <a href="#fastapi.Query">Query</a>(description='Filter by game ID')]</code>)  Optional game ID to filter by.</li>
<li><strong>device_status</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="#str">str</a> | None, <a href="#fastapi.Query">Query</a>(alias=<a href="#fastapi.status">status</a>, description='Filter by status')]</code>)  Optional status to filter by (active, banned, suspended).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.api.pagination.PaginatedResponse">PaginatedResponse</a>[<a href="#leadr.auth.api.device_schemas.DeviceResponse">DeviceResponse</a>]</code>  PaginatedResponse with devices and pagination metadata.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>400</code>  Invalid cursor, sort field, or cursor state mismatch.</li>
<li><code>403</code>  User does not have access to the specified account.</li>
</ul>
<h6 id="leadrauthapidevice_routesrouter"><code>leadr.auth.api.device_routes.router</code><a class="headerlink" href="#leadrauthapidevice_routesrouter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
</code></pre></div>
<h6 id="leadrauthapidevice_routesupdate_device"><code>leadr.auth.api.device_routes.update_device</code><a class="headerlink" href="#leadrauthapidevice_routesupdate_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Update a device (change status).</p>
<p>Allows changing device status to ban, suspend, or activate devices.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  Device identifier to update.</li>
<li><strong>request</strong> (<code><a href="#leadr.auth.api.device_schemas.DeviceUpdateRequest">DeviceUpdateRequest</a></code>)  Update details (status).</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.device_schemas.DeviceResponse">DeviceResponse</a></code>  DeviceResponse with the updated device details.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this device's account.</li>
<li><code>404</code>  Device not found.</li>
<li><code>400</code>  Invalid status value.</li>
</ul>
<h5 id="leadrauthapidevice_schemas"><code>leadr.auth.api.device_schemas</code><a class="headerlink" href="#leadrauthapidevice_schemas" title="Permanent link">&para;</a></h5>
<p>API request and response models for devices.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse"><strong>DeviceResponse</strong></a>  Response model for a device.</li>
<li><a href="#leadr.auth.api.device_schemas.DeviceUpdateRequest"><strong>DeviceUpdateRequest</strong></a>  Request model for updating a device.</li>
</ul>
<h6 id="leadrauthapidevice_schemasdeviceresponse"><code>leadr.auth.api.device_schemas.DeviceResponse</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response model for a device.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.from_domain"><strong>from_domain</strong></a>  Convert domain entity to response model.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.client_fingerprint"><strong>client_fingerprint</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.first_seen_at"><strong>first_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.game_id"><strong>game_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.last_seen_at"><strong>last_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.metadata"><strong>metadata</strong></a> (<code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>]</code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.platform"><strong>platform</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.status"><strong>status</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.api.device_schemas.DeviceResponse.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
</ul>
<h6 id="leadrauthapidevice_schemasdeviceresponseaccount_id"># <code>leadr.auth.api.device_schemas.DeviceResponse.account_id</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponseaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the account this device belongs to&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponseclient_fingerprint"># <code>leadr.auth.api.device_schemas.DeviceResponse.client_fingerprint</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponseclient_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">client_fingerprint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Client-generated SHA256 device fingerprint (64 hex characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponsecreated_at"># <code>leadr.auth.api.device_schemas.DeviceResponse.created_at</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when device record was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponsefirst_seen_at"># <code>leadr.auth.api.device_schemas.DeviceResponse.first_seen_at</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsefirst_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">first_seen_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when device was first seen (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponsefrom_domain"># <code>leadr.auth.api.device_schemas.DeviceResponse.from_domain</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsefrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
</code></pre></div>
<p>Convert domain entity to response model.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device</strong> (<code><a href="./#leadr.auth.domain.device.Device">Device</a></code>)  The domain Device entity to convert.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.device_schemas.DeviceResponse">DeviceResponse</a></code>  DeviceResponse with all fields populated from the domain entity.</li>
</ul>
<h6 id="leadrauthapidevice_schemasdeviceresponsegame_id"># <code>leadr.auth.api.device_schemas.DeviceResponse.game_id</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsegame_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game_id</span><span class="p">:</span> <span class="n">GameID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;ID of the game this device belongs to&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponseid"># <code>leadr.auth.api.device_schemas.DeviceResponse.id</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponseid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">DeviceID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique identifier for the device&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponselast_seen_at"># <code>leadr.auth.api.device_schemas.DeviceResponse.last_seen_at</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponselast_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_seen_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when device was last seen (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponsemetadata"># <code>leadr.auth.api.device_schemas.DeviceResponse.metadata</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsemetadata" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Additional device metadata&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponseplatform"># <code>leadr.auth.api.device_schemas.DeviceResponse.platform</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponseplatform" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">platform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Platform (iOS, Android, etc.), or null&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponsestatus"># <code>leadr.auth.api.device_schemas.DeviceResponse.status</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponsestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Device status: active, banned, or suspended&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceresponseupdated_at"># <code>leadr.auth.api.device_schemas.DeviceResponse.updated_at</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceresponseupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthapidevice_schemasdeviceupdaterequest"><code>leadr.auth.api.device_schemas.DeviceUpdateRequest</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceupdaterequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request model for updating a device.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_schemas.DeviceUpdateRequest.status"><strong>status</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
</ul>
<h6 id="leadrauthapidevice_schemasdeviceupdaterequeststatus"># <code>leadr.auth.api.device_schemas.DeviceUpdateRequest.status</code><a class="headerlink" href="#leadrauthapidevice_schemasdeviceupdaterequeststatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Updated status: active, banned, or suspended&#39;</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthapidevice_session_routes"><code>leadr.auth.api.device_session_routes</code><a class="headerlink" href="#leadrauthapidevice_session_routes" title="Permanent link">&para;</a></h5>
<p>API routes for device session management.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_routes.get_session"><strong>get_session</strong></a>  Get a device session by ID.</li>
<li><a href="#leadr.auth.api.device_session_routes.list_sessions"><strong>list_sessions</strong></a>  List device sessions for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.api.device_session_routes.update_session"><strong>update_session</strong></a>  Update a device session (revoke).</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_routes.router"><strong>router</strong></a> </li>
</ul>
<h6 id="leadrauthapidevice_session_routesget_session"><code>leadr.auth.api.device_session_routes.get_session</code><a class="headerlink" href="#leadrauthapidevice_session_routesget_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_session</span><span class="p">(</span><span class="n">session_id</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Get a device session by ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>)  Session identifier to retrieve.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse">DeviceSessionResponse</a></code>  DeviceSessionResponse with the session details.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this session's account.</li>
<li><code>404</code>  Session not found or soft-deleted.</li>
</ul>
<h6 id="leadrauthapidevice_session_routeslist_sessions"><code>leadr.auth.api.device_session_routes.list_sessions</code><a class="headerlink" href="#leadrauthapidevice_session_routeslist_sessions" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_sessions</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>List device sessions for an account with optional filters and pagination.</p>
<p>Returns all non-deleted device sessions for the specified account, with optional
filtering by device.</p>
<p>For regular users, account_id is automatically derived from their API key.
For superadmins, account_id is optional - if omitted, returns sessions from all accounts.</p>
<p>Pagination:</p>
<ul>
<li>Default: 20 items per page, sorted by created_at:desc,id:asc</li>
<li>Custom sort: Use ?sort=created_at:asc,id:desc</li>
<li>Valid sort fields: id, created_at, updated_at</li>
<li>Navigation: Use next_cursor/prev_cursor from response</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

GET /v1/device-sessions?account_id=acc_123&device_id=dev_456&limit=50

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>pagination</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a>, <a href="#fastapi.Depends">Depends</a>()]</code>)  Pagination parameters (cursor, limit, sort).</li>
<li><strong>account_id</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None, <a href="#fastapi.Query">Query</a>(description='Account ID filter')]</code>)  Optional account_id query parameter (superadmins can omit to see all).</li>
<li><strong>device_id</strong> (<code><a href="#typing.Annotated">Annotated</a>[<a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a> | None, <a href="#fastapi.Query">Query</a>(description='Filter by device ID')]</code>)  Optional device ID to filter by.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.api.pagination.PaginatedResponse">PaginatedResponse</a>[<a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse">DeviceSessionResponse</a>]</code>  PaginatedResponse with device sessions and pagination metadata.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>400</code>  Invalid cursor, sort field, or cursor state mismatch.</li>
<li><code>403</code>  User does not have access to the specified account.</li>
</ul>
<h6 id="leadrauthapidevice_session_routesrouter"><code>leadr.auth.api.device_session_routes.router</code><a class="headerlink" href="#leadrauthapidevice_session_routesrouter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">router</span> <span class="o">=</span> <span class="n">APIRouter</span><span class="p">()</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_routesupdate_session"><code>leadr.auth.api.device_session_routes.update_session</code><a class="headerlink" href="#leadrauthapidevice_session_routesupdate_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update_session</span><span class="p">(</span><span class="n">session_id</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">service</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</code></pre></div>
<p>Update a device session (revoke).</p>
<p>Allows revoking a device session to invalidate authentication.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>)  Session identifier to update.</li>
<li><strong>request</strong> (<code><a href="#leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest">DeviceSessionUpdateRequest</a></code>)  Update details (revoked status).</li>
<li><strong>service</strong> (<code><a href="./#leadr.auth.services.dependencies.DeviceServiceDep">DeviceServiceDep</a></code>)  Injected device service dependency.</li>
<li><strong>auth</strong> (<code><a href="./#leadr.auth.dependencies.AdminAuthContextDep">AdminAuthContextDep</a></code>)  Authentication context with user info.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse">DeviceSessionResponse</a></code>  DeviceSessionResponse with the updated session details.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code>403</code>  User does not have access to this session's account.</li>
<li><code>404</code>  Session not found.</li>
<li><code>400</code>  Invalid request or no revoked field provided.</li>
</ul>
<h5 id="leadrauthapidevice_session_schemas"><code>leadr.auth.api.device_session_schemas</code><a class="headerlink" href="#leadrauthapidevice_session_schemas" title="Permanent link">&para;</a></h5>
<p>API schemas for device sessions.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse"><strong>DeviceSessionResponse</strong></a>  Response model for device session.</li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest"><strong>DeviceSessionUpdateRequest</strong></a>  Request model for updating device session.</li>
</ul>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponse"><code>leadr.auth.api.device_session_schemas.DeviceSessionResponse</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponse" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Response model for device session.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.from_domain"><strong>from_domain</strong></a>  Convert domain entity to API response.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.device_id"><strong>device_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.ip_address"><strong>ip_address</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.refresh_expires_at"><strong>refresh_expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.revoked_at"><strong>revoked_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionResponse.user_agent"><strong>user_agent</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
</ul>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponsecreated_at"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.created_at</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponsecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponsedevice_id"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.device_id</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponsedevice_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_id</span><span class="p">:</span> <span class="n">DeviceID</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponseexpires_at"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.expires_at</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponseexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponsefrom_domain"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.from_domain</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponsefrom_domain" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">from_domain</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<p>Convert domain entity to API response.</p>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponseid"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.id</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponseid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">DeviceSessionID</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponseip_address"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.ip_address</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponseip_address" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ip_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponserefresh_expires_at"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.refresh_expires_at</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponserefresh_expires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_expires_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponserevoked_at"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.revoked_at</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponserevoked_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoked_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponseupdated_at"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.updated_at</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponseupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionresponseuser_agent"># <code>leadr.auth.api.device_session_schemas.DeviceSessionResponse.user_agent</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionresponseuser_agent" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_agent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthapidevice_session_schemasdevicesessionupdaterequest"><code>leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionupdaterequest" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#pydantic.BaseModel">BaseModel</a></code></p>
<p>Request model for updating device session.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest.revoked"><strong>revoked</strong></a> (<code><a href="#bool">bool</a> | None</code>) </li>
</ul>
<h6 id="leadrauthapidevice_session_schemasdevicesessionupdaterequestrevoked"># <code>leadr.auth.api.device_session_schemas.DeviceSessionUpdateRequest.revoked</code><a class="headerlink" href="#leadrauthapidevice_session_schemasdevicesessionupdaterequestrevoked" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoked</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h4 id="leadrauthbootstrap"><code>leadr.auth.bootstrap</code><a class="headerlink" href="#leadrauthbootstrap" title="Permanent link">&para;</a></h4>
<p>Superadmin bootstrap functionality.</p>
<p>This module provides functionality to automatically create a superadmin user
and associated account on application startup if none exists.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.bootstrap.ensure_superadmin_exists"><strong>ensure_superadmin_exists</strong></a>  Ensure a superadmin user exists, creating one if necessary.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.bootstrap.logger"><strong>logger</strong></a> </li>
</ul>
<h5 id="leadrauthbootstrapensure_superadmin_exists"><code>leadr.auth.bootstrap.ensure_superadmin_exists</code><a class="headerlink" href="#leadrauthbootstrapensure_superadmin_exists" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">ensure_superadmin_exists</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<p>Ensure a superadmin user exists, creating one if necessary.</p>
<p>This function is idempotent and safe to call multiple times. It will:</p>
<ol>
<li>Check if any superadmin user already exists</li>
<li>If not, create:</li>
<li>A system account (configured via SUPERADMIN_ACCOUNT_NAME/SLUG)</li>
<li>A superadmin user (configured via SUPERADMIN_EMAIL/DISPLAY_NAME)</li>
<li>An API key for the superadmin (using SUPERADMIN_API_KEY)</li>
</ol>
<p>The function commits the transaction if it creates entities.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session</strong> (<code><a href="#sqlalchemy.ext.asyncio.AsyncSession">AsyncSession</a></code>)  Database session to use for queries and inserts.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > async with get_session() as session:
> > > ... await ensure_superadmin_exists(session)

</details>

<h5 id="leadrauthbootstraplogger"><code>leadr.auth.bootstrap.logger</code><a class="headerlink" href="#leadrauthbootstraplogger" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</code></pre></div>
<h4 id="leadrauthdependencies"><code>leadr.auth.dependencies</code><a class="headerlink" href="#leadrauthdependencies" title="Permanent link">&para;</a></h4>
<p>Authentication dependencies for FastAPI.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="./#leadr.auth.dependencies.AdminAuthContext"><strong>AdminAuthContext</strong></a>  Admin authentication context with guaranteed user and api_key fields.</li>
<li><a href="./#leadr.auth.dependencies.AuthContext"><strong>AuthContext</strong></a>  Unified authentication context for both admin and client auth.</li>
<li><a href="./#leadr.auth.dependencies.AuthContextDependency"><strong>AuthContextDependency</strong></a>  Parameterizable authentication dependency using FastAPI class instance pattern.</li>
<li><a href="./#leadr.auth.dependencies.ClientAuthContext"><strong>ClientAuthContext</strong></a>  Client authentication context with guaranteed device field.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.dependencies.AdminAuthContextDep"><strong>AdminAuthContextDep</strong></a> </li>
<li><a href="./#leadr.auth.dependencies.AdminAuthContextWithAccountIDDep"><strong>AdminAuthContextWithAccountIDDep</strong></a> </li>
<li><a href="./#leadr.auth.dependencies.ClientAuthContextDep"><strong>ClientAuthContextDep</strong></a> </li>
<li><a href="./#leadr.auth.dependencies.ClientAuthContextWithNonceDep"><strong>ClientAuthContextWithNonceDep</strong></a> </li>
<li><a href="./#leadr.auth.dependencies.logger"><strong>logger</strong></a> </li>
<li><a href="#leadr.auth.dependencies.require_admin_auth"><strong>require_admin_auth</strong></a> </li>
<li><a href="#leadr.auth.dependencies.require_admin_auth_with_account_id"><strong>require_admin_auth_with_account_id</strong></a> </li>
<li><a href="#leadr.auth.dependencies.require_client_auth"><strong>require_client_auth</strong></a> </li>
<li><a href="#leadr.auth.dependencies.require_client_auth_with_nonce"><strong>require_client_auth_with_nonce</strong></a> </li>
</ul>
<h5 id="leadrauthdependenciesadminauthcontext"><code>leadr.auth.dependencies.AdminAuthContext</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontext" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">AdminAuthContext</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">api_key</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Bases: <code><a href="./#leadr.auth.dependencies.AuthContext">AuthContext</a></code></p>
<p>Admin authentication context with guaranteed user and api_key fields.</p>
<p>This subclass is returned by admin-only authentication dependencies,
providing type-safe access to user and api_key without None checks.</p>
<p>Note: This class does not use @dataclass to avoid conflicts between
frozen dataclass fields and property overrides.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.AdminAuthContext.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID for this request (may differ from API key's
  account for superadmins).</li>
<li><a href="./#leadr.auth.dependencies.AdminAuthContext.user"><strong>user</strong></a> (<code><a href="../accounts/#leadr.accounts.domain.user.User">User</a></code>)  The authenticated user (guaranteed non-None).</li>
<li><a href="#leadr.auth.dependencies.AdminAuthContext.api_key"><strong>api_key</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>)  The authenticated API key (guaranteed non-None).</li>
<li><a href="./#leadr.auth.dependencies.AdminAuthContext.device"><strong>device</strong></a> (<code>None</code>)  Always None for admin auth.</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.AdminAuthContext.has_access_to_account"><strong>has_access_to_account</strong></a>  Check if the authenticated context has access to a specific account.</li>
</ul>
<h6 id="leadrauthdependenciesadminauthcontextaccount_id"><code>leadr.auth.dependencies.AdminAuthContext.account_id</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span>
</code></pre></div>
<p>Get account ID.</p>
<h6 id="leadrauthdependenciesadminauthcontextapi_key"><code>leadr.auth.dependencies.AdminAuthContext.api_key</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextapi_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">api_key</span><span class="p">:</span> <span class="n">APIKey</span>
</code></pre></div>
<p>Get API key (guaranteed non-None for admin auth).</p>
<h6 id="leadrauthdependenciesadminauthcontextauth_type"><code>leadr.auth.dependencies.AdminAuthContext.auth_type</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextauth_type" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">auth_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="s1">&#39;client&#39;</span><span class="p">]</span>
</code></pre></div>
<p>Return the authentication type.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#typing.Literal">Literal</a>['admin', 'client']</code>  "admin" if authenticated via API key, "client" if via device token.</li>
</ul>
<h6 id="leadrauthdependenciesadminauthcontextdevice"><code>leadr.auth.dependencies.AdminAuthContext.device</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextdevice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device</span><span class="p">:</span> <span class="kc">None</span>
</code></pre></div>
<p>Get device (always None for admin auth).</p>
<h6 id="leadrauthdependenciesadminauthcontexthas_access_to_account"><code>leadr.auth.dependencies.AdminAuthContext.has_access_to_account</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontexthas_access_to_account" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">has_access_to_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div>
<p>Check if the authenticated context has access to a specific account.</p>
<details class="for-admin-auth" open markdown="1">
<summary>For admin auth</summary>

- Superadmins have access to all accounts
- Regular users only have access to their own account

</details>

<details class="for-client-auth" open markdown="1">
<summary>For client auth</summary>

- Devices only have access to their game's account

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to check access for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if context has access to the account, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesadminauthcontextis_superadmin"><code>leadr.auth.dependencies.AdminAuthContext.is_superadmin</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextis_superadmin" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_superadmin</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if the authenticated user has superadmin privileges.</p>
<p>Only applies to admin auth. Client auth never has superadmin privileges.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if user is a superadmin, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesadminauthcontextuser"><code>leadr.auth.dependencies.AdminAuthContext.user</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextuser" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user</span><span class="p">:</span> <span class="n">User</span>
</code></pre></div>
<p>Get user (guaranteed non-None for admin auth).</p>
<h5 id="leadrauthdependenciesadminauthcontextdep"><code>leadr.auth.dependencies.AdminAuthContextDep</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextdep" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">AdminAuthContextDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">AdminAuthContext</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">require_admin_auth</span><span class="p">)]</span>
</code></pre></div>
<h5 id="leadrauthdependenciesadminauthcontextwithaccountiddep"><code>leadr.auth.dependencies.AdminAuthContextWithAccountIDDep</code><a class="headerlink" href="#leadrauthdependenciesadminauthcontextwithaccountiddep" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">AdminAuthContextWithAccountIDDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">AdminAuthContext</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">require_admin_auth_with_account_id</span><span class="p">)]</span>
</code></pre></div>
<h5 id="leadrauthdependenciesauthcontext"><code>leadr.auth.dependencies.AuthContext</code><a class="headerlink" href="#leadrauthdependenciesauthcontext" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">AuthContext</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Unified authentication context for both admin and client auth.</p>
<p>This context provides a unified interface for both API key (admin) and
device token (client) authentication. It includes helper methods for
authorization checks that work transparently across both auth types.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.AuthContext.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID associated with this auth context.</li>
<li><a href="./#leadr.auth.dependencies.AuthContext.user"><strong>user</strong></a> (<code><a href="../accounts/#leadr.accounts.domain.user.User">User</a> | None</code>)  The user entity (present for admin auth only).</li>
<li><a href="#leadr.auth.dependencies.AuthContext.api_key"><strong>api_key</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a> | None</code>)  The API key entity (present for admin auth only).</li>
<li><a href="./#leadr.auth.dependencies.AuthContext.device"><strong>device</strong></a> (<code><a href="./#leadr.auth.domain.device.Device">Device</a> | None</code>)  The device entity (present for client auth only).</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.AuthContext.has_access_to_account"><strong>has_access_to_account</strong></a>  Check if the authenticated context has access to a specific account.</li>
</ul>
<h6 id="leadrauthdependenciesauthcontextaccount_id"><code>leadr.auth.dependencies.AuthContext.account_id</code><a class="headerlink" href="#leadrauthdependenciesauthcontextaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontextapi_key"><code>leadr.auth.dependencies.AuthContext.api_key</code><a class="headerlink" href="#leadrauthdependenciesauthcontextapi_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">api_key</span><span class="p">:</span> <span class="n">APIKey</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontextauth_type"><code>leadr.auth.dependencies.AuthContext.auth_type</code><a class="headerlink" href="#leadrauthdependenciesauthcontextauth_type" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">auth_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="s1">&#39;client&#39;</span><span class="p">]</span>
</code></pre></div>
<p>Return the authentication type.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#typing.Literal">Literal</a>['admin', 'client']</code>  "admin" if authenticated via API key, "client" if via device token.</li>
</ul>
<h6 id="leadrauthdependenciesauthcontextdevice"><code>leadr.auth.dependencies.AuthContext.device</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdevice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device</span><span class="p">:</span> <span class="n">Device</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontexthas_access_to_account"><code>leadr.auth.dependencies.AuthContext.has_access_to_account</code><a class="headerlink" href="#leadrauthdependenciesauthcontexthas_access_to_account" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">has_access_to_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div>
<p>Check if the authenticated context has access to a specific account.</p>
<details class="for-admin-auth" open markdown="1">
<summary>For admin auth</summary>

- Superadmins have access to all accounts
- Regular users only have access to their own account

</details>

<details class="for-client-auth" open markdown="1">
<summary>For client auth</summary>

- Devices only have access to their game's account

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to check access for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if context has access to the account, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesauthcontextis_superadmin"><code>leadr.auth.dependencies.AuthContext.is_superadmin</code><a class="headerlink" href="#leadrauthdependenciesauthcontextis_superadmin" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_superadmin</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if the authenticated user has superadmin privileges.</p>
<p>Only applies to admin auth. Client auth never has superadmin privileges.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if user is a superadmin, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesauthcontextuser"><code>leadr.auth.dependencies.AuthContext.user</code><a class="headerlink" href="#leadrauthdependenciesauthcontextuser" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user</span><span class="p">:</span> <span class="n">User</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h5 id="leadrauthdependenciesauthcontextdependency"><code>leadr.auth.dependencies.AuthContextDependency</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdependency" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_admin</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">require_client</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">require_nonce</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">require_superadmin_account_id</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Parameterizable authentication dependency using FastAPI class instance pattern.</p>
<p>This class implements the callable instance pattern to provide flexible
authentication requirements. Create instances with different parameters
to require different auth types.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">require_admin_auth</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">require_client_auth</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_client</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">require_either_auth</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">require_client</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/admin-only&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">admin_endpoint</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">auth</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">AuthContext</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">require_admin_auth</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;account&quot;</span><span class="p">:</span> <span class="n">auth</span><span class="o">.</span><span class="n">account_id</span><span class="p">}</span>
</code></pre></div>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.AuthContextDependency.require_admin"><strong>require_admin</strong></a> </li>
<li><a href="#leadr.auth.dependencies.AuthContextDependency.require_client"><strong>require_client</strong></a> </li>
<li><a href="#leadr.auth.dependencies.AuthContextDependency.require_nonce"><strong>require_nonce</strong></a> </li>
<li><a href="#leadr.auth.dependencies.AuthContextDependency.require_superadmin_account_id"><strong>require_superadmin_account_id</strong></a> </li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>require_admin</strong> (<code><a href="#bool">bool</a></code>)  If True, admin API key authentication is required.</li>
<li><strong>require_client</strong> (<code><a href="#bool">bool</a></code>)  If True, client device token authentication is required.</li>
<li><strong>require_nonce</strong> (<code><a href="#bool">bool</a></code>)  If True, nonce validation is required for client auth (mutations).</li>
<li><strong>require_superadmin_account_id</strong> (<code><a href="#bool">bool</a></code>)  If True, superadmins must provide account_id
  query parameter on GET requests. Used for list endpoints.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If neither require_admin nor require_client is True.</li>
</ul>
<h6 id="leadrauthdependenciesauthcontextdependencyrequire_admin"><code>leadr.auth.dependencies.AuthContextDependency.require_admin</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdependencyrequire_admin" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">require_admin</span> <span class="o">=</span> <span class="n">require_admin</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontextdependencyrequire_client"><code>leadr.auth.dependencies.AuthContextDependency.require_client</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdependencyrequire_client" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">require_client</span> <span class="o">=</span> <span class="n">require_client</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontextdependencyrequire_nonce"><code>leadr.auth.dependencies.AuthContextDependency.require_nonce</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdependencyrequire_nonce" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">require_nonce</span> <span class="o">=</span> <span class="n">require_nonce</span>
</code></pre></div>
<h6 id="leadrauthdependenciesauthcontextdependencyrequire_superadmin_account_id"><code>leadr.auth.dependencies.AuthContextDependency.require_superadmin_account_id</code><a class="headerlink" href="#leadrauthdependenciesauthcontextdependencyrequire_superadmin_account_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">require_superadmin_account_id</span> <span class="o">=</span> <span class="n">require_superadmin_account_id</span>
</code></pre></div>
<h5 id="leadrauthdependenciesclientauthcontext"><code>leadr.auth.dependencies.ClientAuthContext</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontext" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">ClientAuthContext</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">device</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Bases: <code><a href="./#leadr.auth.dependencies.AuthContext">AuthContext</a></code></p>
<p>Client authentication context with guaranteed device field.</p>
<p>This subclass is returned by client-only authentication dependencies,
providing type-safe access to device without None checks.</p>
<p>Note: This class does not use @dataclass to avoid conflicts between
frozen dataclass fields and property overrides.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.ClientAuthContext.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID from the device's game.</li>
<li><a href="./#leadr.auth.dependencies.ClientAuthContext.device"><strong>device</strong></a> (<code><a href="./#leadr.auth.domain.device.Device">Device</a></code>)  The authenticated device (guaranteed non-None).</li>
<li><a href="./#leadr.auth.dependencies.ClientAuthContext.user"><strong>user</strong></a> (<code>None</code>)  Always None for client auth.</li>
<li><a href="#leadr.auth.dependencies.ClientAuthContext.api_key"><strong>api_key</strong></a> (<code>None</code>)  Always None for client auth.</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.dependencies.ClientAuthContext.has_access_to_account"><strong>has_access_to_account</strong></a>  Check if the authenticated context has access to a specific account.</li>
</ul>
<h6 id="leadrauthdependenciesclientauthcontextaccount_id"><code>leadr.auth.dependencies.ClientAuthContext.account_id</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span>
</code></pre></div>
<p>Get account ID.</p>
<h6 id="leadrauthdependenciesclientauthcontextapi_key"><code>leadr.auth.dependencies.ClientAuthContext.api_key</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextapi_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">api_key</span><span class="p">:</span> <span class="kc">None</span>
</code></pre></div>
<p>Get API key (always None for client auth).</p>
<h6 id="leadrauthdependenciesclientauthcontextauth_type"><code>leadr.auth.dependencies.ClientAuthContext.auth_type</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextauth_type" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">auth_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;admin&#39;</span><span class="p">,</span> <span class="s1">&#39;client&#39;</span><span class="p">]</span>
</code></pre></div>
<p>Return the authentication type.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#typing.Literal">Literal</a>['admin', 'client']</code>  "admin" if authenticated via API key, "client" if via device token.</li>
</ul>
<h6 id="leadrauthdependenciesclientauthcontextdevice"><code>leadr.auth.dependencies.ClientAuthContext.device</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextdevice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device</span><span class="p">:</span> <span class="n">Device</span>
</code></pre></div>
<p>Get device (guaranteed non-None for client auth).</p>
<h6 id="leadrauthdependenciesclientauthcontexthas_access_to_account"><code>leadr.auth.dependencies.ClientAuthContext.has_access_to_account</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontexthas_access_to_account" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">has_access_to_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div>
<p>Check if the authenticated context has access to a specific account.</p>
<details class="for-admin-auth" open markdown="1">
<summary>For admin auth</summary>

- Superadmins have access to all accounts
- Regular users only have access to their own account

</details>

<details class="for-client-auth" open markdown="1">
<summary>For client auth</summary>

- Devices only have access to their game's account

</details>

<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to check access for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if context has access to the account, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesclientauthcontextis_superadmin"><code>leadr.auth.dependencies.ClientAuthContext.is_superadmin</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextis_superadmin" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_superadmin</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if the authenticated user has superadmin privileges.</p>
<p>Only applies to admin auth. Client auth never has superadmin privileges.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if user is a superadmin, False otherwise.</li>
</ul>
<h6 id="leadrauthdependenciesclientauthcontextuser"><code>leadr.auth.dependencies.ClientAuthContext.user</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextuser" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user</span><span class="p">:</span> <span class="kc">None</span>
</code></pre></div>
<p>Get user (always None for client auth).</p>
<h5 id="leadrauthdependenciesclientauthcontextdep"><code>leadr.auth.dependencies.ClientAuthContextDep</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextdep" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">ClientAuthContextDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">ClientAuthContext</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">require_client_auth</span><span class="p">)]</span>
</code></pre></div>
<h5 id="leadrauthdependenciesclientauthcontextwithnoncedep"><code>leadr.auth.dependencies.ClientAuthContextWithNonceDep</code><a class="headerlink" href="#leadrauthdependenciesclientauthcontextwithnoncedep" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">ClientAuthContextWithNonceDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">ClientAuthContext</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">require_client_auth_with_nonce</span><span class="p">)]</span>
</code></pre></div>
<h5 id="leadrauthdependencieslogger"><code>leadr.auth.dependencies.logger</code><a class="headerlink" href="#leadrauthdependencieslogger" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthdependenciesrequire_admin_auth"><code>leadr.auth.dependencies.require_admin_auth</code><a class="headerlink" href="#leadrauthdependenciesrequire_admin_auth" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">require_admin_auth</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthdependenciesrequire_admin_auth_with_account_id"><code>leadr.auth.dependencies.require_admin_auth_with_account_id</code><a class="headerlink" href="#leadrauthdependenciesrequire_admin_auth_with_account_id" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">require_admin_auth_with_account_id</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_admin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">require_superadmin_account_id</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthdependenciesrequire_client_auth"><code>leadr.auth.dependencies.require_client_auth</code><a class="headerlink" href="#leadrauthdependenciesrequire_client_auth" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">require_client_auth</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_client</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthdependenciesrequire_client_auth_with_nonce"><code>leadr.auth.dependencies.require_client_auth_with_nonce</code><a class="headerlink" href="#leadrauthdependenciesrequire_client_auth_with_nonce" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="n">require_client_auth_with_nonce</span> <span class="o">=</span> <span class="n">AuthContextDependency</span><span class="p">(</span><span class="n">require_client</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">require_nonce</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h4 id="leadrauthdomain"><code>leadr.auth.domain</code><a class="headerlink" href="#leadrauthdomain" title="Permanent link">&para;</a></h4>
<p><strong>Modules:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.api_key"><strong>api_key</strong></a>  API Key domain model.</li>
<li><a href="./#leadr.auth.domain.device"><strong>device</strong></a>  Device domain models for client authentication.</li>
<li><a href="./#leadr.auth.domain.nonce"><strong>nonce</strong></a>  Nonce domain entity for replay protection.</li>
</ul>
<h5 id="leadrauthdomainapi_key"><code>leadr.auth.domain.api_key</code><a class="headerlink" href="#leadrauthdomainapi_key" title="Permanent link">&para;</a></h5>
<p>API Key domain model.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.api_key.APIKey"><strong>APIKey</strong></a>  API Key domain entity.</li>
<li><a href="#leadr.auth.domain.api_key.APIKeyStatus"><strong>APIKeyStatus</strong></a>  API Key status enumeration.</li>
</ul>
<h6 id="leadrauthdomainapi_keyapikey"><code>leadr.auth.domain.api_key.APIKey</code><a class="headerlink" href="#leadrauthdomainapi_keyapikey" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.domain.models.Entity">Entity</a></code></p>
<p>API Key domain entity.</p>
<p>Represents an API key used to authenticate requests to the admin API.
Each account can have multiple API keys for different purposes.
Keys are stored hashed for security and shown only once at creation.
Each API key is owned by a specific user within the account.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.api_key.APIKey.is_expired"><strong>is_expired</strong></a>  Check if the API key has expired.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.is_valid"><strong>is_valid</strong></a>  Check if the API key is valid for use.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.record_usage"><strong>record_usage</strong></a>  Record that the API key was used.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.restore"><strong>restore</strong></a>  Restore a soft-deleted entity.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.revoke"><strong>revoke</strong></a>  Revoke the API key, preventing further use.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.soft_delete"><strong>soft_delete</strong></a>  Mark entity as soft-deleted.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.validate_key_prefix"><strong>validate_key_prefix</strong></a>  Validate that key_prefix starts with 'ldr_'.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.api_key.APIKey.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.is_deleted"><strong>is_deleted</strong></a> (<code><a href="#bool">bool</a></code>)  Check if entity is soft-deleted.</li>
<li><a href="#leadr.auth.domain.api_key.APIKey.key_hash"><strong>key_hash</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.key_prefix"><strong>key_prefix</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.last_used_at"><strong>last_used_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.model_config"><strong>model_config</strong></a> </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.name"><strong>name</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.status"><strong>status</strong></a> (<code><a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.api_key.APIKey.user_id"><strong>user_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.UserID">UserID</a></code>) </li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeyaccount_id"># <code>leadr.auth.domain.api_key.APIKey.account_id</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeycreated_at"># <code>leadr.auth.domain.api_key.APIKey.created_at</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeycreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeydeleted_at"># <code>leadr.auth.domain.api_key.APIKey.deleted_at</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeydeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was soft-deleted (UTC), or null if active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyexpires_at"># <code>leadr.auth.domain.api_key.APIKey.expires_at</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyid"># <code>leadr.auth.domain.api_key.APIKey.id</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">APIKeyID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">APIKeyID</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique API key identifier&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyis_deleted"># <code>leadr.auth.domain.api_key.APIKey.is_deleted</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyis_deleted" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_deleted</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if entity is soft-deleted.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the entity has a deleted_at timestamp, False otherwise.</li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeyis_expired"># <code>leadr.auth.domain.api_key.APIKey.is_expired</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyis_expired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_expired</span><span class="p">()</span>
</code></pre></div>
<p>Check if the API key has expired.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the key has an expiration date and it's in the past.</li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeyis_valid"># <code>leadr.auth.domain.api_key.APIKey.is_valid</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyis_valid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_valid</span><span class="p">()</span>
</code></pre></div>
<p>Check if the API key is valid for use.</p>
<p>A key is valid if it's active and not expired.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the key can be used for authentication.</li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeykey_hash"># <code>leadr.auth.domain.api_key.APIKey.key_hash</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeykey_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">key_hash</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeykey_prefix"># <code>leadr.auth.domain.api_key.APIKey.key_prefix</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeykey_prefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">key_prefix</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeylast_used_at"># <code>leadr.auth.domain.api_key.APIKey.last_used_at</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeylast_used_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_used_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeymodel_config"># <code>leadr.auth.domain.api_key.APIKey.model_config</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeymodel_config" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyname"># <code>leadr.auth.domain.api_key.APIKey.name</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyname" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyrecord_usage"># <code>leadr.auth.domain.api_key.APIKey.record_usage</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyrecord_usage" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">record_usage</span><span class="p">(</span><span class="n">used_at</span><span class="p">)</span>
</code></pre></div>
<p>Record that the API key was used.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>used_at</strong> (<code><a href="#datetime.datetime">datetime</a></code>)  Timestamp when the key was used.</li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeyrestore"># <code>leadr.auth.domain.api_key.APIKey.restore</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyrestore" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">restore</span><span class="p">()</span>
</code></pre></div>
<p>Restore a soft-deleted entity.</p>
<p>Clears the deleted_at timestamp, making the entity active again.</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account.soft_delete()
> > > account.restore()
> > > assert account.is_deleted is False

</details>

<h6 id="leadrauthdomainapi_keyapikeyrevoke"># <code>leadr.auth.domain.api_key.APIKey.revoke</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyrevoke" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoke</span><span class="p">()</span>
</code></pre></div>
<p>Revoke the API key, preventing further use.</p>
<h6 id="leadrauthdomainapi_keyapikeysoft_delete"># <code>leadr.auth.domain.api_key.APIKey.soft_delete</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeysoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">()</span>
</code></pre></div>
<p>Mark entity as soft-deleted.</p>
<p>Sets the deleted_at timestamp to the current UTC time. Entities that are
already deleted are not affected (deleted_at remains at original deletion time).</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account = Account(name="Test", slug="test")
> > > account.soft_delete()
> > > assert account.is_deleted is True

</details>

<h6 id="leadrauthdomainapi_keyapikeystatus"># <code>leadr.auth.domain.api_key.APIKey.status</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeystatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">APIKeyStatus</span> <span class="o">=</span> <span class="n">APIKeyStatus</span><span class="o">.</span><span class="n">ACTIVE</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyupdated_at"># <code>leadr.auth.domain.api_key.APIKey.updated_at</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyuser_id"># <code>leadr.auth.domain.api_key.APIKey.user_id</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyuser_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_id</span><span class="p">:</span> <span class="n">UserID</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeyvalidate_key_prefix"># <code>leadr.auth.domain.api_key.APIKey.validate_key_prefix</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeyvalidate_key_prefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_key_prefix</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</code></pre></div>
<p>Validate that key_prefix starts with 'ldr_'.</p>
<h6 id="leadrauthdomainapi_keyapikeystatus_1"><code>leadr.auth.domain.api_key.APIKeyStatus</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeystatus_1" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#enum.Enum">Enum</a></code></p>
<p>API Key status enumeration.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.api_key.APIKeyStatus.ACTIVE"><strong>ACTIVE</strong></a> </li>
<li><a href="#leadr.auth.domain.api_key.APIKeyStatus.REVOKED"><strong>REVOKED</strong></a> </li>
</ul>
<h6 id="leadrauthdomainapi_keyapikeystatusactive"># <code>leadr.auth.domain.api_key.APIKeyStatus.ACTIVE</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeystatusactive" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ACTIVE</span> <span class="o">=</span> <span class="s1">&#39;active&#39;</span>
</code></pre></div>
<h6 id="leadrauthdomainapi_keyapikeystatusrevoked"># <code>leadr.auth.domain.api_key.APIKeyStatus.REVOKED</code><a class="headerlink" href="#leadrauthdomainapi_keyapikeystatusrevoked" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">REVOKED</span> <span class="o">=</span> <span class="s1">&#39;revoked&#39;</span>
</code></pre></div>
<h5 id="leadrauthdomaindevice"><code>leadr.auth.domain.device</code><a class="headerlink" href="#leadrauthdomaindevice" title="Permanent link">&para;</a></h5>
<p>Device domain models for client authentication.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="./#leadr.auth.domain.device.Device"><strong>Device</strong></a>  Device domain entity.</li>
<li><a href="./#leadr.auth.domain.device.DeviceSession"><strong>DeviceSession</strong></a>  Device session domain entity.</li>
<li><a href="./#leadr.auth.domain.device.DeviceStatus"><strong>DeviceStatus</strong></a>  Device status enumeration.</li>
</ul>
<h6 id="leadrauthdomaindevicedevice"><code>leadr.auth.domain.device.Device</code><a class="headerlink" href="#leadrauthdomaindevicedevice" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.domain.models.Entity">Entity</a></code></p>
<p>Device domain entity.</p>
<p>Represents a game client device (e.g., mobile device, PC, console).
Devices are scoped per-game and used for client authentication.
Each device is identified by a client-generated SHA256 fingerprint.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="./#leadr.auth.domain.device.Device.activate"><strong>activate</strong></a>  Activate the device, allowing authentication.</li>
<li><a href="./#leadr.auth.domain.device.Device.ban"><strong>ban</strong></a>  Ban the device, preventing further authentication.</li>
<li><a href="#leadr.auth.domain.device.Device.is_active"><strong>is_active</strong></a>  Check if the device is active.</li>
<li><a href="./#leadr.auth.domain.device.Device.restore"><strong>restore</strong></a>  Restore a soft-deleted entity.</li>
<li><a href="#leadr.auth.domain.device.Device.soft_delete"><strong>soft_delete</strong></a>  Mark entity as soft-deleted.</li>
<li><a href="./#leadr.auth.domain.device.Device.suspend"><strong>suspend</strong></a>  Suspend the device temporarily.</li>
<li><a href="#leadr.auth.domain.device.Device.update_last_seen"><strong>update_last_seen</strong></a>  Update the last_seen_at timestamp to current time.</li>
<li><a href="#leadr.auth.domain.device.Device.validate_sha256"><strong>validate_sha256</strong></a>  Validate that client_fingerprint is a valid SHA256 hash.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.device.Device.account_id"><strong>account_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.client_fingerprint"><strong>client_fingerprint</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.device.Device.first_seen_at"><strong>first_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.game_id"><strong>game_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>) </li>
<li><a href="./#leadr.auth.domain.device.Device.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.is_deleted"><strong>is_deleted</strong></a> (<code><a href="#bool">bool</a></code>)  Check if entity is soft-deleted.</li>
<li><a href="#leadr.auth.domain.device.Device.last_seen_at"><strong>last_seen_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="./#leadr.auth.domain.device.Device.metadata"><strong>metadata</strong></a> (<code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>]</code>) </li>
<li><a href="#leadr.auth.domain.device.Device.model_config"><strong>model_config</strong></a> </li>
<li><a href="./#leadr.auth.domain.device.Device.platform"><strong>platform</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
<li><a href="./#leadr.auth.domain.device.Device.status"><strong>status</strong></a> (<code><a href="./#leadr.auth.domain.device.DeviceStatus">DeviceStatus</a></code>) </li>
<li><a href="#leadr.auth.domain.device.Device.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
</ul>
<h6 id="leadrauthdomaindevicedeviceaccount_id"># <code>leadr.auth.domain.device.Device.account_id</code><a class="headerlink" href="#leadrauthdomaindevicedeviceaccount_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">account_id</span><span class="p">:</span> <span class="n">AccountID</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedeviceactivate"># <code>leadr.auth.domain.device.Device.activate</code><a class="headerlink" href="#leadrauthdomaindevicedeviceactivate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">activate</span><span class="p">()</span>
</code></pre></div>
<p>Activate the device, allowing authentication.</p>
<h6 id="leadrauthdomaindevicedeviceban"># <code>leadr.auth.domain.device.Device.ban</code><a class="headerlink" href="#leadrauthdomaindevicedeviceban" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ban</span><span class="p">()</span>
</code></pre></div>
<p>Ban the device, preventing further authentication.</p>
<h6 id="leadrauthdomaindevicedeviceclient_fingerprint"># <code>leadr.auth.domain.device.Device.client_fingerprint</code><a class="headerlink" href="#leadrauthdomaindevicedeviceclient_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">client_fingerprint</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Client-generated SHA256 device fingerprint (64 hex characters)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicecreated_at"># <code>leadr.auth.domain.device.Device.created_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicedeleted_at"># <code>leadr.auth.domain.device.Device.deleted_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicedeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was soft-deleted (UTC), or null if active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicefirst_seen_at"># <code>leadr.auth.domain.device.Device.first_seen_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicefirst_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">first_seen_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicegame_id"># <code>leadr.auth.domain.device.Device.game_id</code><a class="headerlink" href="#leadrauthdomaindevicedevicegame_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">game_id</span><span class="p">:</span> <span class="n">GameID</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedeviceid"># <code>leadr.auth.domain.device.Device.id</code><a class="headerlink" href="#leadrauthdomaindevicedeviceid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">DeviceID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">DeviceID</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique device identifier&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedeviceis_active"># <code>leadr.auth.domain.device.Device.is_active</code><a class="headerlink" href="#leadrauthdomaindevicedeviceis_active" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_active</span><span class="p">()</span>
</code></pre></div>
<p>Check if the device is active.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the device status is ACTIVE.</li>
</ul>
<h6 id="leadrauthdomaindevicedeviceis_deleted"># <code>leadr.auth.domain.device.Device.is_deleted</code><a class="headerlink" href="#leadrauthdomaindevicedeviceis_deleted" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_deleted</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if entity is soft-deleted.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the entity has a deleted_at timestamp, False otherwise.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicelast_seen_at"># <code>leadr.auth.domain.device.Device.last_seen_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicelast_seen_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">last_seen_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicemetadata"># <code>leadr.auth.domain.device.Device.metadata</code><a class="headerlink" href="#leadrauthdomaindevicedevicemetadata" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">metadata</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicemodel_config"># <code>leadr.auth.domain.device.Device.model_config</code><a class="headerlink" href="#leadrauthdomaindevicedevicemodel_config" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedeviceplatform"># <code>leadr.auth.domain.device.Device.platform</code><a class="headerlink" href="#leadrauthdomaindevicedeviceplatform" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">platform</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicerestore"># <code>leadr.auth.domain.device.Device.restore</code><a class="headerlink" href="#leadrauthdomaindevicedevicerestore" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">restore</span><span class="p">()</span>
</code></pre></div>
<p>Restore a soft-deleted entity.</p>
<p>Clears the deleted_at timestamp, making the entity active again.</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account.soft_delete()
> > > account.restore()
> > > assert account.is_deleted is False

</details>

<h6 id="leadrauthdomaindevicedevicesoft_delete"># <code>leadr.auth.domain.device.Device.soft_delete</code><a class="headerlink" href="#leadrauthdomaindevicedevicesoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">()</span>
</code></pre></div>
<p>Mark entity as soft-deleted.</p>
<p>Sets the deleted_at timestamp to the current UTC time. Entities that are
already deleted are not affected (deleted_at remains at original deletion time).</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account = Account(name="Test", slug="test")
> > > account.soft_delete()
> > > assert account.is_deleted is True

</details>

<h6 id="leadrauthdomaindevicedevicestatus"># <code>leadr.auth.domain.device.Device.status</code><a class="headerlink" href="#leadrauthdomaindevicedevicestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">DeviceStatus</span> <span class="o">=</span> <span class="n">DeviceStatus</span><span class="o">.</span><span class="n">ACTIVE</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesuspend"># <code>leadr.auth.domain.device.Device.suspend</code><a class="headerlink" href="#leadrauthdomaindevicedevicesuspend" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">suspend</span><span class="p">()</span>
</code></pre></div>
<p>Suspend the device temporarily.</p>
<h6 id="leadrauthdomaindevicedeviceupdate_last_seen"># <code>leadr.auth.domain.device.Device.update_last_seen</code><a class="headerlink" href="#leadrauthdomaindevicedeviceupdate_last_seen" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update_last_seen</span><span class="p">()</span>
</code></pre></div>
<p>Update the last_seen_at timestamp to current time.</p>
<h6 id="leadrauthdomaindevicedeviceupdated_at"># <code>leadr.auth.domain.device.Device.updated_at</code><a class="headerlink" href="#leadrauthdomaindevicedeviceupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicevalidate_sha256"># <code>leadr.auth.domain.device.Device.validate_sha256</code><a class="headerlink" href="#leadrauthdomaindevicedevicevalidate_sha256" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_sha256</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>
<p>Validate that client_fingerprint is a valid SHA256 hash.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>v</strong> (<code><a href="#str">str</a></code>)  The client_fingerprint value to validate.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code>  The normalized (lowercase) client_fingerprint.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If the fingerprint is not a valid 64-character hex string.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesession"><code>leadr.auth.domain.device.DeviceSession</code><a class="headerlink" href="#leadrauthdomaindevicedevicesession" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.domain.models.Entity">Entity</a></code></p>
<p>Device session domain entity.</p>
<p>Represents an active authentication session for a device.
Sessions have an expiration time and can be revoked manually.
Includes both access and refresh tokens with token rotation support.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.device.DeviceSession.is_expired"><strong>is_expired</strong></a>  Check if the access token has expired.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.is_refresh_expired"><strong>is_refresh_expired</strong></a>  Check if the refresh token has expired.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.is_revoked"><strong>is_revoked</strong></a>  Check if the session has been manually revoked.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.is_valid"><strong>is_valid</strong></a>  Check if the session is valid for use.</li>
<li><a href="./#leadr.auth.domain.device.DeviceSession.restore"><strong>restore</strong></a>  Restore a soft-deleted entity.</li>
<li><a href="./#leadr.auth.domain.device.DeviceSession.revoke"><strong>revoke</strong></a>  Revoke the session, preventing further use.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.rotate_tokens"><strong>rotate_tokens</strong></a>  Increment token version for token rotation.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.soft_delete"><strong>soft_delete</strong></a>  Mark entity as soft-deleted.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.device.DeviceSession.access_token_hash"><strong>access_token_hash</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.device_id"><strong>device_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="./#leadr.auth.domain.device.DeviceSession.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.ip_address"><strong>ip_address</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.is_deleted"><strong>is_deleted</strong></a> (<code><a href="#bool">bool</a></code>)  Check if entity is soft-deleted.</li>
<li><a href="#leadr.auth.domain.device.DeviceSession.model_config"><strong>model_config</strong></a> </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.refresh_expires_at"><strong>refresh_expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.refresh_token_hash"><strong>refresh_token_hash</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.revoked_at"><strong>revoked_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.token_version"><strong>token_version</strong></a> (<code><a href="#int">int</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.device.DeviceSession.user_agent"><strong>user_agent</strong></a> (<code><a href="#str">str</a> | None</code>) </li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionaccess_token_hash"># <code>leadr.auth.domain.device.DeviceSession.access_token_hash</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionaccess_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">access_token_hash</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessioncreated_at"># <code>leadr.auth.domain.device.DeviceSession.created_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessioncreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessiondeleted_at"># <code>leadr.auth.domain.device.DeviceSession.deleted_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessiondeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was soft-deleted (UTC), or null if active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessiondevice_id"># <code>leadr.auth.domain.device.DeviceSession.device_id</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessiondevice_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_id</span><span class="p">:</span> <span class="n">DeviceID</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionexpires_at"># <code>leadr.auth.domain.device.DeviceSession.expires_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionid"># <code>leadr.auth.domain.device.DeviceSession.id</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">DeviceSessionID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">DeviceSessionID</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique device session identifier&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionip_address"># <code>leadr.auth.domain.device.DeviceSession.ip_address</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionip_address" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ip_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionis_deleted"># <code>leadr.auth.domain.device.DeviceSession.is_deleted</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionis_deleted" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_deleted</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if entity is soft-deleted.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the entity has a deleted_at timestamp, False otherwise.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionis_expired"># <code>leadr.auth.domain.device.DeviceSession.is_expired</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionis_expired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_expired</span><span class="p">()</span>
</code></pre></div>
<p>Check if the access token has expired.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the current time is past the expiration time.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionis_refresh_expired"># <code>leadr.auth.domain.device.DeviceSession.is_refresh_expired</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionis_refresh_expired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_refresh_expired</span><span class="p">()</span>
</code></pre></div>
<p>Check if the refresh token has expired.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the current time is past the refresh expiration time.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionis_revoked"># <code>leadr.auth.domain.device.DeviceSession.is_revoked</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionis_revoked" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_revoked</span><span class="p">()</span>
</code></pre></div>
<p>Check if the session has been manually revoked.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if revoked_at is set.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionis_valid"># <code>leadr.auth.domain.device.DeviceSession.is_valid</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionis_valid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_valid</span><span class="p">()</span>
</code></pre></div>
<p>Check if the session is valid for use.</p>
<p>A session is valid if it's not expired and not revoked.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the session can be used for authentication.</li>
</ul>
<h6 id="leadrauthdomaindevicedevicesessionmodel_config"># <code>leadr.auth.domain.device.DeviceSession.model_config</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionmodel_config" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionrefresh_expires_at"># <code>leadr.auth.domain.device.DeviceSession.refresh_expires_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrefresh_expires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_expires_at</span><span class="p">:</span> <span class="n">datetime</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionrefresh_token_hash"># <code>leadr.auth.domain.device.DeviceSession.refresh_token_hash</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrefresh_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_token_hash</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionrestore"># <code>leadr.auth.domain.device.DeviceSession.restore</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrestore" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">restore</span><span class="p">()</span>
</code></pre></div>
<p>Restore a soft-deleted entity.</p>
<p>Clears the deleted_at timestamp, making the entity active again.</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account.soft_delete()
> > > account.restore()
> > > assert account.is_deleted is False

</details>

<h6 id="leadrauthdomaindevicedevicesessionrevoke"># <code>leadr.auth.domain.device.DeviceSession.revoke</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrevoke" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoke</span><span class="p">()</span>
</code></pre></div>
<p>Revoke the session, preventing further use.</p>
<h6 id="leadrauthdomaindevicedevicesessionrevoked_at"># <code>leadr.auth.domain.device.DeviceSession.revoked_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrevoked_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoked_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionrotate_tokens"># <code>leadr.auth.domain.device.DeviceSession.rotate_tokens</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionrotate_tokens" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">rotate_tokens</span><span class="p">()</span>
</code></pre></div>
<p>Increment token version for token rotation.</p>
<p>Called when refreshing tokens to invalidate old refresh tokens.</p>
<h6 id="leadrauthdomaindevicedevicesessionsoft_delete"># <code>leadr.auth.domain.device.DeviceSession.soft_delete</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionsoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">()</span>
</code></pre></div>
<p>Mark entity as soft-deleted.</p>
<p>Sets the deleted_at timestamp to the current UTC time. Entities that are
already deleted are not affected (deleted_at remains at original deletion time).</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account = Account(name="Test", slug="test")
> > > account.soft_delete()
> > > assert account.is_deleted is True

</details>

<h6 id="leadrauthdomaindevicedevicesessiontoken_version"># <code>leadr.auth.domain.device.DeviceSession.token_version</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessiontoken_version" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">token_version</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionupdated_at"># <code>leadr.auth.domain.device.DeviceSession.updated_at</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicesessionuser_agent"># <code>leadr.auth.domain.device.DeviceSession.user_agent</code><a class="headerlink" href="#leadrauthdomaindevicedevicesessionuser_agent" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">user_agent</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicestatus_1"><code>leadr.auth.domain.device.DeviceStatus</code><a class="headerlink" href="#leadrauthdomaindevicedevicestatus_1" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#enum.Enum">Enum</a></code></p>
<p>Device status enumeration.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.domain.device.DeviceStatus.ACTIVE"><strong>ACTIVE</strong></a> </li>
<li><a href="./#leadr.auth.domain.device.DeviceStatus.BANNED"><strong>BANNED</strong></a> </li>
<li><a href="./#leadr.auth.domain.device.DeviceStatus.SUSPENDED"><strong>SUSPENDED</strong></a> </li>
</ul>
<h6 id="leadrauthdomaindevicedevicestatusactive"># <code>leadr.auth.domain.device.DeviceStatus.ACTIVE</code><a class="headerlink" href="#leadrauthdomaindevicedevicestatusactive" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ACTIVE</span> <span class="o">=</span> <span class="s1">&#39;active&#39;</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicestatusbanned"># <code>leadr.auth.domain.device.DeviceStatus.BANNED</code><a class="headerlink" href="#leadrauthdomaindevicedevicestatusbanned" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">BANNED</span> <span class="o">=</span> <span class="s1">&#39;banned&#39;</span>
</code></pre></div>
<h6 id="leadrauthdomaindevicedevicestatussuspended"># <code>leadr.auth.domain.device.DeviceStatus.SUSPENDED</code><a class="headerlink" href="#leadrauthdomaindevicedevicestatussuspended" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">SUSPENDED</span> <span class="o">=</span> <span class="s1">&#39;suspended&#39;</span>
</code></pre></div>
<h5 id="leadrauthdomainnonce"><code>leadr.auth.domain.nonce</code><a class="headerlink" href="#leadrauthdomainnonce" title="Permanent link">&para;</a></h5>
<p>Nonce domain entity for replay protection.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="./#leadr.auth.domain.nonce.Nonce"><strong>Nonce</strong></a>  Request nonce for replay protection.</li>
<li><a href="./#leadr.auth.domain.nonce.NonceStatus"><strong>NonceStatus</strong></a>  Nonce status enumeration.</li>
</ul>
<h6 id="leadrauthdomainnoncenonce"><code>leadr.auth.domain.nonce.Nonce</code><a class="headerlink" href="#leadrauthdomainnoncenonce" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.domain.models.Entity">Entity</a></code></p>
<p>Request nonce for replay protection.</p>
<p>Nonces are single-use tokens that clients must obtain before making
mutating requests (POST, PATCH, DELETE). Each nonce has a short TTL
(typically 60 seconds) and can only be used once.</p>
<p>This prevents replay attacks by ensuring that each mutating request
is fresh and authorized by the server.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.nonce.Nonce.is_expired"><strong>is_expired</strong></a>  Check if nonce has expired.</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.is_used"><strong>is_used</strong></a>  Check if nonce has been used.</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.is_valid"><strong>is_valid</strong></a>  Check if nonce is valid (not used and not expired).</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.mark_expired"><strong>mark_expired</strong></a>  Mark nonce as expired.</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.mark_used"><strong>mark_used</strong></a>  Mark nonce as used.</li>
<li><a href="./#leadr.auth.domain.nonce.Nonce.restore"><strong>restore</strong></a>  Restore a soft-deleted entity.</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.soft_delete"><strong>soft_delete</strong></a>  Mark entity as soft-deleted.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.domain.nonce.Nonce.created_at"><strong>created_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.deleted_at"><strong>deleted_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.device_id"><strong>device_id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.expires_at"><strong>expires_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="./#leadr.auth.domain.nonce.Nonce.id"><strong>id</strong></a> (<code><a href="../common/#leadr.common.domain.ids.NonceID">NonceID</a></code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.is_deleted"><strong>is_deleted</strong></a> (<code><a href="#bool">bool</a></code>)  Check if entity is soft-deleted.</li>
<li><a href="#leadr.auth.domain.nonce.Nonce.model_config"><strong>model_config</strong></a> </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.nonce_value"><strong>nonce_value</strong></a> (<code><a href="#str">str</a></code>) </li>
<li><a href="./#leadr.auth.domain.nonce.Nonce.status"><strong>status</strong></a> (<code><a href="./#leadr.auth.domain.nonce.NonceStatus">NonceStatus</a></code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.updated_at"><strong>updated_at</strong></a> (<code><a href="#datetime.datetime">datetime</a></code>) </li>
<li><a href="#leadr.auth.domain.nonce.Nonce.used_at"><strong>used_at</strong></a> (<code><a href="#datetime.datetime">datetime</a> | None</code>) </li>
</ul>
<h6 id="leadrauthdomainnoncenoncecreated_at"># <code>leadr.auth.domain.nonce.Nonce.created_at</code><a class="headerlink" href="#leadrauthdomainnoncenoncecreated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was created (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncedeleted_at"># <code>leadr.auth.domain.nonce.Nonce.deleted_at</code><a class="headerlink" href="#leadrauthdomainnoncenoncedeleted_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">deleted_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp when entity was soft-deleted (UTC), or null if active&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncedevice_id"># <code>leadr.auth.domain.nonce.Nonce.device_id</code><a class="headerlink" href="#leadrauthdomainnoncenoncedevice_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">device_id</span><span class="p">:</span> <span class="n">DeviceID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Device that owns this nonce&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenonceexpires_at"># <code>leadr.auth.domain.nonce.Nonce.expires_at</code><a class="headerlink" href="#leadrauthdomainnoncenonceexpires_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Nonce expiration timestamp&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenonceid"># <code>leadr.auth.domain.nonce.Nonce.id</code><a class="headerlink" href="#leadrauthdomainnoncenonceid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">id</span><span class="p">:</span> <span class="n">NonceID</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default_factory</span><span class="o">=</span><span class="n">NonceID</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique nonce identifier&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenonceis_deleted"># <code>leadr.auth.domain.nonce.Nonce.is_deleted</code><a class="headerlink" href="#leadrauthdomainnoncenonceis_deleted" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_deleted</span><span class="p">:</span> <span class="nb">bool</span>
</code></pre></div>
<p>Check if entity is soft-deleted.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the entity has a deleted_at timestamp, False otherwise.</li>
</ul>
<h6 id="leadrauthdomainnoncenonceis_expired"># <code>leadr.auth.domain.nonce.Nonce.is_expired</code><a class="headerlink" href="#leadrauthdomainnoncenonceis_expired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_expired</span><span class="p">()</span>
</code></pre></div>
<p>Check if nonce has expired.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if current time is at or past expires_at</li>
</ul>
<h6 id="leadrauthdomainnoncenonceis_used"># <code>leadr.auth.domain.nonce.Nonce.is_used</code><a class="headerlink" href="#leadrauthdomainnoncenonceis_used" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_used</span><span class="p">()</span>
</code></pre></div>
<p>Check if nonce has been used.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if status is USED</li>
</ul>
<h6 id="leadrauthdomainnoncenonceis_valid"># <code>leadr.auth.domain.nonce.Nonce.is_valid</code><a class="headerlink" href="#leadrauthdomainnoncenonceis_valid" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">is_valid</span><span class="p">()</span>
</code></pre></div>
<p>Check if nonce is valid (not used and not expired).</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if nonce is pending and not expired</li>
</ul>
<h6 id="leadrauthdomainnoncenoncemark_expired"># <code>leadr.auth.domain.nonce.Nonce.mark_expired</code><a class="headerlink" href="#leadrauthdomainnoncenoncemark_expired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">mark_expired</span><span class="p">()</span>
</code></pre></div>
<p>Mark nonce as expired.</p>
<p>Only marks nonce as expired if it's currently pending.
Does not change status if already used or expired.</p>
<h6 id="leadrauthdomainnoncenoncemark_used"># <code>leadr.auth.domain.nonce.Nonce.mark_used</code><a class="headerlink" href="#leadrauthdomainnoncenoncemark_used" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">mark_used</span><span class="p">()</span>
</code></pre></div>
<p>Mark nonce as used.</p>
<p>Sets status to USED and records used_at timestamp.</p>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If nonce is not valid (already used or expired)</li>
</ul>
<h6 id="leadrauthdomainnoncenoncemodel_config"># <code>leadr.auth.domain.nonce.Nonce.model_config</code><a class="headerlink" href="#leadrauthdomainnoncenoncemodel_config" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncenonce_value"># <code>leadr.auth.domain.nonce.Nonce.nonce_value</code><a class="headerlink" href="#leadrauthdomainnoncenoncenonce_value" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">nonce_value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Unique nonce value (UUID string)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncerestore"># <code>leadr.auth.domain.nonce.Nonce.restore</code><a class="headerlink" href="#leadrauthdomainnoncenoncerestore" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">restore</span><span class="p">()</span>
</code></pre></div>
<p>Restore a soft-deleted entity.</p>
<p>Clears the deleted_at timestamp, making the entity active again.</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account.soft_delete()
> > > account.restore()
> > > assert account.is_deleted is False

</details>

<h6 id="leadrauthdomainnoncenoncesoft_delete"># <code>leadr.auth.domain.nonce.Nonce.soft_delete</code><a class="headerlink" href="#leadrauthdomainnoncenoncesoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">()</span>
</code></pre></div>
<p>Mark entity as soft-deleted.</p>
<p>Sets the deleted_at timestamp to the current UTC time. Entities that are
already deleted are not affected (deleted_at remains at original deletion time).</p>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > account = Account(name="Test", slug="test")
> > > account.soft_delete()
> > > assert account.is_deleted is True

</details>

<h6 id="leadrauthdomainnoncenoncestatus"># <code>leadr.auth.domain.nonce.Nonce.status</code><a class="headerlink" href="#leadrauthdomainnoncenoncestatus" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">status</span><span class="p">:</span> <span class="n">NonceStatus</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="p">(</span><span class="n">NonceStatus</span><span class="o">.</span><span class="n">PENDING</span><span class="p">),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Nonce status&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenonceupdated_at"># <code>leadr.auth.domain.nonce.Nonce.updated_at</code><a class="headerlink" href="#leadrauthdomainnoncenonceupdated_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">updated_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">UTC</span><span class="p">)),</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Timestamp of last update (UTC)&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenonceused_at"># <code>leadr.auth.domain.nonce.Nonce.used_at</code><a class="headerlink" href="#leadrauthdomainnoncenonceused_at" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">used_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;When nonce was consumed&#39;</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncestatus_1"><code>leadr.auth.domain.nonce.NonceStatus</code><a class="headerlink" href="#leadrauthdomainnoncenoncestatus_1" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="#str">str</a></code>, <code><a href="#enum.Enum">Enum</a></code></p>
<p>Nonce status enumeration.</p>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.domain.nonce.NonceStatus.EXPIRED"><strong>EXPIRED</strong></a> </li>
<li><a href="./#leadr.auth.domain.nonce.NonceStatus.PENDING"><strong>PENDING</strong></a> </li>
<li><a href="./#leadr.auth.domain.nonce.NonceStatus.USED"><strong>USED</strong></a> </li>
</ul>
<h6 id="leadrauthdomainnoncenoncestatusexpired"># <code>leadr.auth.domain.nonce.NonceStatus.EXPIRED</code><a class="headerlink" href="#leadrauthdomainnoncenoncestatusexpired" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">EXPIRED</span> <span class="o">=</span> <span class="s1">&#39;expired&#39;</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncestatuspending"># <code>leadr.auth.domain.nonce.NonceStatus.PENDING</code><a class="headerlink" href="#leadrauthdomainnoncenoncestatuspending" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">PENDING</span> <span class="o">=</span> <span class="s1">&#39;pending&#39;</span>
</code></pre></div>
<h6 id="leadrauthdomainnoncenoncestatusused"># <code>leadr.auth.domain.nonce.NonceStatus.USED</code><a class="headerlink" href="#leadrauthdomainnoncenoncestatusused" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">USED</span> <span class="o">=</span> <span class="s1">&#39;used&#39;</span>
</code></pre></div>
<h4 id="leadrauthservices"><code>leadr.auth.services</code><a class="headerlink" href="#leadrauthservices" title="Permanent link">&para;</a></h4>
<p><strong>Modules:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_crypto"><strong>api_key_crypto</strong></a>  Cryptographic operations for API keys.</li>
<li><a href="#leadr.auth.services.api_key_service"><strong>api_key_service</strong></a>  API Key service for managing API key operations.</li>
<li><a href="./#leadr.auth.services.dependencies"><strong>dependencies</strong></a>  Auth service dependency injection factories.</li>
<li><a href="#leadr.auth.services.device_service"><strong>device_service</strong></a>  Device authentication service.</li>
<li><a href="#leadr.auth.services.device_token_crypto"><strong>device_token_crypto</strong></a>  Cryptographic operations for device access and refresh tokens.</li>
<li><a href="#leadr.auth.services.nonce_service"><strong>nonce_service</strong></a>  Nonce service for managing request nonces.</li>
<li><a href="#leadr.auth.services.nonce_tasks"><strong>nonce_tasks</strong></a>  Background tasks for nonce cleanup.</li>
<li><a href="./#leadr.auth.services.repositories"><strong>repositories</strong></a>  API Key, Device, and Nonce repository services.</li>
</ul>
<h5 id="leadrauthservicesapi_key_crypto"><code>leadr.auth.services.api_key_crypto</code><a class="headerlink" href="#leadrauthservicesapi_key_crypto" title="Permanent link">&para;</a></h5>
<p>Cryptographic operations for API keys.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_crypto.generate_api_key"><strong>generate_api_key</strong></a>  Generate a secure random API key with 'ldr_' prefix.</li>
<li><a href="#leadr.auth.services.api_key_crypto.hash_api_key"><strong>hash_api_key</strong></a>  Hash an API key for secure storage using HMAC-SHA256.</li>
<li><a href="#leadr.auth.services.api_key_crypto.verify_api_key"><strong>verify_api_key</strong></a>  Verify an API key against its stored hash.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_crypto.API_KEY_BYTES"><strong>API_KEY_BYTES</strong></a> </li>
<li><a href="#leadr.auth.services.api_key_crypto.API_KEY_PREFIX"><strong>API_KEY_PREFIX</strong></a> </li>
</ul>
<h6 id="leadrauthservicesapi_key_cryptoapi_key_bytes"><code>leadr.auth.services.api_key_crypto.API_KEY_BYTES</code><a class="headerlink" href="#leadrauthservicesapi_key_cryptoapi_key_bytes" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">API_KEY_BYTES</span> <span class="o">=</span> <span class="mi">32</span>
</code></pre></div>
<h6 id="leadrauthservicesapi_key_cryptoapi_key_prefix"><code>leadr.auth.services.api_key_crypto.API_KEY_PREFIX</code><a class="headerlink" href="#leadrauthservicesapi_key_cryptoapi_key_prefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">API_KEY_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;ldr_&#39;</span>
</code></pre></div>
<h6 id="leadrauthservicesapi_key_cryptogenerate_api_key"><code>leadr.auth.services.api_key_crypto.generate_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_cryptogenerate_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">generate_api_key</span><span class="p">()</span>
</code></pre></div>
<p>Generate a secure random API key with 'ldr_' prefix.</p>
<p>The key is generated using cryptographically secure random bytes
and encoded using URL-safe base64 encoding for compatibility.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code>  A secure API key string starting with 'ldr_' followed by</li>
<li><code><a href="#str">str</a></code>  URL-safe random characters (alphanumeric, hyphen, underscore).</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > key = generate_api_key()
> > > key.startswith('ldr\_')
> > > True
> > > len(key) > 36
> > > True

</details>

<h6 id="leadrauthservicesapi_key_cryptohash_api_key"><code>leadr.auth.services.api_key_crypto.hash_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_cryptohash_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">hash_api_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Hash an API key for secure storage using HMAC-SHA256.</p>
<p>Uses HMAC-SHA256 with a server-side secret (pepper) to create
a one-way hash of the API key. This provides defense in depth:
database compromise alone isn't enough to validate keys.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key</strong> (<code><a href="#str">str</a></code>)  The API key to hash.</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for additional security.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code>  A hexadecimal string representation of the HMAC-SHA256 hash.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > secret = "my-secret"
> > > hash1 = hash_api_key('ldr_test123', secret)
> > > hash2 = hash_api_key('ldr_test123', secret)
> > > hash1 == hash2
> > > True
> > > len(hash1)
> > > 64

</details>

<h6 id="leadrauthservicesapi_key_cryptoverify_api_key"><code>leadr.auth.services.api_key_crypto.verify_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_cryptoverify_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">verify_api_key</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">key_hash</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Verify an API key against its stored hash.</p>
<p>Uses timing-safe comparison to prevent timing attacks.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key</strong> (<code><a href="#str">str</a></code>)  The API key to verify.</li>
<li><strong>key_hash</strong> (<code><a href="#str">str</a></code>)  The stored hash to compare against.</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for HMAC verification.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if the key matches the hash, False otherwise.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > secret = "my-secret"
> > > key = 'ldr_test123'
> > > hashed = hash_api_key(key, secret)
> > > verify_api_key(key, hashed, secret)
> > > True
> > > verify_api_key('ldr_wrong', hashed, secret)
> > > False

</details>

<h5 id="leadrauthservicesapi_key_service"><code>leadr.auth.services.api_key_service</code><a class="headerlink" href="#leadrauthservicesapi_key_service" title="Permanent link">&para;</a></h5>
<p>API Key service for managing API key operations.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService"><strong>APIKeyService</strong></a>  Service for managing API key lifecycle and operations.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservice"><code>leadr.auth.services.api_key_service.APIKeyService</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservice" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.services.BaseService">BaseService</a>[<a href="#leadr.auth.domain.api_key.APIKey">APIKey</a>, <a href="./#leadr.auth.services.repositories.APIKeyRepository">APIKeyRepository</a>]</code></p>
<p>Service for managing API key lifecycle and operations.</p>
<p>This service orchestrates API key creation, validation, and management
by coordinating between the domain models, cryptographic functions,
and repository layer.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.count_active_api_keys"><strong>count_active_api_keys</strong></a>  Count active API keys for an account.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.create_api_key"><strong>create_api_key</strong></a>  Create a new API key for a user within an account.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.create_api_key_with_value"><strong>create_api_key_with_value</strong></a>  Create a new API key with a specific key value (for bootstrap/testing).</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.delete"><strong>delete</strong></a>  Soft-delete an entity.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.get_api_key"><strong>get_api_key</strong></a>  Get an API key by its ID.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.get_by_id_or_raise"><strong>get_by_id_or_raise</strong></a>  Get an entity by its ID or raise EntityNotFoundError.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.list_account_api_keys"><strong>list_account_api_keys</strong></a>  List all API keys for an account.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.list_all"><strong>list_all</strong></a>  List all non-deleted entities.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.list_api_keys"><strong>list_api_keys</strong></a>  List API keys for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.record_usage"><strong>record_usage</strong></a>  Record that an API key was used at a specific time.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.revoke_api_key"><strong>revoke_api_key</strong></a>  Revoke an API key, preventing further use.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.soft_delete"><strong>soft_delete</strong></a>  Soft-delete an entity and return it before deletion.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.update_api_key_status"><strong>update_api_key_status</strong></a>  Update the status of an API key.</li>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.validate_api_key"><strong>validate_api_key</strong></a>  Validate an API key and return the domain entity if valid.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.api_key_service.APIKeyService.repository"><strong>repository</strong></a> </li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicecount_active_api_keys"># <code>leadr.auth.services.api_key_service.APIKeyService.count_active_api_keys</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicecount_active_api_keys" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">count_active_api_keys</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div>
<p>Count active API keys for an account.</p>
<p>This is useful for enforcing limits on the number of active keys
per account based on their plan or tier.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to count keys for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#int">int</a></code>  Number of active (non-revoked) API keys.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicecreate_api_key"># <code>leadr.auth.services.api_key_service.APIKeyService.create_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create_api_key</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">expires_at</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Create a new API key for a user within an account.</p>
<p>Generates a secure random key, hashes it for storage, and persists
it to the database. The plain key is returned only once for the
caller to provide to the user.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID the key belongs to.</li>
<li><strong>user_id</strong> (<code><a href="../common/#leadr.common.domain.ids.UserID">UserID</a></code>)  The user ID the key belongs to.</li>
<li><strong>name</strong> (<code><a href="#str">str</a></code>)  A descriptive name for the key.</li>
<li><strong>expires_at</strong> (<code><a href="#datetime.datetime">datetime</a> | None</code>)  Optional expiration timestamp for the key.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>  A tuple of (APIKey domain entity, plain key string).</li>
<li><code><a href="#str">str</a></code>  The plain key should be shown to the user once and not stored.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > api_key, plain_key = await service.create_api_key(
> > > ... account_id=account_id,
> > > ... user_id=user_id,
> > > ... name="Production API Key",
> > > ... expires_at=datetime.now(UTC) + timedelta(days=90)
> > > ... )
> > > print(f"Your API key: {plain_key}")
> > > Your API key: ldr_abc123...

</details>

<h6 id="leadrauthservicesapi_key_serviceapikeyservicecreate_api_key_with_value"># <code>leadr.auth.services.api_key_service.APIKeyService.create_api_key_with_value</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicecreate_api_key_with_value" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create_api_key_with_value</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key_value</span><span class="p">,</span> <span class="n">expires_at</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Create a new API key with a specific key value (for bootstrap/testing).</p>
<p>This method is used for creating API keys with predetermined values,
such as during superadmin bootstrap. Unlike create_api_key, this does
not generate a random key and only returns the APIKey entity.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID the key belongs to.</li>
<li><strong>user_id</strong> (<code><a href="../common/#leadr.common.domain.ids.UserID">UserID</a></code>)  The user ID the key belongs to.</li>
<li><strong>name</strong> (<code><a href="#str">str</a></code>)  A descriptive name for the key.</li>
<li><strong>key_value</strong> (<code><a href="#str">str</a></code>)  The specific API key value to use.</li>
<li><strong>expires_at</strong> (<code><a href="#datetime.datetime">datetime</a> | None</code>)  Optional expiration timestamp for the key.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>  The created APIKey domain entity.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > api_key = await service.create_api_key_with_value(
> > > ... account_id=account_id,
> > > ... user_id=user_id,
> > > ... name="Superadmin Key",
> > > ... key_value="ldr_fixed_key_for_bootstrap",
> > > ... )

</details>

<h6 id="leadrauthservicesapi_key_serviceapikeyservicedelete"># <code>leadr.auth.services.api_key_service.APIKeyService.delete</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicedelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyserviceget_api_key"># <code>leadr.auth.services.api_key_service.APIKeyService.get_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyserviceget_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_api_key</span><span class="p">(</span><span class="n">key_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an API key by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The ID of the API key to retrieve.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a> | None</code>  The APIKey domain entity if found, None otherwise.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyserviceget_by_id"># <code>leadr.auth.services.api_key_service.APIKeyService.get_by_id</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyserviceget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a> | None</code>  The domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyserviceget_by_id_or_raise"># <code>leadr.auth.services.api_key_service.APIKeyService.get_by_id_or_raise</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyserviceget_by_id_or_raise" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id_or_raise</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID or raise EntityNotFoundError.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The domain entity</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity is not found
  (converted to HTTP 404 by global handler)</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicelist_account_api_keys"># <code>leadr.auth.services.api_key_service.APIKeyService.list_account_api_keys</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicelist_account_api_keys" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_account_api_keys</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="n">active_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>List all API keys for an account.</p>
<p>This is an internal helper that returns a plain list. API keys per account
are typically limited, so pagination isn't needed for internal use cases.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to list keys for.</li>
<li><strong>active_only</strong> (<code><a href="#bool">bool</a></code>)  If True, only return active (non-revoked) keys.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#list">list</a>[<a href="#leadr.auth.domain.api_key.APIKey">APIKey</a>]</code>  List of APIKey domain entities.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicelist_all"># <code>leadr.auth.services.api_key_service.APIKeyService.list_all</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicelist_all" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_all</span><span class="p">()</span>
</code></pre></div>
<p>List all non-deleted entities.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#list">list</a>[<a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a>]</code>  List of domain entities</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicelist_api_keys"># <code>leadr.auth.services.api_key_service.APIKeyService.list_api_keys</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicelist_api_keys" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_api_keys</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pagination</span><span class="p">)</span>
</code></pre></div>
<p>List API keys for an account with optional filters and pagination.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Account ID to filter by. If None, returns all API keys
  (superadmin use case).</li>
<li><strong>status</strong> (<code><a href="#str">str</a> | None</code>)  Optional status string to filter by.</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="#leadr.auth.domain.api_key.APIKey">APIKey</a>]</code>  PaginatedResult containing APIKey entities.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicerecord_usage"># <code>leadr.auth.services.api_key_service.APIKeyService.record_usage</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicerecord_usage" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">record_usage</span><span class="p">(</span><span class="n">key_id</span><span class="p">,</span> <span class="n">used_at</span><span class="p">)</span>
</code></pre></div>
<p>Record that an API key was used at a specific time.</p>
<p>This is typically called automatically during validation, but can
also be called explicitly if needed.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The ID of the API key that was used.</li>
<li><strong>used_at</strong> (<code><a href="#datetime.datetime">datetime</a></code>)  The timestamp when the key was used.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>  The updated APIKey domain entity.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the key doesn't exist.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicerepository"># <code>leadr.auth.services.api_key_service.APIKeyService.repository</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicerepository" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">repository</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_repository</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicerevoke_api_key"># <code>leadr.auth.services.api_key_service.APIKeyService.revoke_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicerevoke_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoke_api_key</span><span class="p">(</span><span class="n">key_id</span><span class="p">)</span>
</code></pre></div>
<p>Revoke an API key, preventing further use.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The ID of the API key to revoke.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>  The updated APIKey domain entity with REVOKED status.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the key doesn't exist.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicesoft_delete"># <code>leadr.auth.services.api_key_service.APIKeyService.soft_delete</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicesoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity and return it before deletion.</p>
<p>Useful for endpoints that need to return the deleted entity in the response.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The entity before it was deleted</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyserviceupdate_api_key_status"># <code>leadr.auth.services.api_key_service.APIKeyService.update_api_key_status</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyserviceupdate_api_key_status" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update_api_key_status</span><span class="p">(</span><span class="n">key_id</span><span class="p">,</span> <span class="n">status</span><span class="p">)</span>
</code></pre></div>
<p>Update the status of an API key.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>key_id</strong> (<code><a href="../common/#leadr.common.domain.ids.APIKeyID">APIKeyID</a></code>)  The ID of the API key to update.</li>
<li><strong>status</strong> (<code><a href="#str">str</a></code>)  The new status value (active or revoked).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a></code>  The updated APIKey domain entity.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the key doesn't exist.</li>
<li><code><a href="#ValueError">ValueError</a></code>  If the status is invalid.</li>
</ul>
<h6 id="leadrauthservicesapi_key_serviceapikeyservicevalidate_api_key"># <code>leadr.auth.services.api_key_service.APIKeyService.validate_api_key</code><a class="headerlink" href="#leadrauthservicesapi_key_serviceapikeyservicevalidate_api_key" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_api_key</span><span class="p">(</span><span class="n">plain_key</span><span class="p">)</span>
</code></pre></div>
<p>Validate an API key and return the domain entity if valid.</p>
<p>Performs the following checks:</p>
<ol>
<li>Extracts prefix and looks up key in database</li>
<li>Verifies the hash matches</li>
<li>Checks if key is active (not revoked)</li>
<li>Checks if key is not expired</li>
<li>Records usage timestamp if valid</li>
</ol>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>plain_key</strong> (<code><a href="#str">str</a></code>)  The plain API key string to validate.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.domain.api_key.APIKey">APIKey</a> | None</code>  The APIKey domain entity if valid, None otherwise.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > api_key = await service.validate_api_key("ldr_abc123...")
> > > if api_key:
> > > ... print(f"Valid key for account {api_key.account_id}")
> > > ... else:
> > > ... print("Invalid or expired key")

</details>

<h5 id="leadrauthservicesdependencies"><code>leadr.auth.services.dependencies</code><a class="headerlink" href="#leadrauthservicesdependencies" title="Permanent link">&para;</a></h5>
<p>Auth service dependency injection factories.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.dependencies.get_api_key_service"><strong>get_api_key_service</strong></a>  Get APIKeyService dependency.</li>
<li><a href="#leadr.auth.services.dependencies.get_device_service"><strong>get_device_service</strong></a>  Get DeviceService dependency.</li>
<li><a href="#leadr.auth.services.dependencies.get_nonce_service"><strong>get_nonce_service</strong></a>  Get NonceService dependency.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.services.dependencies.APIKeyServiceDep"><strong>APIKeyServiceDep</strong></a> </li>
<li><a href="./#leadr.auth.services.dependencies.DeviceServiceDep"><strong>DeviceServiceDep</strong></a> </li>
<li><a href="./#leadr.auth.services.dependencies.NonceServiceDep"><strong>NonceServiceDep</strong></a> </li>
</ul>
<h6 id="leadrauthservicesdependenciesapikeyservicedep"><code>leadr.auth.services.dependencies.APIKeyServiceDep</code><a class="headerlink" href="#leadrauthservicesdependenciesapikeyservicedep" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">APIKeyServiceDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">APIKeyService</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_api_key_service</span><span class="p">)]</span>
</code></pre></div>
<h6 id="leadrauthservicesdependenciesdeviceservicedep"><code>leadr.auth.services.dependencies.DeviceServiceDep</code><a class="headerlink" href="#leadrauthservicesdependenciesdeviceservicedep" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">DeviceServiceDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">DeviceService</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_device_service</span><span class="p">)]</span>
</code></pre></div>
<h6 id="leadrauthservicesdependenciesnonceservicedep"><code>leadr.auth.services.dependencies.NonceServiceDep</code><a class="headerlink" href="#leadrauthservicesdependenciesnonceservicedep" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">NonceServiceDep</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">NonceService</span><span class="p">,</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_nonce_service</span><span class="p">)]</span>
</code></pre></div>
<h6 id="leadrauthservicesdependenciesget_api_key_service"><code>leadr.auth.services.dependencies.get_api_key_service</code><a class="headerlink" href="#leadrauthservicesdependenciesget_api_key_service" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_api_key_service</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
</code></pre></div>
<p>Get APIKeyService dependency.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>db</strong> (<code><a href="../common/#leadr.common.dependencies.DatabaseSession">DatabaseSession</a></code>)  Database session injected via dependency injection</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.services.api_key_service.APIKeyService">APIKeyService</a></code>  APIKeyService instance configured with the database session</li>
</ul>
<h6 id="leadrauthservicesdependenciesget_device_service"><code>leadr.auth.services.dependencies.get_device_service</code><a class="headerlink" href="#leadrauthservicesdependenciesget_device_service" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_device_service</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
</code></pre></div>
<p>Get DeviceService dependency.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>db</strong> (<code><a href="../common/#leadr.common.dependencies.DatabaseSession">DatabaseSession</a></code>)  Database session injected via dependency injection</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.services.device_service.DeviceService">DeviceService</a></code>  DeviceService instance configured with the database session</li>
</ul>
<h6 id="leadrauthservicesdependenciesget_nonce_service"><code>leadr.auth.services.dependencies.get_nonce_service</code><a class="headerlink" href="#leadrauthservicesdependenciesget_nonce_service" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_nonce_service</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
</code></pre></div>
<p>Get NonceService dependency.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>db</strong> (<code><a href="../common/#leadr.common.dependencies.DatabaseSession">DatabaseSession</a></code>)  Database session injected via dependency injection</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.auth.services.nonce_service.NonceService">NonceService</a></code>  NonceService instance configured with the database session</li>
</ul>
<h5 id="leadrauthservicesdevice_service"><code>leadr.auth.services.device_service</code><a class="headerlink" href="#leadrauthservicesdevice_service" title="Permanent link">&para;</a></h5>
<p>Device authentication service.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.device_service.DeviceService"><strong>DeviceService</strong></a>  Service for device authentication and session management.</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceservice"><code>leadr.auth.services.device_service.DeviceService</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservice" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">DeviceService</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<p>Bases: <code><a href="../common/#leadr.common.services.BaseService">BaseService</a>[<a href="./#leadr.auth.domain.device.Device">Device</a>, <a href="./#leadr.auth.services.repositories.DeviceRepository">DeviceRepository</a>]</code></p>
<p>Service for device authentication and session management.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.device_service.DeviceService.activate_device"><strong>activate_device</strong></a>  Activate a device, allowing authentication.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.ban_device"><strong>ban_device</strong></a>  Ban a device, preventing further authentication.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.delete"><strong>delete</strong></a>  Soft-delete an entity.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.get_by_id_or_raise"><strong>get_by_id_or_raise</strong></a>  Get an entity by its ID or raise EntityNotFoundError.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.get_device"><strong>get_device</strong></a>  Get a device by its ID.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.get_session"><strong>get_session</strong></a>  Get a device session by its ID.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.get_session_or_raise"><strong>get_session_or_raise</strong></a>  Get a device session by its ID or raise EntityNotFoundError.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.list_all"><strong>list_all</strong></a>  List all non-deleted entities.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.list_devices"><strong>list_devices</strong></a>  List devices for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.list_sessions"><strong>list_sessions</strong></a>  List device sessions for an account with optional filters and pagination.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.refresh_access_token"><strong>refresh_access_token</strong></a>  Refresh access token using a valid refresh token.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.revoke_session"><strong>revoke_session</strong></a>  Revoke a device session.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.soft_delete"><strong>soft_delete</strong></a>  Soft-delete an entity and return it before deletion.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.start_session"><strong>start_session</strong></a>  Start a new device session.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.suspend_device"><strong>suspend_device</strong></a>  Suspend a device temporarily.</li>
<li><a href="#leadr.auth.services.device_service.DeviceService.validate_device_token"><strong>validate_device_token</strong></a>  Validate access token and return associated device.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.device_service.DeviceService.repository"><strong>repository</strong></a> </li>
<li><a href="#leadr.auth.services.device_service.DeviceService.session"><strong>session</strong></a> </li>
<li><a href="#leadr.auth.services.device_service.DeviceService.session_repo"><strong>session_repo</strong></a> </li>
</ul>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session</strong> (<code><a href="#sqlalchemy.ext.asyncio.AsyncSession">AsyncSession</a></code>)  SQLAlchemy async session</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceserviceactivate_device"># <code>leadr.auth.services.device_service.DeviceService.activate_device</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceactivate_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">activate_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
<p>Activate a device, allowing authentication.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  The ID of the device to activate</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a></code>  The updated device</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the device doesn't exist</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device = await service.activate_device(device_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceserviceban_device"># <code>leadr.auth.services.device_service.DeviceService.ban_device</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceban_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">ban_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
<p>Ban a device, preventing further authentication.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  The ID of the device to ban</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a></code>  The updated device</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the device doesn't exist</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device = await service.ban_device(device_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicedelete"># <code>leadr.auth.services.device_service.DeviceService.delete</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicedelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceserviceget_by_id"># <code>leadr.auth.services.device_service.DeviceService.get_by_id</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a> | None</code>  The domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceserviceget_by_id_or_raise"># <code>leadr.auth.services.device_service.DeviceService.get_by_id_or_raise</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceget_by_id_or_raise" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id_or_raise</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID or raise EntityNotFoundError.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The domain entity</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity is not found
  (converted to HTTP 404 by global handler)</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceserviceget_device"># <code>leadr.auth.services.device_service.DeviceService.get_device</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceget_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
<p>Get a device by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="#uuid.UUID">UUID</a></code>)  The ID of the device to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a> | None</code>  The device if found, None otherwise</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device = await service.get_device(device_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceserviceget_session"># <code>leadr.auth.services.device_service.DeviceService.get_session</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceget_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_session</span><span class="p">(</span><span class="n">session_id</span><span class="p">)</span>
</code></pre></div>
<p>Get a device session by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session_id</strong> (<code><a href="#uuid.UUID">UUID</a></code>)  The ID of the session to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a> | None</code>  The session if found, None otherwise</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > session = await service.get_session(session_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceserviceget_session_or_raise"># <code>leadr.auth.services.device_service.DeviceService.get_session_or_raise</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceserviceget_session_or_raise" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_session_or_raise</span><span class="p">(</span><span class="n">session_id</span><span class="p">)</span>
</code></pre></div>
<p>Get a device session by its ID or raise EntityNotFoundError.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>)  The ID of the session to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a></code>  The session</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the session doesn't exist</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > session = await service.get_session_or_raise(session_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicelist_all"># <code>leadr.auth.services.device_service.DeviceService.list_all</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicelist_all" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_all</span><span class="p">()</span>
</code></pre></div>
<p>List all non-deleted entities.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#list">list</a>[<a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a>]</code>  List of domain entities</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceservicelist_devices"># <code>leadr.auth.services.device_service.DeviceService.list_devices</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicelist_devices" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_devices</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pagination</span><span class="p">)</span>
</code></pre></div>
<p>List devices for an account with optional filters and pagination.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Account ID to filter by. If None, returns all devices
  (superadmin use case).</li>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a> | None</code>)  Optional game ID to filter by</li>
<li><strong>status</strong> (<code><a href="#str">str</a> | None</code>)  Optional status to filter by (active, banned, suspended)</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="./#leadr.auth.domain.device.Device">Device</a>]</code>  PaginatedResult containing Device entities.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > devices = await service.list_devices(
> > > ... account_id=account.id,
> > > ... status="active",
> > > ... pagination=pagination,
> > > ... )

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicelist_sessions"># <code>leadr.auth.services.device_service.DeviceService.list_sessions</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicelist_sessions" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_sessions</span><span class="p">(</span><span class="n">account_id</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pagination</span><span class="p">)</span>
</code></pre></div>
<p>List device sessions for an account with optional filters and pagination.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Account ID to filter by. If None, returns all sessions
  (superadmin use case).</li>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a> | None</code>)  Optional device ID to filter by</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a>]</code>  PaginatedResult containing DeviceSession entities.</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > sessions = await service.list_sessions(
> > > ... account_id=account.id,
> > > ... device_id=device.id,
> > > ... pagination=pagination,
> > > ... )

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicerefresh_access_token"># <code>leadr.auth.services.device_service.DeviceService.refresh_access_token</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicerefresh_access_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">refresh_access_token</span><span class="p">(</span><span class="n">refresh_token</span><span class="p">)</span>
</code></pre></div>
<p>Refresh access token using a valid refresh token.</p>
<p>Validates the refresh token, checks token version for replay attack detection,
generates new access and refresh tokens with incremented version, and updates
the session.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>refresh_token</strong> (<code><a href="#str">str</a></code>)  JWT refresh token</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#tuple">tuple</a>[<a href="#str">str</a>, <a href="#str">str</a>, <a href="#int">int</a>] | None</code>  tuple[str, str, int]: (access_token_plain, refresh_token_plain, expires_in_seconds)</li>
<li><code><a href="#tuple">tuple</a>[<a href="#str">str</a>, <a href="#str">str</a>, <a href="#int">int</a>] | None</code>  or None if refresh token is invalid</li>
</ul>
<details class="token-rotation-security" open markdown="1">
<summary>Token Rotation Security</summary>

- The token_version in the JWT must match the session's token_version
- When tokens are refreshed, the version is incremented
- Old refresh tokens with lower versions are rejected (prevents replay attacks)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicerepository"># <code>leadr.auth.services.device_service.DeviceService.repository</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicerepository" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">repository</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_repository</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthservicesdevice_servicedeviceservicerevoke_session"># <code>leadr.auth.services.device_service.DeviceService.revoke_session</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicerevoke_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">revoke_session</span><span class="p">(</span><span class="n">session_id</span><span class="p">)</span>
</code></pre></div>
<p>Revoke a device session.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>session_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceSessionID">DeviceSessionID</a></code>)  The ID of the session to revoke</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a></code>  The updated session</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the session doesn't exist</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > session = await service.revoke_session(session_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicesession"># <code>leadr.auth.services.device_service.DeviceService.session</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicesession" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
</code></pre></div>
<h6 id="leadrauthservicesdevice_servicedeviceservicesession_repo"># <code>leadr.auth.services.device_service.DeviceService.session_repo</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicesession_repo" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session_repo</span> <span class="o">=</span> <span class="n">DeviceSessionRepository</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthservicesdevice_servicedeviceservicesoft_delete"># <code>leadr.auth.services.device_service.DeviceService.soft_delete</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicesoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity and return it before deletion.</p>
<p>Useful for endpoints that need to return the deleted entity in the response.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The entity before it was deleted</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceservicestart_session"># <code>leadr.auth.services.device_service.DeviceService.start_session</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicestart_session" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">start_session</span><span class="p">(</span><span class="n">game_id</span><span class="p">,</span> <span class="n">client_fingerprint</span><span class="p">,</span> <span class="n">platform</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ip_address</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user_agent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
<p>Start a new device session.</p>
<p>Creates or updates device, generates JWT access and refresh tokens,
and creates session record. This is idempotent - calling multiple times
updates last_seen_at.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>)  Game UUID</li>
<li><strong>client_fingerprint</strong> (<code><a href="#str">str</a></code>)  Client-generated SHA256 device fingerprint</li>
<li><strong>platform</strong> (<code><a href="#str">str</a> | None</code>)  Device platform (ios, android, etc.)</li>
<li><strong>ip_address</strong> (<code><a href="#str">str</a> | None</code>)  Client IP address</li>
<li><strong>user_agent</strong> (<code><a href="#str">str</a> | None</code>)  Client user agent string</li>
<li><strong>metadata</strong> (<code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>] | None</code>)  Additional device metadata</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#tuple">tuple</a>[<a href="./#leadr.auth.domain.device.Device">Device</a>, <a href="#str">str</a>, <a href="#str">str</a>, <a href="#int">int</a>]</code>  tuple[Device, str, str, int]: (device, access_token_plain, refresh_token_plain,
  expires_in_seconds)</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If game doesn't exist</li>
</ul>
<h6 id="leadrauthservicesdevice_servicedeviceservicesuspend_device"># <code>leadr.auth.services.device_service.DeviceService.suspend_device</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicesuspend_device" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">suspend_device</span><span class="p">(</span><span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
<p>Suspend a device temporarily.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  The ID of the device to suspend</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a></code>  The updated device</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the device doesn't exist</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device = await service.suspend_device(device_id)

</details>

<h6 id="leadrauthservicesdevice_servicedeviceservicevalidate_device_token"># <code>leadr.auth.services.device_service.DeviceService.validate_device_token</code><a class="headerlink" href="#leadrauthservicesdevice_servicedeviceservicevalidate_device_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_device_token</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
</code></pre></div>
<p>Validate access token and return associated device.</p>
<p>Validates JWT signature and expiration, checks session validity,
and ensures device is active.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>token</strong> (<code><a href="#str">str</a></code>)  JWT access token</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a> | None</code>  Device if token is valid and device is active, None otherwise</li>
</ul>
<h5 id="leadrauthservicesdevice_token_crypto"><code>leadr.auth.services.device_token_crypto</code><a class="headerlink" href="#leadrauthservicesdevice_token_crypto" title="Permanent link">&para;</a></h5>
<p>Cryptographic operations for device access and refresh tokens.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.device_token_crypto.generate_access_token"><strong>generate_access_token</strong></a>  Generate JWT access token for device authentication.</li>
<li><a href="#leadr.auth.services.device_token_crypto.generate_refresh_token"><strong>generate_refresh_token</strong></a>  Generate JWT refresh token for device authentication.</li>
<li><a href="#leadr.auth.services.device_token_crypto.hash_token"><strong>hash_token</strong></a>  Hash token for secure storage using HMAC-SHA256.</li>
<li><a href="#leadr.auth.services.device_token_crypto.validate_access_token"><strong>validate_access_token</strong></a>  Validate and decode JWT access token.</li>
<li><a href="#leadr.auth.services.device_token_crypto.validate_refresh_token"><strong>validate_refresh_token</strong></a>  Validate and decode JWT refresh token.</li>
</ul>
<h6 id="leadrauthservicesdevice_token_cryptogenerate_access_token"><code>leadr.auth.services.device_token_crypto.generate_access_token</code><a class="headerlink" href="#leadrauthservicesdevice_token_cryptogenerate_access_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">generate_access_token</span><span class="p">(</span><span class="n">client_fingerprint</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">account_id</span><span class="p">,</span> <span class="n">expires_delta</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Generate JWT access token for device authentication.</p>
<p>Creates a JWT with device, game, and account claims, signs it with the secret,
and returns both the plain token and its SHA-256 hash for storage.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong>  Client-generated SHA256 device fingerprint</li>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>)  Game UUID</li>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  Account UUID (for multi-tenant isolation)</li>
<li><strong>expires_delta</strong> (<code><a href="#datetime.timedelta">timedelta</a></code>)  Time until token expires</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for JWT signing</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#tuple">tuple</a>[<a href="#str">str</a>, <a href="#str">str</a>]</code>  tuple[str, str]: (token_plain, token_hash)</li>
<li>token_plain: JWT access token to return to client</li>
<li>token_hash: SHA-256 hash for secure storage</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device_id = "device-123"
> > > game_id = UUID("...")
> > > account_id = UUID("...")
> > > token, token_hash = generate_access_token(
> > > ... device_id, game_id, account_id, timedelta(hours=1), "secret"
> > > ... )
> > > token.count(".")
> > > 2

</details>

<h6 id="leadrauthservicesdevice_token_cryptogenerate_refresh_token"><code>leadr.auth.services.device_token_crypto.generate_refresh_token</code><a class="headerlink" href="#leadrauthservicesdevice_token_cryptogenerate_refresh_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">generate_refresh_token</span><span class="p">(</span><span class="n">client_fingerprint</span><span class="p">,</span> <span class="n">game_id</span><span class="p">,</span> <span class="n">account_id</span><span class="p">,</span> <span class="n">token_version</span><span class="p">,</span> <span class="n">expires_delta</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Generate JWT refresh token for device authentication.</p>
<p>Creates a JWT with device, game, account, and version claims, signs it with the secret,
and returns both the plain token and its SHA-256 hash for storage.</p>
<p>The token_version claim enables token rotation: when a refresh token is used,
the version is incremented and old tokens with lower versions are invalidated.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong>  Client-generated SHA256 device fingerprint</li>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>)  Game UUID</li>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  Account UUID (for multi-tenant isolation)</li>
<li><strong>token_version</strong> (<code><a href="#int">int</a></code>)  Current token version for rotation tracking</li>
<li><strong>expires_delta</strong> (<code><a href="#datetime.timedelta">timedelta</a></code>)  Time until token expires (typically 30 days)</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for JWT signing</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#tuple">tuple</a>[<a href="#str">str</a>, <a href="#str">str</a>]</code>  tuple[str, str]: (token_plain, token_hash)</li>
<li>token_plain: JWT refresh token to return to client</li>
<li>token_hash: SHA-256 hash for secure storage</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > device_id = "device-123"
> > > game_id = UUID("...")
> > > account_id = UUID("...")
> > > token, token_hash = generate_refresh_token(
> > > ... device_id, game_id, account_id, 1, timedelta(days=30), "secret"
> > > ... )
> > > token.count(".")
> > > 2

</details>

<h6 id="leadrauthservicesdevice_token_cryptohash_token"><code>leadr.auth.services.device_token_crypto.hash_token</code><a class="headerlink" href="#leadrauthservicesdevice_token_cryptohash_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">hash_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Hash token for secure storage using HMAC-SHA256.</p>
<p>Uses HMAC-SHA256 with a server-side secret (pepper) to create
a one-way hash of the token. This provides defense in depth:
database compromise alone isn't enough to use tokens.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>token</strong> (<code><a href="#str">str</a></code>)  The JWT token to hash</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for additional security</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#str">str</a></code>  A hexadecimal string representation of the HMAC-SHA256 hash</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > secret = "my-secret"
> > > hash1 = hash_token("token123", secret)
> > > hash2 = hash_token("token123", secret)
> > > hash1 == hash2
> > > True
> > > len(hash1)
> > > 64

</details>

<h6 id="leadrauthservicesdevice_token_cryptovalidate_access_token"><code>leadr.auth.services.device_token_crypto.validate_access_token</code><a class="headerlink" href="#leadrauthservicesdevice_token_cryptovalidate_access_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_access_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Validate and decode JWT access token.</p>
<p>Verifies the token signature and expiration. Returns decoded claims if valid.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>token</strong> (<code><a href="#str">str</a></code>)  JWT access token to validate</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for JWT verification</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>] | None</code>  dict with claims (sub, game_id, account_id, exp, iat, jti) or None if invalid</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > token = "eyJ..."
> > > claims = validate_access_token(token, "secret")
> > > claims["sub"] if claims else None
> > > 'device-123'

</details>

<h6 id="leadrauthservicesdevice_token_cryptovalidate_refresh_token"><code>leadr.auth.services.device_token_crypto.validate_refresh_token</code><a class="headerlink" href="#leadrauthservicesdevice_token_cryptovalidate_refresh_token" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_refresh_token</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div>
<p>Validate and decode JWT refresh token.</p>
<p>Verifies the token signature and expiration. Returns decoded claims if valid.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>token</strong> (<code><a href="#str">str</a></code>)  JWT refresh token to validate</li>
<li><strong>secret</strong> (<code><a href="#str">str</a></code>)  Server-side secret for JWT verification</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#dict">dict</a>[<a href="#str">str</a>, <a href="#typing.Any">Any</a>] | None</code>  dict with claims (sub, game_id, account_id, token_version, exp, iat, jti) or None if invalid</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > token = "eyJ..."
> > > claims = validate_refresh_token(token, "secret")
> > > claims["token_version"] if claims else None
> > > 1

</details>

<h5 id="leadrauthservicesnonce_service"><code>leadr.auth.services.nonce_service</code><a class="headerlink" href="#leadrauthservicesnonce_service" title="Permanent link">&para;</a></h5>
<p>Nonce service for managing request nonces.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.nonce_service.NonceService"><strong>NonceService</strong></a>  Service for managing request nonces.</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservice"><code>leadr.auth.services.nonce_service.NonceService</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservice" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.services.BaseService">BaseService</a>[<a href="./#leadr.auth.domain.nonce.Nonce">Nonce</a>, <a href="./#leadr.auth.services.repositories.NonceRepository">NonceRepository</a>]</code></p>
<p>Service for managing request nonces.</p>
<p>Nonces are single-use tokens that clients must obtain before making
mutating requests. This prevents replay attacks by ensuring each
request is fresh and authorized by the server.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.nonce_service.NonceService.cleanup_expired_nonces"><strong>cleanup_expired_nonces</strong></a>  Clean up expired nonces older than specified hours.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.delete"><strong>delete</strong></a>  Soft-delete an entity.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.generate_nonce"><strong>generate_nonce</strong></a>  Generate a fresh nonce for a device.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.get_by_id_or_raise"><strong>get_by_id_or_raise</strong></a>  Get an entity by its ID or raise EntityNotFoundError.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.list_all"><strong>list_all</strong></a>  List all non-deleted entities.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.soft_delete"><strong>soft_delete</strong></a>  Soft-delete an entity and return it before deletion.</li>
<li><a href="#leadr.auth.services.nonce_service.NonceService.validate_and_consume_nonce"><strong>validate_and_consume_nonce</strong></a>  Validate nonce and mark as used (atomic operation).</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.nonce_service.NonceService.repository"><strong>repository</strong></a> </li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservicecleanup_expired_nonces"># <code>leadr.auth.services.nonce_service.NonceService.cleanup_expired_nonces</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicecleanup_expired_nonces" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">cleanup_expired_nonces</span><span class="p">(</span><span class="n">older_than_hours</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
</code></pre></div>
<p>Clean up expired nonces older than specified hours.</p>
<p>Only deletes nonces with PENDING status. Used nonces are kept
for audit/debugging purposes.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>older_than_hours</strong> (<code><a href="#int">int</a></code>)  Delete nonces expired before this many hours ago (default 24)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#int">int</a></code>  Number of nonces deleted</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > # In background task or cron job
> > >
> > > deleted = await service.cleanup_expired_nonces(older_than_hours=24)
> > > logger.info(f"Cleaned up {deleted} expired nonces")

</details>

<h6 id="leadrauthservicesnonce_servicenonceservicedelete"># <code>leadr.auth.services.nonce_service.NonceService.delete</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicedelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservicegenerate_nonce"># <code>leadr.auth.services.nonce_service.NonceService.generate_nonce</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicegenerate_nonce" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">generate_nonce</span><span class="p">(</span><span class="n">device_id</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div>
<p>Generate a fresh nonce for a device.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  Device ID to associate nonce with</li>
<li><strong>ttl_seconds</strong> (<code><a href="#int">int</a></code>)  Time-to-live in seconds (default 60)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#tuple">tuple</a>[<a href="#str">str</a>, <a href="#datetime.datetime">datetime</a>]</code>  tuple[str, datetime]: (nonce_value, expires_at)</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > nonce_value, expires_at = await service.generate_nonce(device_id)
> > >
> > > # Client includes nonce_value in leadr-client-nonce header

</details>

<h6 id="leadrauthservicesnonce_servicenonceserviceget_by_id"># <code>leadr.auth.services.nonce_service.NonceService.get_by_id</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceserviceget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a> | None</code>  The domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceserviceget_by_id_or_raise"># <code>leadr.auth.services.nonce_service.NonceService.get_by_id_or_raise</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceserviceget_by_id_or_raise" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id_or_raise</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID or raise EntityNotFoundError.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to retrieve</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The domain entity</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity is not found
  (converted to HTTP 404 by global handler)</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservicelist_all"># <code>leadr.auth.services.nonce_service.NonceService.list_all</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicelist_all" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">list_all</span><span class="p">()</span>
</code></pre></div>
<p>List all non-deleted entities.</p>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#list">list</a>[<a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a>]</code>  List of domain entities</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservicerepository"># <code>leadr.auth.services.nonce_service.NonceService.repository</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicerepository" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">repository</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_repository</span><span class="p">(</span><span class="n">session</span><span class="p">)</span>
</code></pre></div>
<h6 id="leadrauthservicesnonce_servicenonceservicesoft_delete"># <code>leadr.auth.services.nonce_service.NonceService.soft_delete</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicesoft_delete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">soft_delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft-delete an entity and return it before deletion.</p>
<p>Useful for endpoints that need to return the deleted entity in the response.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#uuid.UUID">UUID</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  The ID of the entity to delete</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.services.DomainEntityT">DomainEntityT</a></code>  The entity before it was deleted</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If the entity doesn't exist</li>
</ul>
<h6 id="leadrauthservicesnonce_servicenonceservicevalidate_and_consume_nonce"># <code>leadr.auth.services.nonce_service.NonceService.validate_and_consume_nonce</code><a class="headerlink" href="#leadrauthservicesnonce_servicenonceservicevalidate_and_consume_nonce" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">validate_and_consume_nonce</span><span class="p">(</span><span class="n">nonce_value</span><span class="p">,</span> <span class="n">device_id</span><span class="p">)</span>
</code></pre></div>
<p>Validate nonce and mark as used (atomic operation).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>nonce_value</strong> (<code><a href="#str">str</a></code>)  The nonce value to validate</li>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a></code>)  Expected device ID (must match nonce owner)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#bool">bool</a></code>  True if nonce was valid and consumed</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If nonce is invalid (expired, already used, wrong device, or not found)</li>
</ul>
<details class="example" open markdown="1">
<summary>Example</summary>

> > > try:
> > > ... await service.validate_and_consume_nonce(nonce_value, device.id)
> > > ... except ValueError as e:
> > > ... # Handle invalid nonce (return 412 error to client)
> > > ... raise HTTPException(status_code=412, detail=str(e))

</details>

<h5 id="leadrauthservicesnonce_tasks"><code>leadr.auth.services.nonce_tasks</code><a class="headerlink" href="#leadrauthservicesnonce_tasks" title="Permanent link">&para;</a></h5>
<p>Background tasks for nonce cleanup.</p>
<p>Contains tasks for:</p>
<ul>
<li>Cleaning up expired nonces to prevent database bloat</li>
</ul>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.nonce_tasks.cleanup_expired_nonces"><strong>cleanup_expired_nonces</strong></a>  Clean up expired pending nonces.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.nonce_tasks.logger"><strong>logger</strong></a> </li>
</ul>
<h6 id="leadrauthservicesnonce_taskscleanup_expired_nonces"><code>leadr.auth.services.nonce_tasks.cleanup_expired_nonces</code><a class="headerlink" href="#leadrauthservicesnonce_taskscleanup_expired_nonces" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">cleanup_expired_nonces</span><span class="p">()</span>
</code></pre></div>
<p>Clean up expired pending nonces.</p>
<p>Deletes nonces that are:</p>
<ul>
<li>Status: PENDING (unused)</li>
<li>Expired before current time</li>
</ul>
<p>Used and expired nonces are kept for audit purposes.</p>
<p>This task is designed to be called periodically (e.g., every hour).</p>
<h6 id="leadrauthservicesnonce_taskslogger"><code>leadr.auth.services.nonce_tasks.logger</code><a class="headerlink" href="#leadrauthservicesnonce_taskslogger" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</code></pre></div>
<h5 id="leadrauthservicesrepositories"><code>leadr.auth.services.repositories</code><a class="headerlink" href="#leadrauthservicesrepositories" title="Permanent link">&para;</a></h5>
<p>API Key, Device, and Nonce repository services.</p>
<p><strong>Classes:</strong></p>
<ul>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository"><strong>APIKeyRepository</strong></a>  API Key repository for managing API key persistence.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository"><strong>DeviceRepository</strong></a>  Device repository for managing device persistence.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository"><strong>DeviceSessionRepository</strong></a>  DeviceSession repository for managing device session persistence.</li>
<li><a href="./#leadr.auth.services.repositories.NonceRepository"><strong>NonceRepository</strong></a>  Nonce repository for managing nonce persistence.</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepository"><code>leadr.auth.services.repositories.APIKeyRepository</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepository" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.repositories.BaseRepository">BaseRepository</a>[<a href="#leadr.auth.domain.api_key.APIKey">APIKey</a>, <a href="./#leadr.auth.adapters.orm.APIKeyORM">APIKeyORM</a>]</code></p>
<p>API Key repository for managing API key persistence.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.repositories.APIKeyRepository.count_active_by_account"><strong>count_active_by_account</strong></a>  Count active, non-deleted API keys for a given account.</li>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository.create"><strong>create</strong></a>  Create a new entity in the database.</li>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository.delete"><strong>delete</strong></a>  Soft delete an entity by setting its deleted_at timestamp.</li>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository.filter"><strong>filter</strong></a>  Filter API keys by account and optional criteria with pagination.</li>
<li><a href="#leadr.auth.services.repositories.APIKeyRepository.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.repositories.APIKeyRepository.get_by_prefix"><strong>get_by_prefix</strong></a>  Get API key by prefix, returns None if not found or soft-deleted.</li>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository.update"><strong>update</strong></a>  Update an existing entity in the database.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.repositories.APIKeyRepository.SORTABLE_FIELDS"><strong>SORTABLE_FIELDS</strong></a> </li>
<li><a href="./#leadr.auth.services.repositories.APIKeyRepository.session"><strong>session</strong></a> </li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositorysortable_fields"># <code>leadr.auth.services.repositories.APIKeyRepository.SORTABLE_FIELDS</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositorysortable_fields" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">SORTABLE_FIELDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">}</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesapikeyrepositorycount_active_by_account"># <code>leadr.auth.services.repositories.APIKeyRepository.count_active_by_account</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositorycount_active_by_account" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">count_active_by_account</span><span class="p">(</span><span class="n">account_id</span><span class="p">)</span>
</code></pre></div>
<p>Count active, non-deleted API keys for a given account.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a></code>)  The account ID to count keys for.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#int">int</a></code>  Number of active, non-deleted API keys for the account.</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositorycreate"># <code>leadr.auth.services.repositories.APIKeyRepository.create</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositorycreate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Create a new entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity to create</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Created domain entity with refreshed data</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositorydelete"># <code>leadr.auth.services.repositories.APIKeyRepository.delete</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositorydelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft delete an entity by setting its deleted_at timestamp.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  ID of entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositoryfilter"># <code>leadr.auth.services.repositories.APIKeyRepository.filter</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositoryfilter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">filter</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">active_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>Filter API keys by account and optional criteria with pagination.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Optional account ID to filter by. If None, returns all API keys
  (superadmin use case). Regular users should always pass account_id.</li>
<li><strong>status</strong> (<code><a href="#leadr.auth.domain.api_key.APIKeyStatus">APIKeyStatus</a> | None</code>)  Optional APIKeyStatus to filter by</li>
<li><strong>active_only</strong> (<code><a href="#bool">bool</a></code>)  If True, only return ACTIVE keys (bool)</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
<li>**<strong>kwargs</strong> (<code><a href="#typing.Any">Any</a></code>)  Additional filter parameters (reserved for future use)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="#leadr.auth.domain.api_key.APIKey">APIKey</a>]</code>  PaginatedResult containing API keys.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If sort field is not in SORTABLE_FIELDS</li>
<li><code><a href="#CursorValidationError">CursorValidationError</a></code>  If cursor is invalid or state doesn't match</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositoryget_by_id"># <code>leadr.auth.services.repositories.APIKeyRepository.get_by_id</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositoryget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">include_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  Entity ID to retrieve</li>
<li><strong>include_deleted</strong> (<code><a href="#bool">bool</a></code>)  If True, include soft-deleted entities. Defaults to False.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a> | None</code>  Domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesapikeyrepositoryget_by_prefix"># <code>leadr.auth.services.repositories.APIKeyRepository.get_by_prefix</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositoryget_by_prefix" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_prefix</span><span class="p">(</span><span class="n">key_prefix</span><span class="p">)</span>
</code></pre></div>
<p>Get API key by prefix, returns None if not found or soft-deleted.</p>
<h6 id="leadrauthservicesrepositoriesapikeyrepositorysession"># <code>leadr.auth.services.repositories.APIKeyRepository.session</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositorysession" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesapikeyrepositoryupdate"># <code>leadr.auth.services.repositories.APIKeyRepository.update</code><a class="headerlink" href="#leadrauthservicesrepositoriesapikeyrepositoryupdate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Update an existing entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity with updated data</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Updated domain entity with refreshed data</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepository"><code>leadr.auth.services.repositories.DeviceRepository</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepository" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.repositories.BaseRepository">BaseRepository</a>[<a href="./#leadr.auth.domain.device.Device">Device</a>, <a href="./#leadr.auth.adapters.orm.DeviceORM">DeviceORM</a>]</code></p>
<p>Device repository for managing device persistence.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository.create"><strong>create</strong></a>  Create a new entity in the database.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository.delete"><strong>delete</strong></a>  Soft delete an entity by setting its deleted_at timestamp.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository.filter"><strong>filter</strong></a>  Filter devices by account and optional criteria with pagination.</li>
<li><a href="#leadr.auth.services.repositories.DeviceRepository.get_by_game_and_fingerprint"><strong>get_by_game_and_fingerprint</strong></a>  Get device by game_id and client_fingerprint, returns None if not found or soft-deleted.</li>
<li><a href="#leadr.auth.services.repositories.DeviceRepository.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository.update"><strong>update</strong></a>  Update an existing entity in the database.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.repositories.DeviceRepository.SORTABLE_FIELDS"><strong>SORTABLE_FIELDS</strong></a> </li>
<li><a href="./#leadr.auth.services.repositories.DeviceRepository.session"><strong>session</strong></a> </li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositorysortable_fields"># <code>leadr.auth.services.repositories.DeviceRepository.SORTABLE_FIELDS</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositorysortable_fields" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">SORTABLE_FIELDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;platform&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">}</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesdevicerepositorycreate"># <code>leadr.auth.services.repositories.DeviceRepository.create</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositorycreate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Create a new entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity to create</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Created domain entity with refreshed data</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositorydelete"># <code>leadr.auth.services.repositories.DeviceRepository.delete</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositorydelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft delete an entity by setting its deleted_at timestamp.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  ID of entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositoryfilter"># <code>leadr.auth.services.repositories.DeviceRepository.filter</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositoryfilter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">filter</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">game_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>Filter devices by account and optional criteria with pagination.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Optional account ID to filter by. If None, returns all devices
  (superadmin use case). Regular users should always pass account_id.</li>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a> | None</code>)  Optional game ID to filter by</li>
<li><strong>status</strong> (<code><a href="#str">str</a> | None</code>)  Optional status string to filter by (active, banned, suspended)</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
<li>**<strong>kwargs</strong> (<code><a href="#typing.Any">Any</a></code>)  Additional filter parameters (reserved for future use)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="./#leadr.auth.domain.device.Device">Device</a>]</code>  PaginatedResult containing devices.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If sort field is not in SORTABLE_FIELDS</li>
<li><code><a href="#CursorValidationError">CursorValidationError</a></code>  If cursor is invalid or state doesn't match</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositoryget_by_game_and_fingerprint"># <code>leadr.auth.services.repositories.DeviceRepository.get_by_game_and_fingerprint</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositoryget_by_game_and_fingerprint" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_game_and_fingerprint</span><span class="p">(</span><span class="n">game_id</span><span class="p">,</span> <span class="n">client_fingerprint</span><span class="p">)</span>
</code></pre></div>
<p>Get device by game_id and client_fingerprint, returns None if not found or soft-deleted.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>game_id</strong> (<code><a href="../common/#leadr.common.domain.ids.GameID">GameID</a></code>)  The game ID</li>
<li><strong>client_fingerprint</strong> (<code><a href="#str">str</a></code>)  The client-generated SHA256 device fingerprint</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.Device">Device</a> | None</code>  Device if found and not deleted, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositoryget_by_id"># <code>leadr.auth.services.repositories.DeviceRepository.get_by_id</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositoryget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">include_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  Entity ID to retrieve</li>
<li><strong>include_deleted</strong> (<code><a href="#bool">bool</a></code>)  If True, include soft-deleted entities. Defaults to False.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a> | None</code>  Domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicerepositorysession"># <code>leadr.auth.services.repositories.DeviceRepository.session</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositorysession" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesdevicerepositoryupdate"># <code>leadr.auth.services.repositories.DeviceRepository.update</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicerepositoryupdate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Update an existing entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity with updated data</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Updated domain entity with refreshed data</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepository"><code>leadr.auth.services.repositories.DeviceSessionRepository</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepository" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.repositories.BaseRepository">BaseRepository</a>[<a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a>, <a href="./#leadr.auth.adapters.orm.DeviceSessionORM">DeviceSessionORM</a>]</code></p>
<p>DeviceSession repository for managing device session persistence.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository.create"><strong>create</strong></a>  Create a new entity in the database.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository.delete"><strong>delete</strong></a>  Soft delete an entity by setting its deleted_at timestamp.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository.filter"><strong>filter</strong></a>  Filter sessions by account and optional criteria with pagination.</li>
<li><a href="#leadr.auth.services.repositories.DeviceSessionRepository.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.repositories.DeviceSessionRepository.get_by_refresh_token_hash"><strong>get_by_refresh_token_hash</strong></a>  Get session by refresh token hash, returns None if not found or soft-deleted.</li>
<li><a href="#leadr.auth.services.repositories.DeviceSessionRepository.get_by_token_hash"><strong>get_by_token_hash</strong></a>  Get session by access token hash, returns None if not found or soft-deleted.</li>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository.update"><strong>update</strong></a>  Update an existing entity in the database.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="#leadr.auth.services.repositories.DeviceSessionRepository.SORTABLE_FIELDS"><strong>SORTABLE_FIELDS</strong></a> </li>
<li><a href="./#leadr.auth.services.repositories.DeviceSessionRepository.session"><strong>session</strong></a> </li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositorysortable_fields"># <code>leadr.auth.services.repositories.DeviceSessionRepository.SORTABLE_FIELDS</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositorysortable_fields" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">SORTABLE_FIELDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">}</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositorycreate"># <code>leadr.auth.services.repositories.DeviceSessionRepository.create</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositorycreate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Create a new entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity to create</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Created domain entity with refreshed data</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositorydelete"># <code>leadr.auth.services.repositories.DeviceSessionRepository.delete</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositorydelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft delete an entity by setting its deleted_at timestamp.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  ID of entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositoryfilter"># <code>leadr.auth.services.repositories.DeviceSessionRepository.filter</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositoryfilter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">filter</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">device_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pagination</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>Filter sessions by account and optional criteria with pagination.</p>
<p>Note: account_id is used for multi-tenant safety via JOIN with devices table.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  Optional account ID to filter by. If None, returns all sessions
  (superadmin use case). Regular users should always pass account_id.</li>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a> | None</code>)  Optional device ID to filter by</li>
<li><strong>pagination</strong> (<code><a href="../common/#leadr.common.api.pagination.PaginationParams">PaginationParams</a></code>)  Pagination parameters (required).</li>
<li>**<strong>kwargs</strong> (<code><a href="#typing.Any">Any</a></code>)  Additional filter parameters (reserved for future use)</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#leadr.common.domain.pagination_result.PaginatedResult">PaginatedResult</a>[<a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a>]</code>  PaginatedResult containing device sessions.</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If sort field is not in SORTABLE_FIELDS</li>
<li><code><a href="#CursorValidationError">CursorValidationError</a></code>  If cursor is invalid or state doesn't match</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositoryget_by_id"># <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_id</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">include_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  Entity ID to retrieve</li>
<li><strong>include_deleted</strong> (<code><a href="#bool">bool</a></code>)  If True, include soft-deleted entities. Defaults to False.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a> | None</code>  Domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositoryget_by_refresh_token_hash"># <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_refresh_token_hash</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_refresh_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_refresh_token_hash</span><span class="p">(</span><span class="n">refresh_token_hash</span><span class="p">)</span>
</code></pre></div>
<p>Get session by refresh token hash, returns None if not found or soft-deleted.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>refresh_token_hash</strong> (<code><a href="#str">str</a></code>)  The hashed refresh token</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a> | None</code>  DeviceSession if found and not deleted, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositoryget_by_token_hash"># <code>leadr.auth.services.repositories.DeviceSessionRepository.get_by_token_hash</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositoryget_by_token_hash" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_token_hash</span><span class="p">(</span><span class="n">token_hash</span><span class="p">)</span>
</code></pre></div>
<p>Get session by access token hash, returns None if not found or soft-deleted.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>token_hash</strong> (<code><a href="#str">str</a></code>)  The hashed access token</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.device.DeviceSession">DeviceSession</a> | None</code>  DeviceSession if found and not deleted, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositorysession"># <code>leadr.auth.services.repositories.DeviceSessionRepository.session</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositorysession" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesdevicesessionrepositoryupdate"># <code>leadr.auth.services.repositories.DeviceSessionRepository.update</code><a class="headerlink" href="#leadrauthservicesrepositoriesdevicesessionrepositoryupdate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Update an existing entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity with updated data</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Updated domain entity with refreshed data</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepository"><code>leadr.auth.services.repositories.NonceRepository</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepository" title="Permanent link">&para;</a></h6>
<p>Bases: <code><a href="../common/#leadr.common.repositories.BaseRepository">BaseRepository</a>[<a href="./#leadr.auth.domain.nonce.Nonce">Nonce</a>, <a href="./#leadr.auth.adapters.orm.NonceORM">NonceORM</a>]</code></p>
<p>Nonce repository for managing nonce persistence.</p>
<p><strong>Functions:</strong></p>
<ul>
<li><a href="#leadr.auth.services.repositories.NonceRepository.cleanup_expired_nonces"><strong>cleanup_expired_nonces</strong></a>  Delete expired nonces older than specified time.</li>
<li><a href="./#leadr.auth.services.repositories.NonceRepository.create"><strong>create</strong></a>  Create a new entity in the database.</li>
<li><a href="./#leadr.auth.services.repositories.NonceRepository.delete"><strong>delete</strong></a>  Soft delete an entity by setting its deleted_at timestamp.</li>
<li><a href="./#leadr.auth.services.repositories.NonceRepository.filter"><strong>filter</strong></a>  Filter nonces by account and optional criteria.</li>
<li><a href="#leadr.auth.services.repositories.NonceRepository.get_by_id"><strong>get_by_id</strong></a>  Get an entity by its ID.</li>
<li><a href="#leadr.auth.services.repositories.NonceRepository.get_by_nonce_value"><strong>get_by_nonce_value</strong></a>  Get nonce by nonce_value, returns None if not found or soft-deleted.</li>
<li><a href="./#leadr.auth.services.repositories.NonceRepository.update"><strong>update</strong></a>  Update an existing entity in the database.</li>
</ul>
<p><strong>Attributes:</strong></p>
<ul>
<li><a href="./#leadr.auth.services.repositories.NonceRepository.session"><strong>session</strong></a> </li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositorycleanup_expired_nonces"># <code>leadr.auth.services.repositories.NonceRepository.cleanup_expired_nonces</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositorycleanup_expired_nonces" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">cleanup_expired_nonces</span><span class="p">(</span><span class="n">before</span><span class="p">)</span>
</code></pre></div>
<p>Delete expired nonces older than specified time.</p>
<p>Only deletes nonces with PENDING status. Used and expired nonces
are kept for audit/debugging purposes.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>before</strong> (<code><a href="#datetime.datetime">datetime</a></code>)  Delete nonces that expired before this datetime</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#int">int</a></code>  Number of nonces deleted</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositorycreate"># <code>leadr.auth.services.repositories.NonceRepository.create</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositorycreate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Create a new entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity to create</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Created domain entity with refreshed data</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositorydelete"># <code>leadr.auth.services.repositories.NonceRepository.delete</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositorydelete" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">delete</span><span class="p">(</span><span class="n">entity_id</span><span class="p">)</span>
</code></pre></div>
<p>Soft delete an entity by setting its deleted_at timestamp.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  ID of entity to delete</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositoryfilter"># <code>leadr.auth.services.repositories.NonceRepository.filter</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositoryfilter" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="nb">filter</span><span class="p">(</span><span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">device_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<p>Filter nonces by account and optional criteria.</p>
<p>Note: account_id is used for multi-tenant safety via JOIN with devices table.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>account_id</strong> (<code><a href="../common/#leadr.common.domain.ids.AccountID">AccountID</a> | None</code>)  REQUIRED - Account ID to filter by (multi-tenant safety)</li>
<li><strong>device_id</strong> (<code><a href="../common/#leadr.common.domain.ids.DeviceID">DeviceID</a> | None</code>)  Optional device ID to filter by</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="#list">list</a>[<a href="./#leadr.auth.domain.nonce.Nonce">Nonce</a>]</code>  List of nonces matching the filter criteria</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="#ValueError">ValueError</a></code>  If account_id is None (required for multi-tenant safety)</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositoryget_by_id"># <code>leadr.auth.services.repositories.NonceRepository.get_by_id</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositoryget_by_id" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_id</span><span class="p">(</span><span class="n">entity_id</span><span class="p">,</span> <span class="n">include_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Get an entity by its ID.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity_id</strong> (<code><a href="#pydantic.UUID4">UUID4</a> | <a href="../common/#leadr.common.domain.ids.PrefixedID">PrefixedID</a></code>)  Entity ID to retrieve</li>
<li><strong>include_deleted</strong> (<code><a href="#bool">bool</a></code>)  If True, include soft-deleted entities. Defaults to False.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a> | None</code>  Domain entity if found, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositoryget_by_nonce_value"># <code>leadr.auth.services.repositories.NonceRepository.get_by_nonce_value</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositoryget_by_nonce_value" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">get_by_nonce_value</span><span class="p">(</span><span class="n">nonce_value</span><span class="p">)</span>
</code></pre></div>
<p>Get nonce by nonce_value, returns None if not found or soft-deleted.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>nonce_value</strong> (<code><a href="#str">str</a></code>)  The unique nonce value to search for</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="./#leadr.auth.domain.nonce.Nonce">Nonce</a> | None</code>  Nonce if found and not deleted, None otherwise</li>
</ul>
<h6 id="leadrauthservicesrepositoriesnoncerepositorysession"># <code>leadr.auth.services.repositories.NonceRepository.session</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositorysession" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">session</span> <span class="o">=</span> <span class="n">session</span>
</code></pre></div>
<h6 id="leadrauthservicesrepositoriesnoncerepositoryupdate"># <code>leadr.auth.services.repositories.NonceRepository.update</code><a class="headerlink" href="#leadrauthservicesrepositoriesnoncerepositoryupdate" title="Permanent link">&para;</a></h6>
<div class="highlight"><pre><span></span><code><span class="n">update</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</code></pre></div>
<p>Update an existing entity in the database.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><strong>entity</strong> (<code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>)  Domain entity with updated data</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.repositories.DomainEntityT">DomainEntityT</a></code>  Updated domain entity with refreshed data</li>
</ul>
<p><strong>Raises:</strong></p>
<ul>
<li><code><a href="../common/#leadr.common.domain.exceptions.EntityNotFoundError">EntityNotFoundError</a></code>  If entity is not found</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://discord.gg/RMUukcAxSZ" target="_blank" rel="noopener" title="LEADR Discord Server" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://bsky.app/profile/leadr-official.bsky.social" target="_blank" rel="noopener" title="LEADR on Bluesky" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M407.8 294.7c-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3M288 227.1c-26.1-50.7-97.1-145.2-163.1-191.8C61.6-9.4 37.5-1.7 21.6 5.5 3.3 13.8 0 41.9 0 58.4S9.1 194 15 213.9c19.5 65.7 89.1 87.9 153.2 80.7 3.3-.5 6.6-.9 10-1.4-3.3.5-6.6 1-10 1.4-93.9 14-177.3 48.2-67.9 169.9C220.6 589.1 265.1 437.8 288 361.1c22.9 76.7 49.2 222.5 185.6 103.4 102.4-103.4 28.1-156-65.8-169.9-3.3-.4-6.7-.8-10-1.3 3.4.4 6.7.9 10 1.3 64.1 7.1 133.6-15.1 153.2-80.7C566.9 194 576 75 576 58.4s-3.3-44.7-21.6-52.9c-15.8-7.1-40-14.9-103.2 29.8C385.1 81.9 314.1 176.4 288 227.1"/></svg>
    </a>
  
    
    
      
    
    
    
    <a href="https://mastodon.social/@LEADR_official" target="_blank" rel="noopener me" title="LEADR on Mastodon" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.reddit.com/r/LEADR/" target="_blank" rel="noopener" title="LEADR on Reddit" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256m349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6 11.8-39.3 28.5-39.3 31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/LEADR-official" target="_blank" rel="noopener" title="LEADR on GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.instant", "navigation.sections", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>